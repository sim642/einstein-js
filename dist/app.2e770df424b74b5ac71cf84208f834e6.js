webpackJsonp(["app"],{"+bsQ":function(t,n,e){t.exports=e.p+"icons/original/large/large-c1.cf85c5eb9acce5553a85122616f8f7f3.png"},"/BPU":function(t,n,e){t.exports=e.p+"icons/original/large/large-b3.f56ee08f09215c9501370c94a97d5da1.png"},"1Tjk":function(t,n,e){t.exports=e.p+"icons/original/large/large-d5.93f0c9556e78c0b2b5ab5a7bb293e22c.png"},"2+Yo":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=function(){function t(t,n,e,o){this.row1=t,this.variant1=n,this.row2=e,this.variant2=o}return t.prototype.applyTo=function(t){for(var n=!1,e=function(e,o,i,r,a){var s=e>=1&&t.isPossible(r,e-1,a),l=e<t.cols-1&&t.isPossible(r,e+1,a);s||l||!t.isPossible(o,e,i)||(t.remove(o,e,i),n=!0)},o=0;o<t.cols;o++)e(o,this.row1,this.variant1,this.row2,this.variant2),e(o,this.row2,this.variant2,this.row1,this.variant1);return n&&this.applyTo(t),n},t.prototype.getType=function(){return 1},t}();n.AdjacentHint=i;var r=function(){function t(){}return t.prototype.supports=function(t){return t.rows>=1&&t.cols>=2},t.prototype.random=function(t){var n,e=o.random(0,t.rows-1),r=o.random(0,t.cols-1),a=o.random(0,t.rows-1);n=0==r?1:r==t.cols-1?-1:1==o.random(0,1)?1:-1;var s=r+n;return new i(e,t.get(e,r),a,t.get(a,s))},t}();n.AdjacentHintFactory=r},"20Ho":function(t,n,e){t.exports=e.p+"icons/original/small/small-c6.3a75bba0385dcc7f6e7074d7873ff81e.png"},"27d+":function(t,n,e){t.exports=e.p+"icons/original/small/small-b1.376d5df50dd14a86919d705382c89060.png"},"2JYO":function(t,n){},"32Ag":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=function(){function t(){this.reset()}return t.prototype.start=function(){null===this.startTime&&(this.startTime=o.now())},t.prototype.pause=function(){var t=this.getRunningTime();null!==t&&(this.totalTime+=t,this.startTime=null)},t.prototype.getRunningTime=function(){return null!==this.startTime?o.now()-this.startTime:null},t.prototype.getTotalTime=function(){return this.totalTime+(this.getRunningTime()||0)},t.prototype.reset=function(){this.totalTime=0,this.startTime=null},t}();n.Timer=i},"4I4A":function(t,n,e){t.exports=e.p+"icons/original/large/large-a3.2f39989763b3636f69b02ba2b53fbe44.png"},"4mO9":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("ATbC");!function(t){function n(t){return o.db.wasm.get(t,function(t){return console.log("wasm from db:"),console.debug(t),void 0!==t?t.module:void 0})}function e(t,n){var e={url:t,module:n};console.log("wasm to db:"),console.debug(e),o.db.transaction("rw",o.db.wasm,function(){return o.db.wasm.clear().then(function(){return o.db.wasm.put(e)})}).then(function(){return console.log("wasm cached")})}t.getCached=n,t.cache=e}(n.Wasm||(n.Wasm={}))},"5AqA":function(t,n,e){"use strict";function o(t){var n=t/1e3,e=Math.floor(n)%60,o=Math.floor(n/60)%60,r=Math.floor(n/60/60);return i.padStart(r.toString(),2,"0")+":"+i.padStart(o.toString(),2,"0")+":"+i.padStart(e.toString(),2,"0")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("M4fF");n.formatDuration=o},"6RO1":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("gYeE"),a=e("S+P+"),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.supports=function(e){return t.prototype.supports.call(this,e)&&n.hintFactory.supports(e)},n.prototype.generate=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,this.delegate.generate(t,e)];case 1:return i=o.sent(),[2,n.generateExtraHints(t,e,i)]}})})},n.generateExtraHints=function(t,e,o){o=i.clone(o);var r=Math.round(t.extraHintsPercent/100*o.length);console.debug("Adding extra hints: "+r);for(var a=0;a<r;a++){var s=n.hintFactory.random(e);o.push(s)}return o},n.hintFactory=new r.RandomHintFactory,n}(a.DelegateHintsGenerator);n.ExtraHintsGenerator=s},"6b+j":function(t,n,e){t.exports=e.p+"icons/original/small/small-b2.1e0362bc91fe36a746482f52eea6cd78.png"},"7PiI":function(t,n,e){function o(t){return e(i(t))}function i(t){var n=r[t];if(!(n+1))throw new Error("Cannot find module '"+t+"'.");return n}var r={"./icons/original/hint-adjacent.png":"Qj03","./icons/original/hint-between.png":"IJZH","./icons/original/hint-direction.png":"Op0r","./icons/original/hint-tile.png":"qwlA","./icons/original/large/large-a1.png":"QP0S","./icons/original/large/large-a2.png":"NhLW","./icons/original/large/large-a3.png":"4I4A","./icons/original/large/large-a4.png":"ytF8","./icons/original/large/large-a5.png":"TeOI","./icons/original/large/large-a6.png":"N7YA","./icons/original/large/large-b1.png":"UBU4","./icons/original/large/large-b2.png":"w35o","./icons/original/large/large-b3.png":"/BPU","./icons/original/large/large-b4.png":"BRDO","./icons/original/large/large-b5.png":"YKaq","./icons/original/large/large-b6.png":"mPGt","./icons/original/large/large-c1.png":"+bsQ","./icons/original/large/large-c2.png":"oXIE","./icons/original/large/large-c3.png":"XjqR","./icons/original/large/large-c4.png":"mGEC","./icons/original/large/large-c5.png":"rxGk","./icons/original/large/large-c6.png":"oJmq","./icons/original/large/large-d1.png":"cgSM","./icons/original/large/large-d2.png":"oD70","./icons/original/large/large-d3.png":"PWPq","./icons/original/large/large-d4.png":"D3DT","./icons/original/large/large-d5.png":"1Tjk","./icons/original/large/large-d6.png":"q9gS","./icons/original/large/large-e1.png":"ZvN9","./icons/original/large/large-e2.png":"dcOB","./icons/original/large/large-e3.png":"91Mv","./icons/original/large/large-e4.png":"SAo3","./icons/original/large/large-e5.png":"hli+","./icons/original/large/large-e6.png":"YFuY","./icons/original/large/large-f1.png":"ZNit","./icons/original/large/large-f2.png":"zU+P","./icons/original/large/large-f3.png":"gVWB","./icons/original/large/large-f4.png":"yFfv","./icons/original/large/large-f5.png":"t+UZ","./icons/original/large/large-f6.png":"dSmd","./icons/original/small/small-a1.png":"qpPT","./icons/original/small/small-a2.png":"nVYH","./icons/original/small/small-a3.png":"x5BK","./icons/original/small/small-a4.png":"Htyr","./icons/original/small/small-a5.png":"uVvn","./icons/original/small/small-a6.png":"pqg3","./icons/original/small/small-b1.png":"27d+","./icons/original/small/small-b2.png":"6b+j","./icons/original/small/small-b3.png":"RUP8","./icons/original/small/small-b4.png":"romA","./icons/original/small/small-b5.png":"fZOX","./icons/original/small/small-b6.png":"Z31m","./icons/original/small/small-c1.png":"kbZK","./icons/original/small/small-c2.png":"gBE2","./icons/original/small/small-c3.png":"mcFw","./icons/original/small/small-c4.png":"90E6","./icons/original/small/small-c5.png":"AQov","./icons/original/small/small-c6.png":"20Ho","./icons/original/small/small-d1.png":"C7Cf","./icons/original/small/small-d2.png":"xDob","./icons/original/small/small-d3.png":"Dvz/","./icons/original/small/small-d4.png":"iXl1","./icons/original/small/small-d5.png":"d6hy","./icons/original/small/small-d6.png":"hFVX","./icons/original/small/small-e1.png":"SCQN","./icons/original/small/small-e2.png":"uLm8","./icons/original/small/small-e3.png":"E9CV","./icons/original/small/small-e4.png":"XnXw","./icons/original/small/small-e5.png":"P2+R","./icons/original/small/small-e6.png":"lgdU","./icons/original/small/small-f1.png":"voAe","./icons/original/small/small-f2.png":"xFS2","./icons/original/small/small-f3.png":"Hoba","./icons/original/small/small-f4.png":"yNUn","./icons/original/small/small-f5.png":"MjYr","./icons/original/small/small-f6.png":"QfaF","./icons/original/tile.png":"FslU","./rain-light.png":"8OvN","./rain.png":"kCQN"};o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id="7PiI"},"7Pv6":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("dlzC"),r=function(t){function n(){var n=t.call(this,"EinsteinDatabase")||this;return n.version(1).stores({times:"++, [rows+cols+extraHintsPercent]"}),n.version(2).stores({config:"key"}),n.version(3).stores({counts:"[rows+cols+extraHintsPercent]"}),n.version(4).stores({countsTmp:"[rows+cols+extraHintsPercent]"}).upgrade(function(t){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(e){switch(e.label){case 0:return[4,t.table("counts").toArray()];case 1:return n=e.sent(),[4,t.table("countsTmp").bulkAdd(n)];case 2:return e.sent(),[2]}})})}),n.version(5).stores({counts:null}),n.version(6).stores({counts:"++id, [rows+cols+extraHintsPercent]"}).upgrade(function(t){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(e){switch(e.label){case 0:return[4,t.table("countsTmp").toArray()];case 1:return n=e.sent(),[4,t.table("counts").bulkAdd(n)];case 2:return e.sent(),[2]}})})}),n.version(7).stores({countsTmp:null}),n.version(8).stores({times:"++, [rows+cols+extraHintsPercent+difficulty]",counts:"++id, [rows+cols+extraHintsPercent+difficulty]"}).upgrade(function(t){return i.default.Promise.all([t.table("times").toCollection().modify({difficulty:"normal"}),t.table("config").update("options",{"value.difficulty":"normal"}),t.table("counts").toCollection().modify({difficulty:"normal"})])}),n.version(9).stores({wasm:"url"}),n}return o.__extends(n,t),n}(i.default);n.EinsteinDatabase=r},"7Stf":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("ATbC");!function(t){function n(t){return r.db.counts.get(o.__assign({},t),function(n){if(void 0===n){return o.__assign({},t,{solved:0,solvedCheated:0,over:0})}return n})}function e(){return r.db.counts.toArray().then(function(t){return i.orderBy(t,function(t){return t.solved+t.solvedCheated+t.over},["desc"])})}function a(t,e){return r.db.transaction("rw",r.db.counts,function(){return n(t).then(function(t){var n=i.merge(t,(o={},o[e]=t[e]+1,o));return r.db.counts.put(n);var o})})}t.get=n,t.getTopCounts=e,t.increase=a}(n.Counts||(n.Counts={}))},"7YgM":function(t,n){t.exports={name:"einstein",version:"2.0.0",description:"Einstein Puzzle 2.0 by Flowix Games ported to the web",author:"Simmo Saan",keywords:["typescript","webpack","preact","lodash","game","puzzle-game","web"],repository:{type:"git",url:"git+https://github.com/sim642/einstein-js.git"},bugs:{url:"https://github.com/sim642/einstein-js/issues"},homepage:"http://einstein.sim642.eu",scripts:{"build:dev":"webpack --env=dev --progress --profile --colors","build:prod":"webpack --env=prod --progress --profile --colors",coverage:"nyc --reporter=lcov --reporter=text npm test",deploy:"git push -f origin `git subtree split --prefix dist 2> /dev/null`:gh-pages",test:"mocha-webpack","watch:dev":"webpack --env=dev --progress --profile --colors --watch","watch:test":"mocha-webpack --watch"},dependencies:{classnames:"^2.2.5",dexie:"^3.0.0-alpha.3",lodash:"^4.17.10",preact:"^8.2.1",tslib:"^1.9.3",z3em:"^0.0.5"},devDependencies:{"@types/chai":"^4.1.4","@types/lodash":"^4.14.112","@types/mocha":"^5.2.5","@types/webassembly-js-api":"0.0.1","@types/webpack-env":"^1.13.0",autoprefixer:"^7.1.2",chai:"^4.1.2","chi-squared":"^1.1.0","chunk-manifest-webpack-plugin":"1.1.0","clean-webpack-plugin":"^0.1.16","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.4","css-mqpacker":"^6.0.1","extract-text-webpack-plugin":"^3.0.0","file-loader":"^0.11.2","html-webpack-plugin":"^2.29.0","istanbul-instrumenter-loader":"^3.0.0",less:"^2.7.2","less-loader":"^4.0.4",mocha:"^5.2.0","mocha-webpack":"^1.1.0",nyc:"^12.0.2","offline-plugin":"^4.8.1","postcss-loader":"^2.0.6","style-loader":"^0.18.2","ts-loader":"^2.2.0",typescript:"^2.4.2",webpack:"^3.0.0","webpack-chunk-hash":"^0.4.0","webpack-merge":"^4.1.0","webpack-node-externals":"^1.6.0"},nyc:{extension:[".tsx",".ts",".jsx"],instrument:!1,sourceMap:!1}}},"8OvN":function(t,n,e){t.exports=e.p+"./rain-light.272fb79b7c99a89b9891f2d596aabecc.png"},"90E6":function(t,n,e){t.exports=e.p+"icons/original/small/small-c4.bc367c0d574d1037f7983b61b94776bf.png"},"91Mv":function(t,n,e){t.exports=e.p+"icons/original/large/large-e3.24b0bdf46ccfa5fae6d324e4b08c9a31.png"},"99qC":function(t,n){},"9OCd":function(t,n,e){"use strict";function o(t){return a.sum(t)/t.length}function i(t,n){return void 0===n&&(n=o(t)),a.sumBy(t,function(t){return Math.pow(t-n,2)})/t.length}function r(t,n){return void 0===n&&(n=o(t)),Math.sqrt(i(t,n))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("M4fF");n.mean=o,n.variance=i,n.stdDev=r},AQov:function(t,n,e){t.exports=e.p+"icons/original/small/small-c5.9254afe6e7940800db50da758cb752df.png"},ATbC:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("7Pv6");n.db=new o.EinsteinDatabase},Agl8:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){var n=this;this.callback=t,this.onBeforeUnload=function(t){var e=n.callback();return null!==e?t.returnValue=e:void 0}}return t.prototype.add=function(){window.addEventListener("beforeunload",this.onBeforeUnload)},t.prototype.remove=function(){window.removeEventListener("beforeunload",this.onBeforeUnload)},t}();n.MessageUnloadListener=o},BRDO:function(t,n,e){t.exports=e.p+"icons/original/large/large-b4.cde289fd73095da992ec76470fcaf001.png"},C7Cf:function(t,n,e){t.exports=e.p+"icons/original/small/small-d1.4623124355805891864ed2e7f2bec09a.png"},CBd9:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("bWR4"),a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.full=function(t){return new n(i.times(t.rows,function(n){return i.times(t.cols,function(n){return i.times(t.cols,i.constant(!0))})}),t)},n.numberVariants=function(t,e){return new n(i.map(t,function(t){return i.map(t,function(n){for(var e=i.times(t.length,i.constant(!1)),o=0,r=n;o<r.length;o++){e[r[o]]=!0}return e})}),e)},n.prototype.remove=function(t,n,e){this.get(t,n)[e]&&(this.get(t,n)[e]=!1,this.pruneSingles(t))},n.prototype.set=function(t,n,e){for(var o=0;o<this.variants;o++)this.get(t,n)[o]=!1;for(var i=0;i<this.cols;i++)this.get(t,i)[e]=!1;this.get(t,n)[e]=!0,this.pruneSingles(t)},n.prototype.isPossible=function(t,n,e){return this.get(t,n)[e]},n.prototype.count=function(t,n){return i.sumBy(this.get(t,n),function(t){return t?1:0})},n.prototype.isSingle=function(t,n){return 1==this.count(t,n)},n.prototype.getSingle=function(t,n){return i.findIndex(this.get(t,n))},n.prototype.pruneSingles=function(t){for(var n=i.times(this.cols,i.constant(0)),e=i.times(this.variants,i.constant(0)),o=i.times(this.cols,i.constant(0)),r=i.times(this.variants,i.constant(0)),a=0;a<this.cols;a++)for(var s=0;s<this.variants;s++)this.get(t,a)[s]&&(n[a]++,e[s]++,o[a]=s,r[s]=a);for(var l=!1,a=0;a<this.cols;a++)if(1==n[a]&&1!=e[o[a]]){for(var s=o[a],c=0;c<this.cols;c++)c!=a&&(this.get(t,c)[s]=!1);l=!0}for(var s=0;s<this.variants;s++)if(1==e[s]&&1!=n[r[s]]){for(var a=r[s],u=0;u<this.variants;u++)u!=s&&(this.get(t,a)[u]=!1);l=!0}l&&this.pruneSingles(t)},n.prototype.applyHint=function(t){return t.applyTo(this)},n.prototype.applyHints=function(t){var n,e=!1;do{n=!1;for(var o=0,i=t;o<i.length;o++){var r=i[o];this.applyHint(r)&&(e=n=!0)}}while(n);return e},n.prototype.applySingleHint=function(t){for(var n=0,e=t;n<e.length;n++){var o=e[n];if(this.applyHint(o))return!0}return!1},n.prototype.isSolved=function(t){return this.isSingleBoard()&&this.contains(t)},n.prototype.isSingleBoard=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.cols;n++)if(!this.isSingle(t,n))return!1;return!0},n.prototype.contains=function(t){for(var n=0;n<this.rows;n++)for(var e=0;e<this.cols;e++)if(!this.isPossible(n,e,t.get(n,e)))return!1;return!0},n.prototype.applySingleBoard=function(t){if(this.isSolved(t))return!1;for(var n=0;n<this.rows;n++)for(var e=0;e<this.cols;e++)for(var o=t.get(n,e),i=0;i<this.variants;i++)this.get(n,e)[i]=i==o;return!0},n}(r.Board);n.MultiBoard=a},D3DT:function(t,n,e){t.exports=e.p+"icons/original/large/large-d4.08e21c2cf4f787a7913cc84db58777ec.png"},DAXx:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=function(){function t(t,n,e,o,i,r){this.row1=t,this.variant1=n,this.rowMiddle=e,this.variantMiddle=o,this.row2=i,this.variant2=r}return t.prototype.applyTo=function(t){var n=!1;t.isPossible(this.rowMiddle,0,this.variantMiddle)&&(t.remove(this.rowMiddle,0,this.variantMiddle),n=!0),t.isPossible(this.rowMiddle,t.cols-1,this.variantMiddle)&&(t.remove(this.rowMiddle,t.cols-1,this.variantMiddle),n=!0);var e;do{e=!1;for(var o=1;o<t.cols-1;o++)t.isPossible(this.rowMiddle,o,this.variantMiddle)&&!(t.isPossible(this.row1,o-1,this.variant1)&&t.isPossible(this.row2,o+1,this.variant2)||t.isPossible(this.row2,o-1,this.variant2)&&t.isPossible(this.row1,o+1,this.variant1))&&(t.remove(this.rowMiddle,o,this.variantMiddle),e=!0);for(var o=0;o<t.cols;o++){if(t.isPossible(this.row1,o,this.variant1)){var i=o>=2&&(t.isPossible(this.rowMiddle,o-1,this.variantMiddle)&&t.isPossible(this.row2,o-2,this.variant2)),r=o<t.cols-2&&(t.isPossible(this.rowMiddle,o+1,this.variantMiddle)&&t.isPossible(this.row2,o+2,this.variant2));i||r||(t.remove(this.row1,o,this.variant1),e=!0)}if(t.isPossible(this.row2,o,this.variant2)){var i=o>=2&&(t.isPossible(this.rowMiddle,o-1,this.variantMiddle)&&t.isPossible(this.row1,o-2,this.variant1)),r=o<t.cols-2&&(t.isPossible(this.rowMiddle,o+1,this.variantMiddle)&&t.isPossible(this.row1,o+2,this.variant1));i||r||(t.remove(this.row2,o,this.variant2),e=!0)}}e&&(n=!0)}while(e);return n},t.prototype.getType=function(){return 1},t}();n.BetweenHint=i;var r=function(){function t(){}return t.prototype.supports=function(t){return t.rows>=1&&t.cols>=3},t.prototype.random=function(t){var n=o.random(0,t.rows-1),e=o.random(0,t.rows-1),r=o.random(1,t.cols-2),a=o.random(0,t.rows-1),s=1==o.random(0,1)?1:-1,l=r+s,c=r-s;return new i(n,t.get(n,l),e,t.get(e,r),a,t.get(a,c))},t}();n.BetweenHintFactory=r},"Dvz/":function(t,n,e){t.exports=e.p+"icons/original/small/small-d3.402ab38c15f0b6e6d5bf8c21c1966cac.png"},E9CV:function(t,n,e){t.exports=e.p+"icons/original/small/small-e3.158bc24007fc557a4756dcaaf638f81c.png"},FslU:function(t,n,e){t.exports=e.p+"icons/original/tile.3631d1df5b147c00992f293ab1246a12.png"},GgXB:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){this.generators=t}return t.prototype.supports=function(t){return this.generators[t.difficulty].supports(t)},t.prototype.generate=function(t,n){return this.generators[t.difficulty].generate(t,n)},t}();n.DifficultyHintsGenerator=o},HZR3:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=e("ATbC");!function(t){function n(t){return i.db.config.get(t,function(t){return void 0!==t?t.value:void 0})}function e(){return i.db.config.toArray(function(t){return o.fromPairs(o.map(t,function(t){return[t.key,t.value]}))})}function r(t,n){return i.db.config.put({key:t,value:n})}function a(t){return i.db.config.bulkPut(o.map(o.toPairs(t),function(t){return{key:t[0],value:t[1]}}))}t.getKey=n,t.get=e,t.setKey=r,t.set=a}(n.Config||(n.Config={}))},Hoba:function(t,n,e){t.exports=e.p+"icons/original/small/small-f3.5b7ae0c2d05c4e28148dc866a5094d67.png"},Htyr:function(t,n,e){t.exports=e.p+"icons/original/small/small-a4.0ef2cddeeac6822a557e42295feb1e3c.png"},HwaM:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=function(){function t(t,n,e){this.row=t,this.col=n,this.variant=e}return t.prototype.applyTo=function(t){return!t.isSingle(this.row,this.col)&&(t.set(this.row,this.col,this.variant),!0)},t.prototype.getType=function(){return 0},t}();n.OpenHint=i;var r=function(){function t(){}return t.prototype.supports=function(t){return t.rows>=1&&t.cols>=1},t.prototype.random=function(t){var n=o.random(0,t.rows-1),e=o.random(0,t.cols-1);return new i(n,e,t.get(n,e))},t}();n.OpenHintFactory=r},I4NM:function(t,n,e){"use strict";function o(t){var n=t.length;return n%2==0?(t[n/2-1]+t[n/2])/2:t[(n-1)/2]}function i(t){var n=t.length,e=n%2==0?n/2:(n+1)/2;return o(t.slice(0,e))}function r(t){var n=t.length,e=n%2==0?n/2:(n-1)/2;return o(t.slice(e))}Object.defineProperty(n,"__esModule",{value:!0}),n.median=o,n.lowerQuartile=i,n.upperQuartile=r},IJZH:function(t,n,e){t.exports=e.p+"icons/original/hint-between.4800cdbe6818a1ee91adb4003d1dc435.png"},In3e:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("rMlB");e("Jd+4"),e("uyRy");var a=e("7Stf"),s=e("vO/K"),l=e("5AqA"),c=e("fdQW"),u=e("9OCd"),p=e("I4NM"),f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return r.h("tr",null,r.h("td",{class:"highscore-i"},t.i+1+"."),r.h("td",{class:"highscore-name",title:t.item.date.toString()},t.item.name),r.h("td",{class:"highscore-time"},l.formatDuration(t.item.time)))},n}(r.Component),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return r.h("table",{class:"highscore"},r.h("thead",null,r.h("tr",null,r.h("th",{class:"highscore-i"},"#Â "),r.h("th",{class:"highscore-name"},"Name"),r.h("th",{class:"highscore-time"},"Time"))),r.h("tbody",null,void 0!==t.top10&&t.top10.length>0?i.map(t.top10,function(t,n){return r.h(f,{i:n,item:t})}):r.h("tr",{class:"highscore-text"},r.h("td",{colSpan:3},void 0!==t.top10?"No times":"Loading..."))))},n}(r.Component),h=function(t){function n(n){var e=t.call(this)||this;return e.state={counts:void 0},e.fetchCounts(n),e}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(t){this.props.options!==t.options&&this.fetchCounts(t)},n.prototype.fetchCounts=function(t){var n=this;a.Counts.get(t.options).then(function(t){n.setState({counts:t})})},n.prototype.render=function(t,n){var e=t.stats,o=n.counts;if(void 0!==e&&void 0!==o){var i=o.solved+o.solvedCheated+o.over,a=function(t){var n=t/i*100;return r.h("dd",null,t," ",r.h("small",{class:"small-number"},"(",n.toFixed(0),"%)"))};return r.h("div",{class:"stats"},r.h("dl",null,r.h("div",null,r.h("dt",null,"Games played"),r.h("dd",null,i)),r.h("dl",null,r.h("div",null,r.h("dt",null,"Solved"),a(o.solved)),r.h("div",null,r.h("dt",null,"Solved ",r.h("small",null,"w/")," cheats"),a(o.solvedCheated)),r.h("div",null,r.h("dt",null,"Over"),a(o.over))),r.h("div",null,r.h("dt",null,"Time average"),r.h("dd",null,l.formatDuration(e.mean))),r.h("dl",null,r.h("div",null,r.h("dt",null,"Std. dev."),r.h("dd",null,l.formatDuration(e.stdDev)))),r.h("div",null,r.h("dt",null,"Time quartiles")),r.h("dl",null,r.h("div",null,r.h("dt",null,"Lower ",r.h("small",null,"(25%)")),r.h("dd",null,l.formatDuration(e.lowerQuartile))),r.h("div",null,r.h("dt",null,"Median ",r.h("small",null,"(50%)")),r.h("dd",null,l.formatDuration(e.median))),r.h("div",null,r.h("dt",null,"Upper ",r.h("small",null,"(75%)")),r.h("dd",null,l.formatDuration(e.upperQuartile))),r.h("div",null,r.h("dt",null,"Max"),r.h("dd",null,l.formatDuration(e.max))))))}return null},n}(r.Component),g=function(t){function n(n){var e=t.call(this)||this;return e.state={top10:void 0,stats:void 0},e.fetchTimes(n),e}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(t){this.props.options!==t.options&&this.fetchTimes(t)},n.calculateStats=function(t){var n=i.map(t,"time"),e=u.mean(n);return{count:n.length,mean:e,stdDev:u.stdDev(n,e),lowerQuartile:p.lowerQuartile(n),median:p.median(n),upperQuartile:p.upperQuartile(n),max:i.max(n)}},n.prototype.fetchTimes=function(t){var e=this;s.Times.getSortedTimes(t.options).then(function(t){e.setState({top10:i.take(t,10),stats:n.calculateStats(t)})})},n.prototype.render=function(t,n){return r.h("div",{class:"highscore-outer"},r.h("div",{class:"highscore-title"},c.formatOptions(t.options)),r.h(d,{top10:n.top10}),r.h("hr",null),r.h(h,{options:t.options,stats:n.stats}))},n}(r.Component);n.HighscoreComponent=g},JIJM:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=function(){function t(t,n,e,o){this.row1=t,this.variant1=n,this.row2=e,this.variant2=o}return t.prototype.applyTo=function(t){for(var n=!1,e=0;e<t.cols;e++){var o=t.isPossible(this.row1,e,this.variant1),i=t.isPossible(this.row2,e,this.variant2);!o&&i?(t.remove(this.row2,e,this.variant2),n=!0):o&&!i&&(t.remove(this.row1,e,this.variant1),n=!0)}return n},t.prototype.getType=function(){return 2},t}();n.SameColumnHint=i;var r=function(){function t(){}return t.prototype.supports=function(t){return t.rows>=2&&t.cols>=1},t.prototype.random=function(t){var n,e=o.random(0,t.cols-1),r=o.random(0,t.rows-1);do{n=o.random(0,t.rows-1)}while(n==r);return new i(r,t.get(r,e),n,t.get(n,e))},t}();n.SameColumnHintFactory=r},JMRT:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("bWR4"),a=e("CBd9"),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.random=function(t){return new n(i.times(t.rows,function(n){return i.shuffle(i.range(t.cols))}),t)},n.prototype.getCol=function(t,n){for(var e=0;e<this.cols;e++)if(this.get(t,e)===n)return e;return-1},n.prototype.isSolvable=function(t){var n=a.MultiBoard.full(this.options);return n.applyHints(t),n.isSolved(this)},n}(r.Board);n.SingleBoard=s},"Jd+4":function(t,n){},JpXf:function(t,n){},KBc0:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("HW6M"),r=e("M4fF"),a=e("rMlB"),s=e("2+Yo"),l=e("DAXx"),c=e("X9r5"),u=e("JIJM"),p=e("euc6");e("TjjG");var f=e("NsAh"),d=function(t){function n(){var n=t.call(this)||this;return n.contextMenuHandler=new p.LongTouchContextMenuHandler(function(){return n.onToggle()}),n.onToggle=function(){n.setState(function(t){return{visible:!t.visible}})},n.state={visible:!0},n}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(t){this.props.hint!==t.hint&&this.setState({visible:!0})},n.prototype.renderTbody=function(t){var n=t.hint;if(n instanceof s.AdjacentHint)return a.h("tbody",null,a.h("tr",null,a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.row1,variant:n.variant1})),a.h("td",null,a.h(f.IconComponent,{name:"hint-adjacent"})),a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.row2,variant:n.variant2}))));if(n instanceof l.BetweenHint)return a.h("tbody",null,a.h("tr",null,a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.row1,variant:n.variant1})),a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.rowMiddle,variant:n.variantMiddle}),a.h("div",{class:"hint-between"},a.h(f.IconComponent,{name:"hint-between"}))),a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.row2,variant:n.variant2}))));if(n instanceof c.DirectionHint)return a.h("tbody",null,a.h("tr",null,a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.rowLeft,variant:n.variantLeft})),a.h("td",null,a.h(f.IconComponent,{name:"hint-direction"})),a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.rowRight,variant:n.variantRight}))));if(n instanceof u.SameColumnHint)return a.h("tbody",null,a.h("tr",null,a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.row1,variant:n.variant1}))),a.h("tr",null,a.h("td",null,a.h(f.LargeVariantIconComponent,{row:n.row2,variant:n.variant2}))));throw new Error("Unsupported hint type")},n.prototype.render=function(t,n){return a.h("div",o.__assign({class:i({"hint-outer":!0,"hint-visible":n.visible,"hint-hidden":!n.visible})},this.contextMenuHandler),a.h("table",{class:"hint"},this.renderTbody(t)))},n}(a.Component),h=function(t){function n(){var n=t.call(this)||this;return n.onToggle=function(t){n.setState(function(t){return{visible:!t.visible}})},n.state={visible:!0},n}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(t){this.props.hints!==t.hints&&this.setState({visible:!0})},n.prototype.render=function(t,n){return a.h("div",{class:"hints"},a.h("button",{class:"button-toggle",onClick:this.onToggle},"Toggle"),a.h("div",{class:i({"hints-horizontal":!0,"hints-visible":n.visible,"hints-hidden":!n.visible})},r.map(r.filter(t.hints,function(t){return 1===t.getType()}),function(t){return a.h(d,{hint:t})}),r.map(r.filter(t.hints,function(t){return 2===t.getType()}),function(t){return a.h(d,{hint:t})})))},n}(a.Component);n.HintsComponent=h},MZjJ:function(t,n,e){"use strict";function o(){return"object"==typeof WebAssembly}Object.defineProperty(n,"__esModule",{value:!0}),n.isWasmSupported=o},MjYr:function(t,n,e){t.exports=e.p+"icons/original/small/small-f5.72cc42d0d642b89a43f7d5dae38777d0.png"},N7YA:function(t,n,e){t.exports=e.p+"icons/original/large/large-a6.4ac50d73cecffe7683129cb537280e02.png"},Nf2I:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("aDup"),a=e("2+Yo"),s=e("DAXx"),l=e("X9r5"),c=e("HwaM"),u=e("JIJM"),p=e("gYeE"),f=function(){function t(){}return t.prototype.supports=function(n){return t.hintFactory.supports(n)},t.prototype.generate=function(t,n){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(o){switch(o.label){case 0:return console.debug("getZ3"),t=this,[4,r.getZ3()];case 1:return t.z3=o.sent(),this.makeContext(),this.assertBoard(n),e=this.generateHints(n),e=this.pruneHints(n,e),this.deleteContext(),[2,e]}})})},t.prototype.makeContext=function(){console.debug("makeContext"),this.z3.global_param_set("unsat_core","true"),this.z3.global_param_set("smt.core.minimize","true");var t=this.z3.mk_config();this.ctx=this.z3.mk_context(t),this.z3.set_error_handler(this.ctx,this.z3.errorHandler),this.z3.del_config(t)},t.prototype.ask=function(t){return this.z3.eval_smtlib2_string(this.ctx,t).trim()},t.prototype.deleteContext=function(){console.debug("deleteContext"),this.z3.del_context(this.ctx)},t.prototype.generateHints=function(n){for(var e=[];!this.isUniqueSolvable();){var o=t.hintFactory.random(n);e.push(o);var i=e.length-1,r=t.getHintConstraint(o);this.ask("(assert (! "+r+" :named h"+i+"))")}return e},t.prototype.pruneHints=function(t,n){console.debug("Before pruneHints: "+n.length);var e=this.ask("(get-unsat-core)");console.debug(e);var o=i.map(e.match(/\d+/g),function(t){return parseInt(t)});return n=i.filter(n,function(t,n){return i.includes(o,n)}),console.debug("After pruneHints: "+n.length),n},t.prototype.isUniqueSolvable=function(){return"unsat"==this.ask("(check-sat)")},t.prototype.assertBoard=function(t){console.debug("assertBoard");for(var n=0;n<t.rows;n++){for(var e="",o=0;o<t.variants;o++){var i="x"+n+o;this.ask("(declare-const "+i+" Int)"),this.ask("(assert (and (<= 0 "+i+") (< "+i+" "+t.cols+")))"),e+=" "+i}this.ask("(assert (distinct"+e+"))")}for(var r="",n=0;n<t.rows;n++)for(var a=0;a<t.cols;a++){var o=t.get(n,a),i="x"+n+o;r+=" (distinct "+i+" "+a+")"}this.ask("(assert (or"+r+"))")},t.getHintConstraint=function(t){if(t instanceof a.AdjacentHint){var n="x"+t.row1+t.variant1,e="x"+t.row2+t.variant2;return"(or (= "+n+" (+ "+e+" 1)) (= "+n+" (- "+e+" 1)))"}if(t instanceof s.BetweenHint){var n="x"+t.row1+t.variant1,o="x"+t.rowMiddle+t.variantMiddle,e="x"+t.row2+t.variant2;return"(or (and (= "+o+" (+ "+n+" 1)) (= "+o+" (- "+e+" 1))) (and (= "+o+" (+ "+e+" 1)) (= "+o+" (- "+n+" 1))))"}if(t instanceof l.DirectionHint){return"(< "+("x"+t.rowLeft+t.variantLeft)+" "+("x"+t.rowRight+t.variantRight)+")"}if(t instanceof c.OpenHint){return"(= "+("x"+t.row+t.variant)+" "+t.col+")"}if(t instanceof u.SameColumnHint){var n="x"+t.row1+t.variant1,e="x"+t.row2+t.variant2;return"(= "+n+" "+e+")"}throw new Error("Unsupported hint type")},t.hintFactory=new p.RandomHintFactory,t}();n.Z3HintsGenerator=f},NhLW:function(t,n,e){t.exports=e.p+"icons/original/large/large-a2.b09094efecdd9eb43f5c9d816a1fe4e3.png"},NsAh:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("rMlB");e("JpXf");var r={};!function(t){t.keys().forEach(function(n){return r[n]=t(n)})}(e("7PiI"));var a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return i.h("img",{class:"icon",src:r["./icons/original/"+t.name+".png"]})},n}(i.Component);n.IconComponent=a;var s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return i.h(a,{name:"large/large-"+(t.row+10).toString(16)+(t.variant+1)})},n}(i.Component);n.LargeVariantIconComponent=s;var l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return i.h(a,{name:"small/small-"+(t.row+10).toString(16)+(t.variant+1)})},n}(i.Component);n.SmallVariantIconComponent=l},NsPZ:function(t,n,e){"use strict";function o(t){var n=null;return function(){return null===n?n=t():n}}Object.defineProperty(n,"__esModule",{value:!0}),n.memoizeSupplier=o},Op0r:function(t,n,e){t.exports=e.p+"icons/original/hint-direction.2a6b9db9707be05efc146cbd8e571e2b.png"},"P2+R":function(t,n,e){t.exports=e.p+"icons/original/small/small-e5.46811d66ca231366ab2e44b4de32bee7.png"},PWPq:function(t,n,e){t.exports=e.p+"icons/original/large/large-d3.87d7030770383023603c79700050ee58.png"},PvcG:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("S+P+"),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.isSolvable=function(t,n){return t.isSolvable(n)},n}(i.SolvableHintsGenerator);n.ApplyHintsGenerator=r},QP0S:function(t,n,e){t.exports=e.p+"icons/original/large/large-a1.d73d5dfe6e49493fa72128c7d36eca4e.png"},QfaF:function(t,n,e){t.exports=e.p+"icons/original/small/small-f6.2f7d8a98586b23b3f348bef4350bf4f7.png"},Qj03:function(t,n,e){t.exports=e.p+"icons/original/hint-adjacent.7b5864dbf0656526063d96f271c1e5fc.png"},RUP8:function(t,n,e){t.exports=e.p+"icons/original/small/small-b3.65f5bcb765e8dc6f37ec5174e112cea4.png"},"S+P+":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("gYeE"),a=function(){function t(t){this.delegate=t}return t.prototype.supports=function(t){return this.delegate.supports(t)},t}();n.DelegateHintsGenerator=a;var s=function(){function t(){}return t.prototype.supports=function(n){return t.hintFactory.supports(n)},t.prototype.generate=function(t,n){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){return t=this.generateHints(n),[2,this.pruneHints(n,t)]})})},t.prototype.generateHints=function(n){for(var e=[];!this.isSolvable(n,e);){var o=t.hintFactory.random(n);e.push(o)}return e},t.prototype.pruneHints=function(t,n){n=i.clone(n),console.debug("Before pruneHints: "+n.length);for(var e=0;e<n.length;){var o=n.splice(e,1)[0];this.isSolvable(t,n)||(n.splice(e,0,o),e++)}return console.debug("After pruneHints: "+n.length),n},t.hintFactory=new r.RandomHintFactory,t}();n.SolvableHintsGenerator=s},SAo3:function(t,n,e){t.exports=e.p+"icons/original/large/large-e4.07420566e5a63e3313fa48704100c22f.png"},SCQN:function(t,n,e){t.exports=e.p+"icons/original/small/small-e1.abbe71866b879431f7d1ec2f736260f3.png"},SLpm:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("HW6M"),r=e("dlzC"),a=e("M4fF"),s=e("7YgM"),l=e("rMlB"),c=e("cnN+"),u=e("HZR3"),p=e("7Stf"),f=e("ATbC"),d=e("vO/K"),h=e("5AqA"),g=e("32Ag");e("2JYO");var m,v=e("In3e"),b=e("KBc0"),y=e("ziB5"),w=e("fdQW"),_=e("etg9"),x=e("yFiT"),C=e("Agl8"),S=e("ouBu"),M=e("b/H4");!function(t){t[t.Options=0]="Options",t[t.Highscore=1]="Highscore",t[t.Generating=2]="Generating",t[t.Playing=3]="Playing",t[t.ManualPaused=4]="ManualPaused",t[t.AutoPaused=5]="AutoPaused",t[t.Solved=6]="Solved",t[t.Over=7]="Over"}(m=n.GameState||(n.GameState={}));var P=function(t){function n(){var e=t.call(this)||this;return e.timer=new g.Timer,e.puzzleGenerator=c.mainPuzzleGenerator,e.onClickNewGame=function(t){e.setState({gameState:m.Options,cheated:0}),e.timer.reset()},e.onClickPause=function(t){e.state.gameState===m.Playing&&(e.timer.pause(),e.setState(function(t){return a.merge(t,{gameState:m.ManualPaused})}))},e.onClickResume=function(t){e.state.gameState!==m.ManualPaused&&e.state.gameState!==m.AutoPaused||(e.timer.start(),e.setState(function(t){return a.merge(t,{gameState:m.Playing})}))},e.onClickCheat=function(t){e.state.gameState===m.Playing&&e.setState(function(t){var n=t.puzzle.applySingleHint();return a.merge(t,{cheated:t.cheated+(n?1:0)})},e.refresh)},e.onVisibilityChange=function(t){t&&e.state.gameState===m.AutoPaused?(e.timer.start(),e.setState(function(t){return a.merge(t,{gameState:m.Playing})})):t||e.state.gameState!==m.Playing||(e.timer.pause(),e.setState(function(t){return a.merge(t,{gameState:m.AutoPaused})}))},e.onMessageUnload=function(){switch(e.state.gameState){case m.Playing:case m.ManualPaused:case m.AutoPaused:return"Are you sure you want to leave while the game is in progress?";default:return null}},e.submitOptions=function(t){e.configOptions(t),e.setState({gameState:m.Generating},function(){requestAnimationFrame(function(n){setTimeout(function(){return o.__awaiter(e,void 0,void 0,function(){var n,e,i=this;return o.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.puzzleGenerator.generate(t)];case 1:return n=o.sent(),this.setState({puzzle:n,gameState:m.Playing,cheated:0,canCheat:!0},function(){i.timer.start(),i.refresh()}),[3,3];case 2:return e=o.sent(),alert(e),this.setState({puzzle:void 0,gameState:m.Options,cheated:0,canCheat:void 0}),[3,3];case 3:return[2]}})})},0)})})},e.highscoreOptions=function(t){e.configOptions(t),e.setState({gameState:m.Highscore})},e.refresh=function(){if(e.state.gameState===m.Playing){var t=e.state.puzzle;if(t.isSolved()){e.timer.pause();var n=e.timer.getTotalTime();e.setState(function(t){return a.merge(t,{gameState:m.Solved})},function(){var o=t.options,i=e.state.cheated;p.Counts.increase(o,i?"solvedCheated":"solved");var a=i>0?" by cheating "+i+" times":"";alert("Solved "+w.formatOptions(o)+" in "+h.formatDuration(n)+a+"!"),i||f.db.transaction("rw",f.db.times,f.db.config,function(){return d.Times.isInTop10(o,n).then(function(t){return u.Config.getKey("name").then(function(n){var e;return!1!==t&&null!==(e=prompt("Enter name for "+(t+1)+". place in high scores:",n))?e:void 0})}).then(function(t){return r.default.Promise.all([d.Times.add(o,n,t),u.Config.setKey("name",t)])})})})}else t.isOver()?(e.timer.pause(),e.setState(function(t){return a.merge(t,{gameState:m.Over})},function(){p.Counts.increase(t.options,"over"),alert("Over!")})):e.setState({canCheat:t.canApplySingleHint()})}},e.state={options:n.defaultOptions,puzzle:void 0,gameState:m.Options,cheated:0,canCheat:void 0},e.visibilityChange=new x.VisibilityChangeListener(e.onVisibilityChange),e.messageUnload=new C.MessageUnloadListener(e.onMessageUnload),u.Config.getKey("options").then(function(t){void 0!==t&&e.setState({options:t})}),e}return o.__extends(n,t),n.prototype.componentDidMount=function(){this.visibilityChange.add(),this.messageUnload.add()},n.prototype.componentWillUnmount=function(){this.visibilityChange.remove(),this.messageUnload.remove()},n.prototype.configOptions=function(t){this.setState({options:t}),u.Config.set({options:t})},n.prototype.render=function(t,e){var o=e.gameState===m.Solved||e.gameState===m.Over,r=o?e.puzzle.singleBoard:void 0;return l.h("div",{class:i({app:!0,paused:e.gameState===m.ManualPaused||e.gameState===m.AutoPaused,solved:e.gameState===m.Solved,over:e.gameState===m.Over,cheated:e.cheated>0})},l.h("div",{class:"app-top"},l.h("div",{class:"header"},l.h("div",{class:"brand"},l.h("a",{href:"http://einstein.sim642.eu",title:"einstein-js "+s.version},"einstein-js")," ",l.h("small",null,"by ",l.h("a",{href:"https://github.com/sim642/einstein-js"},"sim642"))),l.h("div",{class:"buttons buttons-responsive"},l.h("button",{class:i({"button-highlight":o||e.gameState===m.Highscore}),disabled:e.gameState===m.Generating,onClick:this.onClickNewGame},"New game"),l.h("button",{disabled:!(e.gameState===m.Playing&&e.canCheat),onClick:this.onClickCheat},"Cheat ",e.cheated>0?l.h("span",{class:"badge"},e.cheated):null),e.gameState===m.ManualPaused||e.gameState===m.AutoPaused?l.h("button",{class:"button-highlight",onClick:this.onClickResume},"Resume"):l.h("button",{disabled:e.gameState!==m.Playing,onClick:this.onClickPause},"Pause")),l.h(_.TimerComponent,{timer:this.timer})),l.h(S.BirthdayComponent,{month:10,day:22,name:"Elisabeth"}),e.gameState===m.Options||e.gameState===m.Generating?l.h(M.OptionsComponent,{options:e.options,submit:this.submitOptions,highscore:this.highscoreOptions,defaultOptions:n.defaultOptions,puzzleGenerator:this.puzzleGenerator,generating:e.gameState===m.Generating}):e.gameState===m.Highscore?l.h(v.HighscoreComponent,{options:e.options}):l.h(y.MultiBoardComponent,{board:e.puzzle.multiBoard,refresh:this.refresh,showBoard:r})),e.gameState!==m.Options&&e.gameState!==m.Highscore&&e.gameState!==m.Generating?l.h(b.HintsComponent,{hints:e.puzzle.hints}):null)},n.defaultOptions={rows:6,cols:6,extraHintsPercent:0,difficulty:"normal"},n}(l.Component);n.AppComponent=P},Seff:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("bwb8"),a=function(t){function n(n){var e=t.call(this)||this;return e.pairs=n,e}return o.__extends(n,t),n.prototype.find=function(t){return n.find(this.pairs,t)},n.prototype.get=function(t){var n=this.find(t);return void 0!==n?n[1]:void 0},Object.defineProperty(n.prototype,"n",{get:function(){return i.sumBy(this.pairs,function(t){return t[1]})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.pairs.length},enumerable:!0,configurable:!0}),n.prototype.mapFreqs=function(t){return new n(this.map(function(n,e){return[e,t(n,e)]}))},n.prototype.map=function(t){return i.map(this.pairs,function(n){var e=n[0],o=n[1];return t(o,e)})},n.prototype.filter=function(t){return new n(i.filter(this.pairs,function(n){var e=n[0],o=n[1];return t(o,e)}))},n.find=function(t,n){return i.find(t,function(t){return t[0]===n})},n.monteCarlo=function(t,e){for(var o=[],i=0;i<t;i++){var r=e(),a=n.find(o,r);void 0===a&&(a=[r,0],o.push(a)),a[1]++}return new n(o)},n.prototype.toPairs=function(){return this.pairs},n}(r.AbstractDistribution);n.PairsDistribution=a},TeOI:function(t,n,e){t.exports=e.p+"icons/original/large/large-a5.e5df7839ecedea6b66da59aa3ece9ba8.png"},TjjG:function(t,n){},UBU4:function(t,n,e){t.exports=e.p+"icons/original/large/large-b1.67391202fba98a1797a9c666a9f2d723.png"},X9r5:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=function(){function t(t,n,e,o){this.rowLeft=t,this.variantLeft=n,this.rowRight=e,this.variantRight=o}return t.prototype.applyTo=function(t){for(var n=!1,e=0;e<t.cols&&(t.isPossible(this.rowRight,e,this.variantRight)&&(t.remove(this.rowRight,e,this.variantRight),n=!0),!t.isPossible(this.rowLeft,e,this.variantLeft));e++);for(var e=t.cols-1;e>=0&&(t.isPossible(this.rowLeft,e,this.variantLeft)&&(t.remove(this.rowLeft,e,this.variantLeft),n=!0),!t.isPossible(this.rowRight,e,this.variantRight));e--);return n},t.prototype.getType=function(){return 1},t}();n.DirectionHint=i;var r=function(){function t(){}return t.prototype.supports=function(t){return t.rows>=1&&t.cols>=2},t.prototype.random=function(t){var n=o.random(0,t.rows-1),e=o.random(0,t.cols-2),r=o.random(0,t.rows-1),a=o.random(e+1,t.cols-1);return new i(n,t.get(n,e),r,t.get(r,a))},t}();n.DirectionHintFactory=r},XjqR:function(t,n,e){t.exports=e.p+"icons/original/large/large-c3.82043ba3661fa5a9afc87cf0c1d9f917.png"},XnXw:function(t,n,e){t.exports=e.p+"icons/original/small/small-e4.967aa445a182fda8b3261d4612d3a3fc.png"},YFuY:function(t,n,e){t.exports=e.p+"icons/original/large/large-e6.60a05543c24485dc78b1cb4f47c306be.png"},YKaq:function(t,n,e){t.exports=e.p+"icons/original/large/large-b5.746416be364e3c33aacd6055c476fbc5.png"},Z31m:function(t,n,e){t.exports=e.p+"icons/original/small/small-b6.0b3f448c498b70903671a4bc69efde0d.png"},ZNit:function(t,n,e){t.exports=e.p+"icons/original/large/large-f1.2d3e9386d0328114e71184f6946f14b6.png"},ZvN9:function(t,n,e){t.exports=e.p+"icons/original/large/large-e1.b1cd43842afa4b29b592e9ac499769ca.png"},aDup:function(t,n,e){"use strict";function o(t){return new Promise(function(n,e){var o=r(i.__assign({},t,{onRuntimeInitialized:function(){n(new u(o))}}))})}Object.defineProperty(n,"__esModule",{value:!0});var i=e("TToO"),r=e("xzou"),a=e("QlVD"),s=e("NsPZ"),l=e("4mO9"),c=e("MZjJ"),u=function(){function t(t){this.value=t}return t}();n.getZ3=s.memoizeSupplier(function(){return c.isWasmSupported()?l.Wasm.getCached(a).then(function(t){var n;return n=void 0!==t?{instantiateWasm:function(n,e){return console.debug("instantiateWasm"),WebAssembly.instantiate(t,n).then(function(n){return e(n,t)}),{}}}:{locateFile:function(){return a},onReceiveInstance:function(t,n){console.debug("onReceiveInstance"),l.Wasm.cache(a,n)}},console.debug("Z3 arming..."),o(n).then(function(t){var n=t.value,e=new p(n);return console.log("Z3 armed"),e})}):Promise.reject(new Error("WebAssembly not supported"))});var p=function(){function t(t){this.z3em=t,this.errorHandler=this.z3em.addFunction(function(t,n){console.error("Z3 ("+t+"): "+n)},"vii"),this.mk_config=this.z3em.cwrap("Z3_mk_config","number",[]),this.mk_context=this.z3em.cwrap("Z3_mk_context","number",["number"]),this.del_config=this.z3em.cwrap("Z3_del_config",null,["number"]),this.del_context=this.z3em.cwrap("Z3_del_context",null,["number"]),this.eval_smtlib2_string=this.z3em.cwrap("Z3_eval_smtlib2_string","string",["number","string"]),this.global_param_set=this.z3em.cwrap("Z3_global_param_set",null,["string","string"]),this.set_error_handler=this.z3em.cwrap("Z3_set_error_handler",null,["number","number"])}return t}();n.Z3=p},"b/H4":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("rMlB");e("99qC");var a=e("HZR3"),s=e("7Stf"),l=e("vO/K"),c=e("fdQW"),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.onChange=function(t){t.preventDefault();var e=parseInt(t.target.value);n.props.onChange(e)},n}return o.__extends(n,t),n.prototype.render=function(t){var n=t.id+"-list";return r.h("span",{class:"input input-range"},r.h("input",o.__assign({type:"range"},t,{value:t.value.toString(),list:n,onChange:this.onChange,onInput:this.onChange})),r.h("output",{for:t.id},t.value,t.unit),r.h("datalist",{id:n},i.map(i.range(t.min,t.max+1,t.step),function(t){return r.h("option",{value:t.toString()})})))},n}(r.Component),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.onChange=function(t){var n=this;return function(e){e.preventDefault(),n.props.onChange(t)}},n.prototype.render=function(t){var n=this;return r.h("div",{class:"input input-choice"},i.map(t.choices,function(e){var o=e[0],i=e[1];return r.h("span",null,r.h("input",{type:"radio",id:t.id+"-"+o,name:t.id,checked:o===t.value,onChange:n.onChange(o)}),r.h("label",{for:t.id+"-"+o},i))}))},n}(r.Component),f=function(t){function n(){var n=t.call(this)||this;return n.state={topCounts:void 0},n.fetchTopCounts(),n}return o.__extends(n,t),n.prototype.fetchTopCounts=function(){var t=this;s.Counts.getTopCounts().then(function(n){t.setState({topCounts:n})})},n.prototype.onClick=function(t){var n=this,e={rows:t.rows,cols:t.cols,extraHintsPercent:t.extraHintsPercent,difficulty:t.difficulty};return function(t){t.preventDefault(),n.props.set(e)}},n.prototype.render=function(t,n){var e=this;return void 0!==n.topCounts&&n.topCounts.length>0?r.h("div",{class:"top-options"},r.h("hr",null),r.h("span",{class:"options-title"},"Most played:"),r.h("ol",null,i.map(i.take(n.topCounts,5),function(t){return r.h("li",null,r.h("a",{class:"button",onClick:e.onClick(t)},c.formatOptions(t)," ",r.h("small",{className:"small-number"},"(",t.solved+t.solvedCheated+t.over,")")))}))):null},n}(r.Component),d=function(t){function n(n){var e=t.call(this)||this;return e.onSubmit=function(t){t.preventDefault(),e.props.submit(e.state.options)},e.onReset=function(t){t.preventDefault(),e.setState({options:i.clone(e.props.defaultOptions),hasTimes:!1}),e.fetchHasTimes(e.state.options),a.Config.set({options:e.state.options})},e.onHighscore=function(t){e.props.highscore(e.state.options)},e.setOptions=function(t){e.setState({options:i.clone(t),hasTimes:!1}),e.fetchHasTimes(e.state.options),a.Config.set({options:e.state.options})},e.state={options:i.clone(n.options),hasTimes:!1},e.fetchHasTimes(n.options),e}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(t){i.eq(this.props,t)||(this.setState({options:i.clone(t.options),hasTimes:!1}),this.fetchHasTimes(t.options))},n.prototype.onChange=function(t){var n=this;return function(e){n.setState(function(n){return i.merge(n,{options:(o={},o[t]=e,o),hasTimes:!1});var o}),n.fetchHasTimes(n.state.options),a.Config.set({options:n.state.options})}},n.prototype.fetchHasTimes=function(t){var n=this;l.Times.hasTimes(t).then(function(t){n.setState({hasTimes:t})})},n.prototype.render=function(t,n){return r.h("form",{class:"options",onSubmit:this.onSubmit},r.h("fieldset",{disabled:t.generating},r.h("div",{class:"form-group"},r.h("label",{for:"option-rows"},"Rows"),r.h(u,{id:"option-rows",min:2,max:6,value:n.options.rows,onChange:this.onChange("rows")})),r.h("div",{class:"form-group"},r.h("label",{for:"option-cols"},"Columns"),r.h(u,{id:"option-cols",min:2,max:6,value:n.options.cols,onChange:this.onChange("cols")})),r.h("div",{class:"form-group"},r.h("label",{for:"option-extra-hints"},"Extra hints"),r.h(u,{id:"option-extra-hints",min:0,max:100,step:20,value:n.options.extraHintsPercent,onChange:this.onChange("extraHintsPercent"),unit:"%"})),r.h("div",{class:"form-group"},r.h("label",{for:"option-difficulty"},"Difficulty"),r.h(p,{id:"option-difficulty",choices:[["normal","Normal"],["hard","Hard"]],value:n.options.difficulty,onChange:this.onChange("difficulty")})),r.h("div",{class:"form-group buttons"},r.h("button",{type:"reset",onClick:this.onReset},"Reset"),r.h("button",{type:"button",disabled:!n.hasTimes,onClick:this.onHighscore},"High scores"),r.h("button",{class:"button-highlight button-wide",type:"submit",disabled:!t.puzzleGenerator.supports(n.options)},"Play")),r.h(f,{set:this.setOptions})),t.generating?r.h("div",{class:"loading-overlay"},r.h("div",{class:"lds-dual-ring"})):null)},n}(r.Component);n.OptionsComponent=d},bWR4:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){void 0===n&&(n={rows:t.length,cols:t[0].length}),this.table=t,this.options=n,this.rows=this.options.rows,this.cols=this.options.cols,this.variants=this.options.cols}return t.prototype.get=function(t,n){return this.table[t][n]},t}();n.Board=o},bwb8:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.scale=function(t){var n=this.n;return this.mapFreqs(function(e){return e/n*t})},t.prototype.scaleTo=function(t){return this.scale(t.n)},t.prototype.toPairs=function(){return this.map(function(t,n){return[n,t]})},t.prototype.random=function(){for(var t=this.toPairs(),n=Math.random()*this.n,e=0;e<t.length;e++){var o=t[e],i=o[0],r=o[1];if(n<r)return i;n-=r}return t[t.length-1][0]},t}();n.AbstractDistribution=o},cgSM:function(t,n,e){t.exports=e.p+"icons/original/large/large-d1.4c6fc5e018efe828eb0a0a8136a8cc76.png"},"cnN+":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("JMRT"),a=e("PvcG"),s=e("GgXB"),l=e("6RO1"),c=e("n1vv"),u=e("Nf2I"),p=e("hmo1"),f=function(){function t(t){this.hintsGenerator=t}return t.prototype.supports=function(t){return this.hintsGenerator.supports(t)},t.prototype.generate=function(t){return o.__awaiter(this,void 0,void 0,function(){var n,e,a,s;return o.__generator(this,function(o){switch(o.label){case 0:return n=r.SingleBoard.random(t),e=i.now(),[4,this.hintsGenerator.generate(t,n)];case 1:return a=o.sent(),s=i.now(),console.log(""+(s-e)),[2,new p.Puzzle(n,a,t)]}})})},t}();n.HintsPuzzleGenerator=f,n.mainPuzzleGenerator=new f(new l.ExtraHintsGenerator(new s.DifficultyHintsGenerator({normal:new a.ApplyHintsGenerator,hard:new c.NonApplyHintsGenerator(new u.Z3HintsGenerator)})))},d6hy:function(t,n,e){t.exports=e.p+"icons/original/small/small-d5.ae2144db1de56afe0541c89db7a31463.png"},dSmd:function(t,n,e){t.exports=e.p+"icons/original/large/large-f6.d614ae0c9d5efd565ca308cd3435188e.png"},dcOB:function(t,n,e){t.exports=e.p+"icons/original/large/large-e2.bba1807b4ac83d4a610aa663676e1204.png"},etg9:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("rMlB"),r=e("5AqA"),a=function(t){function n(n){var e=t.call(this)||this;return e.interval=null,e.state={time:n.timer.getTotalTime()},e}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(t){this.setState({time:t.timer.getTotalTime()}),this.setTimer()},n.prototype.componentDidMount=function(){this.setTimer()},n.prototype.componentWillUnmount=function(){this.clearTimer()},n.prototype.clearTimer=function(){null!==this.interval&&clearInterval(this.interval)},n.prototype.setTimer=function(){var t=this;this.clearTimer(),setTimeout(function(){t.interval=setInterval(function(){t.setState({time:t.props.timer.getTotalTime()})},1e3)},0)},n.prototype.render=function(t,n){return i.h("div",{class:"timer"},r.formatDuration(n.time))},n}(i.Component);n.TimerComponent=a},euc6:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(n){var e=this;this.callback=n,this.onTouchStart=function(n){t.touching=!0,e.timeout=setTimeout(function(){console.log("longtouch"),e.callback()},t.longTouchTime)},this.onTouchMove=function(t){clearTimeout(e.timeout)},this.onTouchEnd=function(n){t.touching=!1,clearTimeout(e.timeout)},this.onTouchCancel=function(n){t.touching=!1,clearTimeout(e.timeout)},this.onContextMenu=function(n){n.preventDefault(),t.touching||e.callback()}}return t.touching=!1,t.longTouchTime=500,t}();n.LongTouchContextMenuHandler=o},fZOX:function(t,n,e){t.exports=e.p+"icons/original/small/small-b5.39e97e63457f6a5ef329ce7a1f329d47.png"},fdQW:function(t,n,e){"use strict";function o(t){var n="hard"===t.difficulty?"hard ":"",e=t.extraHintsPercent>0?" with "+t.extraHintsPercent+"% extra hints":"";return t.rows+"Ã"+t.cols+" "+n+"puzzle"+e}Object.defineProperty(n,"__esModule",{value:!0}),n.formatOptions=o},gBE2:function(t,n,e){t.exports=e.p+"icons/original/small/small-c2.488e286fbc404fc350cc0e4def122c83.png"},gVWB:function(t,n,e){t.exports=e.p+"icons/original/large/large-f3.0070d3861e60350f291165d89028d7d1.png"},gYeE:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("Seff"),i=e("2+Yo"),r=e("DAXx"),a=e("X9r5"),s=e("HwaM"),l=e("JIJM"),c=function(){function t(){this.defaultDist=new o.PairsDistribution([[new i.AdjacentHintFactory,4],[new s.OpenHintFactory,1],[new l.SameColumnHintFactory,2],[new a.DirectionHintFactory,4],[new r.BetweenHintFactory,3]])}return t.prototype.supports=function(t){return this.defaultDist.filter(function(n,e){return e.supports(t)}).classes>0},t.prototype.random=function(t){return this.defaultDist.filter(function(n,e){return e.supports(t.options)}).random().random(t)},t}();n.RandomHintFactory=c},hFVX:function(t,n,e){t.exports=e.p+"icons/original/small/small-d6.83aaeda6a3e029931af97f484755879f.png"},"hli+":function(t,n,e){t.exports=e.p+"icons/original/large/large-e5.b1fdec84ea77accaea3f9a52908d69f3.png"},hmo1:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("M4fF"),i=e("CBd9"),r=e("cnN+"),a=function(){function t(t,n,e){this.singleBoard=t,this.hints=n,this.options=e,this.multiBoard=i.MultiBoard.full(e),this.multiBoard.applyHints(o.filter(n,function(t){return 0===t.getType()}))}return t.prototype.isSolved=function(){return this.multiBoard.isSolved(this.singleBoard)},t.prototype.isOver=function(){return!this.multiBoard.contains(this.singleBoard)},t.prototype.applySingleHint=function(){return this.multiBoard.applySingleHint(o.filter(this.hints,function(t){return 0!==t.getType()}))},t.prototype.canApplySingleHint=function(){return o.cloneDeep(this).applySingleHint()},t.generate=function(t){return r.mainPuzzleGenerator.generate(t)},t}();n.Puzzle=a},iXl1:function(t,n,e){t.exports=e.p+"icons/original/small/small-d4.465fbcbda569f002956eff6dbc525fba.png"},kCQN:function(t,n,e){t.exports=e.p+"./rain.0d05874e0f2cdd3a51985dd895f01fd0.png"},kbZK:function(t,n,e){t.exports=e.p+"icons/original/small/small-c1.857515213e12574db6ea3b7694015dd8.png"},lgdU:function(t,n,e){t.exports=e.p+"icons/original/small/small-e6.f63290d00dca1fb50b97a7749bbc6fdc.png"},mGEC:function(t,n,e){t.exports=e.p+"icons/original/large/large-c4.83eef6ef77656276b988cffc6dd1b2dd.png"},mPGt:function(t,n,e){t.exports=e.p+"icons/original/large/large-b6.29228909139aed0e29c1e0d248fdc8b1.png"},mcFw:function(t,n,e){t.exports=e.p+"icons/original/small/small-c3.8ecb4d1c7b95cff1b3f7a4e3e0342ad0.png"},n1vv:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("S+P+"),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.supports=function(n){return n.cols>2&&t.prototype.supports.call(this,n)},n.prototype.generate=function(t,n){return o.__awaiter(this,void 0,void 0,function(){var e,i;return o.__generator(this,function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return[4,this.delegate.generate(t,n)];case 2:e=o.sent(),i++,o.label=3;case 3:if(n.isSolvable(e))return[3,1];o.label=4;case 4:return console.log(i+" tries to non-apply"),[2,e]}})})},n}(i.DelegateHintsGenerator);n.NonApplyHintsGenerator=r},nVYH:function(t,n,e){t.exports=e.p+"icons/original/small/small-a2.e58c4d7d4ca282f01f1842de56fcc204.png"},oD70:function(t,n,e){t.exports=e.p+"icons/original/large/large-d2.9a9e2546ef2de2aed7b9cafca1e574a4.png"},oJmq:function(t,n,e){t.exports=e.p+"icons/original/large/large-c6.b70b863014dd77f1444a4f5dcfaf937d.png"},oXIE:function(t,n,e){t.exports=e.p+"icons/original/large/large-c2.c8ea002cb52b8a2bb2391a8a599a1be2.png"},ouBu:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("rMlB");e("xToJ");var r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){var n=new Date;return n.getMonth()+1==t.month&&n.getDate()==t.day?i.h("div",{class:"birthday"},i.h("p",null,"Happy birthday, ",t.name,"!")):null},n}(i.Component);n.BirthdayComponent=r},pJA7:function(t,n){},pqg3:function(t,n,e){t.exports=e.p+"icons/original/small/small-a6.b74ac4a06b9b99cdebadc188e6f2eba7.png"},q9gS:function(t,n,e){t.exports=e.p+"icons/original/large/large-d6.3707649a76849867b0067b33cee2f45a.png"},qMEF:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("rMlB"),i=e("SLpm"),r=e("t8iB");console.log("-------"),r.install(),o.render(o.h(i.AppComponent,null),document.body)},qpPT:function(t,n,e){t.exports=e.p+"icons/original/small/small-a1.7ec6461d1c92b8cd2af53465e9b35cfc.png"},qwlA:function(t,n,e){t.exports=e.p+"icons/original/hint-tile.fef2ac154678271b433d05cac0e1e766.png"},romA:function(t,n,e){t.exports=e.p+"icons/original/small/small-b4.5539a0f576453510700b7e1ac8ac62c2.png"},rxGk:function(t,n,e){t.exports=e.p+"icons/original/large/large-c5.649a708fdfe3823d8ad66395bf760461.png"},"t+UZ":function(t,n,e){t.exports=e.p+"icons/original/large/large-f5.23ad85abc671b650c4fab087327177b8.png"},uLm8:function(t,n,e){t.exports=e.p+"icons/original/small/small-e2.2a6f0dc9158e2248beb5da27abf58387.png"},uVvn:function(t,n,e){t.exports=e.p+"icons/original/small/small-a5.a7e023b76efb421fce243698ec5c1172.png"},uyRy:function(t,n){},"vO/K":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("M4fF"),r=e("ATbC");!function(t){function n(t){return r.db.times.add(t)}function e(t,e,i){return n(o.__assign({},t,{time:e,date:new Date,name:i}))}function a(t){return r.db.times.where(o.__assign({},t)).sortBy("time")}function s(t){return a(t).then(function(t){return i.take(t,10)})}function l(t,n){return a(t).then(function(t){return(t.length<10||n<t[9].time)&&i.sortedIndexBy(t.slice(0,10),{time:n},function(t){return t.time})})}function c(t){return r.db.times.where(o.__assign({},t)).count(function(t){return t>0})}t.addItem=n,t.add=e,t.getSortedTimes=a,t.getTop10=s,t.isInTop10=l,t.hasTimes=c}(n.Times||(n.Times={}))},voAe:function(t,n,e){t.exports=e.p+"icons/original/small/small-f1.cf4eb2f72546034b67c7e387426aab1f.png"},w35o:function(t,n,e){t.exports=e.p+"icons/original/large/large-b2.f088bd5349ae94f3aecf2256a2a41f9a.png"},x5BK:function(t,n,e){t.exports=e.p+"icons/original/small/small-a3.b5693ec5ce8e44c2ab79da7d22e419c0.png"},xDob:function(t,n,e){t.exports=e.p+"icons/original/small/small-d2.f554d768eed7fb9c2ac1361d80a08e82.png"},xFS2:function(t,n,e){t.exports=e.p+"icons/original/small/small-f2.1214cc29cc865a50e028b884cf34173d.png"},xToJ:function(t,n){},yFfv:function(t,n,e){t.exports=e.p+"icons/original/large/large-f4.43276b459501e836f1928103bcbdc92c.png"},yFiT:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){var n=this;this.callback=t,this.visible=!0,this.focused=function(){n.visible||n.callback(n.visible=!0)},this.unfocused=function(){n.visible&&n.callback(n.visible=!1)}}return t.prototype.add=function(){var t=this;"hidden"in document&&document.addEventListener("visibilitychange",function(){(document.hidden?t.unfocused:t.focused)()}),"mozHidden"in document&&document.addEventListener("mozvisibilitychange",function(){(document.mozHidden?t.unfocused:t.focused)()}),"webkitHidden"in document&&document.addEventListener("webkitvisibilitychange",function(){(document.webkitHidden?t.unfocused:t.focused)()}),"msHidden"in document&&document.addEventListener("msvisibilitychange",function(){(document.msHidden?t.unfocused:t.focused)()}),"onfocusin"in document&&(document.onfocusin=this.focused,document.onfocusout=this.unfocused),window.onpageshow=window.onfocus=this.focused,window.onpagehide=window.onblur=this.unfocused},t.prototype.remove=function(){},t}();n.VisibilityChangeListener=o},yNUn:function(t,n,e){t.exports=e.p+"icons/original/small/small-f4.fa8fa0e7c09873297312ed5082eac413.png"},ytF8:function(t,n,e){t.exports=e.p+"icons/original/large/large-a4.30bcbdd3b26849030d9f7756c19d6a98.png"},"zU+P":function(t,n,e){t.exports=e.p+"icons/original/large/large-f2.ebac4e572194ab532410773494ed9c4e.png"},ziB5:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("TToO"),i=e("HW6M"),r=e("M4fF"),a=e("rMlB"),s=e("euc6"),l=e("NsAh");e("pJA7");var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return a.h("div",{class:"cell-single"},a.h(l.LargeVariantIconComponent,{row:t.row,variant:t.variant}))},n}(a.Component),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.contextMenuHandler=new s.LongTouchContextMenuHandler(function(){return n.remove()}),n.onClick=function(t){n.set()},n}return o.__extends(n,t),n.prototype.set=function(){this.props.board.set(this.props.row,this.props.col,this.props.variant),this.props.refresh()},n.prototype.remove=function(){this.props.board.remove(this.props.row,this.props.col,this.props.variant),this.props.refresh()},n.prototype.render=function(t){return a.h("div",o.__assign({class:"cell-multi-variant",onClick:this.onClick},this.contextMenuHandler),a.h(l.SmallVariantIconComponent,{row:t.row,variant:t.variant}))},n}(a.Component),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return a.h("div",{class:"cell-multi-empty"})},n}(a.Component),f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){return t.variant<t.board.variants&&t.board.isPossible(t.row,t.col,t.variant)?a.h(u,o.__assign({},t)):a.h(p,o.__assign({},t))},n}(a.Component),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){var n=Math.ceil(Math.sqrt(t.board.variants)),e=Math.ceil(t.board.variants/n);return a.h("table",{class:"cell-multi"},r.times(e,function(e){return a.h("tr",null,r.times(n,function(i){return a.h("td",null,a.h(f,o.__assign({},t,{variant:e*n+i})))}))}))},n}(a.Component),h=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.onContextMenu=function(t){t.preventDefault()},n}return o.__extends(n,t),n.prototype.render=function(t){if(t.showBoard){var n=t.board.isSingle(t.row,t.col)&&t.board.getSingle(t.row,t.col)==t.showBoard.get(t.row,t.col);return a.h("td",{class:i({"cell-correct":n,"cell-incorrect":!n})},a.h("div",{class:"cell",onContextMenu:this.onContextMenu},a.h(c,o.__assign({},t,{variant:t.showBoard.get(t.row,t.col)}))))}return a.h("td",null,a.h("div",{class:"cell",onContextMenu:this.onContextMenu},t.board.isSingle(t.row,t.col)?a.h(c,o.__assign({},t,{variant:t.board.getSingle(t.row,t.col)})):a.h(d,o.__assign({},t))))},n}(a.Component),g=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.refresh=function(){n.forceUpdate(),n.props.refresh()},n}return o.__extends(n,t),n.prototype.render=function(t){var n=this;return a.h("tr",null,r.times(t.board.cols,function(e){return a.h(h,o.__assign({},t,{col:e,refresh:n.refresh}))}))},n}(a.Component),m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(t){var n=t.board,e={"data-rows":n.rows,"data-cols":n.cols};return a.h("div",o.__assign({class:"multiboard-outer"},e),a.h("table",o.__assign({class:"multiboard"},e),r.times(n.rows,function(n){return a.h(g,o.__assign({},t,{row:n}))})))},n}(a.Component);n.MultiBoardComponent=m}},["qMEF"]);
//# sourceMappingURL=app.2e770df424b74b5ac71cf84208f834e6.js.map