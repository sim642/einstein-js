{"version":3,"sources":["webpack:///app.db9f208ac0c51b7ddaedb247c9b361ec.js","webpack:///./src/web/icons/original/large/large-c1.png","webpack:///./src/web/icons/original/large/large-b3.png","webpack:///./src/web/icons/original/large/large-d5.png","webpack:///./src/puzzle/hint/AdjacentHint.ts","webpack:///./src/web/icons/original/small/small-c6.png","webpack:///./src/web/icons/original/small/small-b1.png","webpack:///./src/Timer.ts","webpack:///./src/web/icons/original/large/large-a3.png","webpack:///./src/time.ts","webpack:///./src/web/icons/original/small/small-b2.png","webpack:///./src/web \\.png$","webpack:///./package.json","webpack:///./src/web/rain-light.png","webpack:///./src/web/icons/original/small/small-c4.png","webpack:///./src/web/icons/original/large/large-e3.png","webpack:///./src/web/icons/original/small/small-c5.png","webpack:///./src/web/helper/MessageUnloadListener.ts","webpack:///./src/web/icons/original/large/large-b4.png","webpack:///./src/web/icons/original/small/small-d1.png","webpack:///./src/puzzle/board/MultiBoard.ts","webpack:///./src/web/icons/original/large/large-d4.png","webpack:///./src/puzzle/hint/BetweenHint.ts","webpack:///./src/web/icons/original/small/small-d3.png","webpack:///./src/web/icons/original/small/small-e3.png","webpack:///./src/web/icons/original/tile.png","webpack:///./src/web/icons/original/small/small-f3.png","webpack:///./src/web/icons/original/small/small-a4.png","webpack:///./src/puzzle/hint/OpenHint.ts","webpack:///./src/web/icons/original/hint-between.png","webpack:///./src/puzzle/hint/SameColumnHint.ts","webpack:///./src/puzzle/board/SingleBoard.ts","webpack:///./src/web/HintsComponent.tsx","webpack:///./src/web/icons/original/small/small-f5.png","webpack:///./src/web/icons/original/large/large-a6.png","webpack:///./src/web/icons/original/large/large-a2.png","webpack:///./src/web/IconComponents.tsx","webpack:///./src/web/icons/original/hint-direction.png","webpack:///./src/web/icons/original/small/small-e5.png","webpack:///./src/web/icons/original/large/large-d3.png","webpack:///./src/web/icons/original/large/large-a1.png","webpack:///./src/web/icons/original/small/small-f6.png","webpack:///./src/web/icons/original/hint-adjacent.png","webpack:///./src/web/icons/original/small/small-b3.png","webpack:///./src/web/icons/original/large/large-e4.png","webpack:///./src/web/icons/original/small/small-e1.png","webpack:///./src/web/AppComponent.tsx","webpack:///./src/web/icons/original/large/large-a5.png","webpack:///./src/web/icons/original/large/large-b1.png","webpack:///./src/puzzle/hint/DirectionHint.ts","webpack:///./src/web/icons/original/large/large-c3.png","webpack:///./src/web/icons/original/small/small-e4.png","webpack:///./src/web/icons/original/large/large-e6.png","webpack:///./src/web/icons/original/large/large-b5.png","webpack:///./src/web/icons/original/small/small-b6.png","webpack:///./src/web/icons/original/large/large-f1.png","webpack:///./src/web/icons/original/large/large-e1.png","webpack:///./src/puzzle/board/Board.ts","webpack:///./src/web/icons/original/large/large-d1.png","webpack:///./src/web/icons/original/small/small-d5.png","webpack:///./src/web/icons/original/large/large-f6.png","webpack:///./src/web/icons/original/large/large-e2.png","webpack:///./src/web/TimerComponent.tsx","webpack:///./src/web/helper/LongTouchContextMenuHandler.ts","webpack:///./src/web/icons/original/small/small-b5.png","webpack:///./src/web/icons/original/small/small-c2.png","webpack:///./src/web/icons/original/large/large-f3.png","webpack:///./src/web/icons/original/small/small-d6.png","webpack:///./src/web/icons/original/large/large-e5.png","webpack:///./src/puzzle/Puzzle.ts","webpack:///./src/web/icons/original/small/small-d4.png","webpack:///./src/web/rain.png","webpack:///./src/web/icons/original/small/small-c1.png","webpack:///./src/web/icons/original/small/small-e6.png","webpack:///./src/web/icons/original/large/large-c4.png","webpack:///./src/web/icons/original/large/large-b6.png","webpack:///./src/web/icons/original/small/small-c3.png","webpack:///./src/web/icons/original/small/small-a2.png","webpack:///./src/web/icons/original/large/large-d2.png","webpack:///./src/web/icons/original/large/large-c6.png","webpack:///./src/web/icons/original/large/large-c2.png","webpack:///./src/web/icons/original/small/small-a6.png","webpack:///./src/web/icons/original/large/large-d6.png","webpack:///./src/index.tsx","webpack:///./src/web/icons/original/small/small-a1.png","webpack:///./src/web/icons/original/hint-tile.png","webpack:///./src/web/icons/original/small/small-b4.png","webpack:///./src/web/icons/original/large/large-c5.png","webpack:///./src/web/icons/original/large/large-f5.png","webpack:///./src/web/icons/original/small/small-e2.png","webpack:///./src/web/icons/original/small/small-a5.png","webpack:///./src/web/icons/original/small/small-f1.png","webpack:///./src/web/icons/original/large/large-b2.png","webpack:///./src/web/icons/original/small/small-a3.png","webpack:///./src/web/icons/original/small/small-d2.png","webpack:///./src/web/icons/original/small/small-f2.png","webpack:///./src/web/icons/original/large/large-f4.png","webpack:///./src/web/helper/VisibilityChangeListener.ts","webpack:///./src/web/icons/original/small/small-f4.png","webpack:///./src/web/icons/original/large/large-a4.png","webpack:///./src/web/icons/original/large/large-f2.png","webpack:///./src/web/MultiBoardComponent.tsx"],"names":["webpackJsonp","+bsQ","module","exports","__webpack_require__","p","/BPU","1Tjk","2+Yo","Object","defineProperty","value","_","AdjacentHint","row1","variant1","row2","variant2","this","prototype","applyTo","board","changed","applyToCol","col","thisRow","thisVariant","adjRow","adjVariant","hasLeft","isPossible","hasRight","cols","remove","getType","AdjacentHintFactory","random","colDelta","rows","col1","col2","get","20Ho","27d+","2JYO","32Ag","Timer","reset","start","startTime","now","pause","runningTime","getRunningTime","totalTime","getTotalTime","4I4A","5AqA","formatDuration","diffMs","diffSec","sec","Math","floor","min","hr","padStart","toString","6b+j","7PiI","webpackContext","req","webpackContextResolve","id","map","Error","./icons/original/hint-adjacent.png","./icons/original/hint-between.png","./icons/original/hint-direction.png","./icons/original/hint-tile.png","./icons/original/large/large-a1.png","./icons/original/large/large-a2.png","./icons/original/large/large-a3.png","./icons/original/large/large-a4.png","./icons/original/large/large-a5.png","./icons/original/large/large-a6.png","./icons/original/large/large-b1.png","./icons/original/large/large-b2.png","./icons/original/large/large-b3.png","./icons/original/large/large-b4.png","./icons/original/large/large-b5.png","./icons/original/large/large-b6.png","./icons/original/large/large-c1.png","./icons/original/large/large-c2.png","./icons/original/large/large-c3.png","./icons/original/large/large-c4.png","./icons/original/large/large-c5.png","./icons/original/large/large-c6.png","./icons/original/large/large-d1.png","./icons/original/large/large-d2.png","./icons/original/large/large-d3.png","./icons/original/large/large-d4.png","./icons/original/large/large-d5.png","./icons/original/large/large-d6.png","./icons/original/large/large-e1.png","./icons/original/large/large-e2.png","./icons/original/large/large-e3.png","./icons/original/large/large-e4.png","./icons/original/large/large-e5.png","./icons/original/large/large-e6.png","./icons/original/large/large-f1.png","./icons/original/large/large-f2.png","./icons/original/large/large-f3.png","./icons/original/large/large-f4.png","./icons/original/large/large-f5.png","./icons/original/large/large-f6.png","./icons/original/small/small-a1.png","./icons/original/small/small-a2.png","./icons/original/small/small-a3.png","./icons/original/small/small-a4.png","./icons/original/small/small-a5.png","./icons/original/small/small-a6.png","./icons/original/small/small-b1.png","./icons/original/small/small-b2.png","./icons/original/small/small-b3.png","./icons/original/small/small-b4.png","./icons/original/small/small-b5.png","./icons/original/small/small-b6.png","./icons/original/small/small-c1.png","./icons/original/small/small-c2.png","./icons/original/small/small-c3.png","./icons/original/small/small-c4.png","./icons/original/small/small-c5.png","./icons/original/small/small-c6.png","./icons/original/small/small-d1.png","./icons/original/small/small-d2.png","./icons/original/small/small-d3.png","./icons/original/small/small-d4.png","./icons/original/small/small-d5.png","./icons/original/small/small-d6.png","./icons/original/small/small-e1.png","./icons/original/small/small-e2.png","./icons/original/small/small-e3.png","./icons/original/small/small-e4.png","./icons/original/small/small-e5.png","./icons/original/small/small-e6.png","./icons/original/small/small-f1.png","./icons/original/small/small-f2.png","./icons/original/small/small-f3.png","./icons/original/small/small-f4.png","./icons/original/small/small-f5.png","./icons/original/small/small-f6.png","./icons/original/tile.png","./rain-light.png","./rain.png","keys","resolve","7YgM","name","version","description","author","keywords","repository","type","url","bugs","homepage","scripts","build:dev","build:prod","deploy","watch:dev","dependencies","classnames","lodash","preact","devDependencies","@types/lodash","@types/webpack-env","autoprefixer","chunk-manifest-webpack-plugin","copy-webpack-plugin","css-loader","extract-text-webpack-plugin","file-loader","html-webpack-plugin","less","less-loader","offline-plugin","postcss-loader","style-loader","ts-loader","typescript","webpack","webpack-chunk-hash","webpack-merge","8OvN","90E6","91Mv","AQov","Agl8","MessageUnloadListener","callback","_this","onBeforeUnload","e","message","returnValue","add","window","addEventListener","removeEventListener","BRDO","C7Cf","CBd9","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","create","Board_1","MultiBoard","_super","apply","arguments","full","times","Board","row","variants","constant","variant","pruneSingles","set","variant_1","col_1","count","sumBy","isSingle","getSingle","findIndex","colCnt","variantCnt","colVariant","variantCol","applyHint","hint","applyHints","hints","_i","hints_1","length","applySingleHint","hints_2","isSolved","singleBoard","isSingleBoard","contains","applySingleBoard","singleVariant","D3DT","DAXx","BetweenHint","rowMiddle","variantMiddle","changed2","leftPossible","rightPossible","BetweenHintFactory","colMiddle","Dvz/","E9CV","FslU","Hoba","Htyr","HwaM","OpenHint","OpenHintFactory","IJZH","JIJM","SameColumnHint","possible1","possible2","SameColumnHintFactory","JMRT","MultiBoard_1","SingleBoard","shuffle","range","isSolvable","multiBoard","JpXf","KBc0","__assign","assign","t","s","i","n","call","classNames","preact_1","AdjacentHint_1","BetweenHint_1","DirectionHint_1","SameColumnHint_1","LongTouchContextMenuHandler_1","IconComponents_1","HintComponent","contextMenuHandler","LongTouchContextMenuHandler","onToggle","setState","state","visible","componentWillReceiveProps","nextProps","props","renderTbody","h","LargeVariantIconComponent","IconComponent","class","DirectionHint","rowLeft","variantLeft","rowRight","variantRight","render","hint-outer","hint-visible","hint-hidden","Component","HintsComponent","onClick","hints-horizontal","hints-visible","hints-hidden","filter","MjYr","N7YA","NhLW","NsAh","cache","r","forEach","key","src","SmallVariantIconComponent","Op0r","P2+R","PWPq","QP0S","QfaF","Qj03","RUP8","SAo3","SCQN","SLpm","Package","Puzzle_1","time_1","Timer_1","GameState","HintsComponent_1","MultiBoardComponent_1","TimerComponent_1","VisibilityChangeListener_1","MessageUnloadListener_1","AppComponent","timer","onClickNewGame","puzzle","Puzzle","generate","gameState","Playing","cheated","onClickPause","merge","ManualPaused","onClickResume","AutoPaused","onClickCheat","refresh","onVisibilityChange","onMessageUnload","time_2","Solved","alert","isOver","Over","visibilityChange","VisibilityChangeListener","messageUnload","componentDidMount","componentWillUnmount","solvedOrOver","showBoard","undefined","app","paused","solved","over","href","title","disabled","TimerComponent","MultiBoardComponent","TeOI","TjjG","UBU4","X9r5","DirectionHintFactory","colLeft","colRight","XjqR","XnXw","YFuY","YKaq","Z31m","ZNit","ZvN9","bWR4","table","cgSM","d6hy","dSmd","dcOB","etg9","interval","time","setTimer","clearTimer","clearInterval","setTimeout","setInterval","euc6","onTouchStart","touching","timeout","console","log","longTouchTime","onTouchMove","clearTimeout","onTouchEnd","onTouchCancel","onContextMenu","preventDefault","fZOX","gBE2","gVWB","hFVX","hli+","hmo1","SingleBoard_1","OpenHint_1","pruneHints","generateHints","generateHint","push","hintFactory","clone","debug","splice","iXl1","kCQN","kbZK","lgdU","mGEC","mPGt","mcFw","nVYH","oD70","oJmq","oXIE","pJA7","pqg3","q9gS","qMEF","AppComponent_1","OfflinePluginRuntime","install","document","body","qpPT","qwlA","romA","rxGk","t+UZ","uLm8","uVvn","voAe","w35o","x5BK","xDob","xFS2","yFfv","yFiT","focused","unfocused","hidden","mozHidden","webkitHidden","msHidden","onfocusin","onfocusout","onpageshow","onfocus","onpagehide","onblur","yNUn","ytF8","zU+P","ziB5","SingleCellComponent","VariantVariantMultiCellComponent","EmptyVariantMultiCellComponent","VariantMultiCellComponent","MultiCellComponent","variantCols","ceil","sqrt","variantRows","variantRow","CellComponent","correct","cell-correct","cell-incorrect","RowComponent","forceUpdate"],"mappings":"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","file":"app.db9f208ac0c51b7ddaedb247c9b361ec.js","sourcesContent":["webpackJsonp([\"app\"],{\n\n/***/ \"+bsQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c1.cf85c5eb9acce5553a85122616f8f7f3.png\";\n\n/***/ }),\n\n/***/ \"/BPU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b3.f56ee08f09215c9501370c94a97d5da1.png\";\n\n/***/ }),\n\n/***/ \"1Tjk\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d5.93f0c9556e78c0b2b5ab5a7bb293e22c.png\";\n\n/***/ }),\n\n/***/ \"2+Yo\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar AdjacentHint = (function () {\n    function AdjacentHint(row1, variant1, row2, variant2) {\n        this.row1 = row1;\n        this.variant1 = variant1;\n        this.row2 = row2;\n        this.variant2 = variant2;\n    }\n    AdjacentHint.prototype.applyTo = function (board) {\n        var changed = false;\n        var applyToCol = function (col, thisRow, thisVariant, adjRow, adjVariant) {\n            var hasLeft = col >= 1 ? board.isPossible(adjRow, col - 1, adjVariant) : false;\n            var hasRight = col < board.cols - 1 ? board.isPossible(adjRow, col + 1, adjVariant) : false;\n            if (!hasLeft && !hasRight && board.isPossible(thisRow, col, thisVariant)) {\n                board.remove(thisRow, col, thisVariant);\n                changed = true;\n            }\n        };\n        for (var col = 0; col < board.cols; col++) {\n            applyToCol(col, this.row1, this.variant1, this.row2, this.variant2);\n            applyToCol(col, this.row2, this.variant2, this.row1, this.variant1);\n        }\n        if (changed)\n            this.applyTo(board);\n        return changed;\n    };\n    AdjacentHint.prototype.getType = function () {\n        return 1 /* Horizontal */;\n    };\n    return AdjacentHint;\n}());\nexports.AdjacentHint = AdjacentHint;\nvar AdjacentHintFactory = (function () {\n    function AdjacentHintFactory() {\n    }\n    AdjacentHintFactory.prototype.random = function (board) {\n        var row1 = _.random(0, board.rows - 1);\n        var col1 = _.random(0, board.cols - 1);\n        var row2 = _.random(0, board.rows - 1);\n        var colDelta;\n        if (col1 == 0)\n            colDelta = 1;\n        else if (col1 == board.cols - 1)\n            colDelta = -1;\n        else\n            colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        var col2 = col1 + colDelta;\n        return new AdjacentHint(row1, board.get(row1, col1), row2, board.get(row2, col2));\n    };\n    return AdjacentHintFactory;\n}());\nexports.AdjacentHintFactory = AdjacentHintFactory;\n\n\n/***/ }),\n\n/***/ \"20Ho\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c6.3a75bba0385dcc7f6e7074d7873ff81e.png\";\n\n/***/ }),\n\n/***/ \"27d+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b1.376d5df50dd14a86919d705382c89060.png\";\n\n/***/ }),\n\n/***/ \"2JYO\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"32Ag\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar Timer = (function () {\n    function Timer() {\n        this.reset();\n    }\n    Timer.prototype.start = function () {\n        if (this.startTime === null)\n            this.startTime = _.now();\n    };\n    Timer.prototype.pause = function () {\n        var runningTime = this.getRunningTime();\n        if (runningTime !== null) {\n            this.totalTime += runningTime;\n            this.startTime = null;\n        }\n    };\n    Timer.prototype.getRunningTime = function () {\n        return this.startTime !== null ? _.now() - this.startTime : null;\n    };\n    Timer.prototype.getTotalTime = function () {\n        return this.totalTime + (this.getRunningTime() || 0);\n    };\n    Timer.prototype.reset = function () {\n        this.totalTime = 0;\n        this.startTime = null;\n    };\n    return Timer;\n}());\nexports.Timer = Timer;\n\n\n/***/ }),\n\n/***/ \"4I4A\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a3.2f39989763b3636f69b02ba2b53fbe44.png\";\n\n/***/ }),\n\n/***/ \"5AqA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nfunction formatDuration(diffMs) {\n    var diffSec = diffMs / 1000;\n    var sec = Math.floor(diffSec) % 60;\n    var min = Math.floor(diffSec / 60) % 60;\n    var hr = Math.floor(diffSec / 60 / 60);\n    return _.padStart(hr.toString(), 2, \"0\") + \":\" + _.padStart(min.toString(), 2, \"0\") + \":\" + _.padStart(sec.toString(), 2, \"0\");\n    /*let ms = Math.floor(diffMs % 1000);\n    return `${_.padStart(hr.toString(), 2, \"0\")}:${_.padStart(min.toString(), 2, \"0\")}:${_.padStart(sec.toString(), 2, \"0\")}.${_.padStart(ms.toString(), 3, \"0\")}`;*/\n}\nexports.formatDuration = formatDuration;\n\n\n/***/ }),\n\n/***/ \"6b+j\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b2.1e0362bc91fe36a746482f52eea6cd78.png\";\n\n/***/ }),\n\n/***/ \"7PiI\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./icons/original/hint-adjacent.png\": \"Qj03\",\n\t\"./icons/original/hint-between.png\": \"IJZH\",\n\t\"./icons/original/hint-direction.png\": \"Op0r\",\n\t\"./icons/original/hint-tile.png\": \"qwlA\",\n\t\"./icons/original/large/large-a1.png\": \"QP0S\",\n\t\"./icons/original/large/large-a2.png\": \"NhLW\",\n\t\"./icons/original/large/large-a3.png\": \"4I4A\",\n\t\"./icons/original/large/large-a4.png\": \"ytF8\",\n\t\"./icons/original/large/large-a5.png\": \"TeOI\",\n\t\"./icons/original/large/large-a6.png\": \"N7YA\",\n\t\"./icons/original/large/large-b1.png\": \"UBU4\",\n\t\"./icons/original/large/large-b2.png\": \"w35o\",\n\t\"./icons/original/large/large-b3.png\": \"/BPU\",\n\t\"./icons/original/large/large-b4.png\": \"BRDO\",\n\t\"./icons/original/large/large-b5.png\": \"YKaq\",\n\t\"./icons/original/large/large-b6.png\": \"mPGt\",\n\t\"./icons/original/large/large-c1.png\": \"+bsQ\",\n\t\"./icons/original/large/large-c2.png\": \"oXIE\",\n\t\"./icons/original/large/large-c3.png\": \"XjqR\",\n\t\"./icons/original/large/large-c4.png\": \"mGEC\",\n\t\"./icons/original/large/large-c5.png\": \"rxGk\",\n\t\"./icons/original/large/large-c6.png\": \"oJmq\",\n\t\"./icons/original/large/large-d1.png\": \"cgSM\",\n\t\"./icons/original/large/large-d2.png\": \"oD70\",\n\t\"./icons/original/large/large-d3.png\": \"PWPq\",\n\t\"./icons/original/large/large-d4.png\": \"D3DT\",\n\t\"./icons/original/large/large-d5.png\": \"1Tjk\",\n\t\"./icons/original/large/large-d6.png\": \"q9gS\",\n\t\"./icons/original/large/large-e1.png\": \"ZvN9\",\n\t\"./icons/original/large/large-e2.png\": \"dcOB\",\n\t\"./icons/original/large/large-e3.png\": \"91Mv\",\n\t\"./icons/original/large/large-e4.png\": \"SAo3\",\n\t\"./icons/original/large/large-e5.png\": \"hli+\",\n\t\"./icons/original/large/large-e6.png\": \"YFuY\",\n\t\"./icons/original/large/large-f1.png\": \"ZNit\",\n\t\"./icons/original/large/large-f2.png\": \"zU+P\",\n\t\"./icons/original/large/large-f3.png\": \"gVWB\",\n\t\"./icons/original/large/large-f4.png\": \"yFfv\",\n\t\"./icons/original/large/large-f5.png\": \"t+UZ\",\n\t\"./icons/original/large/large-f6.png\": \"dSmd\",\n\t\"./icons/original/small/small-a1.png\": \"qpPT\",\n\t\"./icons/original/small/small-a2.png\": \"nVYH\",\n\t\"./icons/original/small/small-a3.png\": \"x5BK\",\n\t\"./icons/original/small/small-a4.png\": \"Htyr\",\n\t\"./icons/original/small/small-a5.png\": \"uVvn\",\n\t\"./icons/original/small/small-a6.png\": \"pqg3\",\n\t\"./icons/original/small/small-b1.png\": \"27d+\",\n\t\"./icons/original/small/small-b2.png\": \"6b+j\",\n\t\"./icons/original/small/small-b3.png\": \"RUP8\",\n\t\"./icons/original/small/small-b4.png\": \"romA\",\n\t\"./icons/original/small/small-b5.png\": \"fZOX\",\n\t\"./icons/original/small/small-b6.png\": \"Z31m\",\n\t\"./icons/original/small/small-c1.png\": \"kbZK\",\n\t\"./icons/original/small/small-c2.png\": \"gBE2\",\n\t\"./icons/original/small/small-c3.png\": \"mcFw\",\n\t\"./icons/original/small/small-c4.png\": \"90E6\",\n\t\"./icons/original/small/small-c5.png\": \"AQov\",\n\t\"./icons/original/small/small-c6.png\": \"20Ho\",\n\t\"./icons/original/small/small-d1.png\": \"C7Cf\",\n\t\"./icons/original/small/small-d2.png\": \"xDob\",\n\t\"./icons/original/small/small-d3.png\": \"Dvz/\",\n\t\"./icons/original/small/small-d4.png\": \"iXl1\",\n\t\"./icons/original/small/small-d5.png\": \"d6hy\",\n\t\"./icons/original/small/small-d6.png\": \"hFVX\",\n\t\"./icons/original/small/small-e1.png\": \"SCQN\",\n\t\"./icons/original/small/small-e2.png\": \"uLm8\",\n\t\"./icons/original/small/small-e3.png\": \"E9CV\",\n\t\"./icons/original/small/small-e4.png\": \"XnXw\",\n\t\"./icons/original/small/small-e5.png\": \"P2+R\",\n\t\"./icons/original/small/small-e6.png\": \"lgdU\",\n\t\"./icons/original/small/small-f1.png\": \"voAe\",\n\t\"./icons/original/small/small-f2.png\": \"xFS2\",\n\t\"./icons/original/small/small-f3.png\": \"Hoba\",\n\t\"./icons/original/small/small-f4.png\": \"yNUn\",\n\t\"./icons/original/small/small-f5.png\": \"MjYr\",\n\t\"./icons/original/small/small-f6.png\": \"QfaF\",\n\t\"./icons/original/tile.png\": \"FslU\",\n\t\"./rain-light.png\": \"8OvN\",\n\t\"./rain.png\": \"kCQN\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"7PiI\";\n\n/***/ }),\n\n/***/ \"7YgM\":\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t\"name\": \"einstein\",\n\t\"version\": \"1.2.1\",\n\t\"description\": \"Einstein Puzzle 2.0 by Flowix Games ported to the web\",\n\t\"author\": \"Simmo Saan\",\n\t\"keywords\": [\n\t\t\"typescript\",\n\t\t\"webpack\",\n\t\t\"preact\",\n\t\t\"lodash\",\n\t\t\"game\",\n\t\t\"puzzle-game\",\n\t\t\"web\"\n\t],\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"git+https://github.com/sim642/einstein-js.git\"\n\t},\n\t\"bugs\": {\n\t\t\"url\": \"https://github.com/sim642/einstein-js/issues\"\n\t},\n\t\"homepage\": \"http://einstein.sim642.eu\",\n\t\"scripts\": {\n\t\t\"build:dev\": \"webpack --env=dev --progress --profile --colors\",\n\t\t\"build:prod\": \"webpack --env=prod --progress --profile --colors\",\n\t\t\"deploy\": \"git push -f origin `git subtree split --prefix dist 2> /dev/null`:gh-pages\",\n\t\t\"watch:dev\": \"webpack --env=dev --progress --profile --colors --watch\"\n\t},\n\t\"dependencies\": {\n\t\t\"classnames\": \"^2.2.5\",\n\t\t\"lodash\": \"^4.17.4\",\n\t\t\"preact\": \"^8.1.0\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@types/lodash\": \"^4.14.66\",\n\t\t\"@types/webpack-env\": \"^1.13.0\",\n\t\t\"autoprefixer\": \"^7.1.2\",\n\t\t\"chunk-manifest-webpack-plugin\": \"^1.1.0\",\n\t\t\"copy-webpack-plugin\": \"^4.0.1\",\n\t\t\"css-loader\": \"^0.28.4\",\n\t\t\"extract-text-webpack-plugin\": \"^2.1.2\",\n\t\t\"file-loader\": \"^0.11.2\",\n\t\t\"html-webpack-plugin\": \"^2.29.0\",\n\t\t\"less\": \"^2.7.2\",\n\t\t\"less-loader\": \"^4.0.4\",\n\t\t\"offline-plugin\": \"^4.8.1\",\n\t\t\"postcss-loader\": \"^2.0.6\",\n\t\t\"style-loader\": \"^0.18.2\",\n\t\t\"ts-loader\": \"^2.2.0\",\n\t\t\"typescript\": \"~2.3.4\",\n\t\t\"webpack\": \"^3.0.0\",\n\t\t\"webpack-chunk-hash\": \"^0.4.0\",\n\t\t\"webpack-merge\": \"^4.1.0\"\n\t}\n};\n\n/***/ }),\n\n/***/ \"8OvN\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./rain-light.272fb79b7c99a89b9891f2d596aabecc.png\";\n\n/***/ }),\n\n/***/ \"90E6\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c4.bc367c0d574d1037f7983b61b94776bf.png\";\n\n/***/ }),\n\n/***/ \"91Mv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e3.24b0bdf46ccfa5fae6d324e4b08c9a31.png\";\n\n/***/ }),\n\n/***/ \"AQov\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c5.9254afe6e7940800db50da758cb752df.png\";\n\n/***/ }),\n\n/***/ \"Agl8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MessageUnloadListener = (function () {\n    function MessageUnloadListener(callback) {\n        var _this = this;\n        this.callback = callback;\n        this.onBeforeUnload = function (e) {\n            var message = _this.callback();\n            if (message !== null)\n                return e.returnValue = message;\n            else\n                return undefined;\n        };\n    }\n    MessageUnloadListener.prototype.add = function () {\n        window.addEventListener(\"beforeunload\", this.onBeforeUnload);\n    };\n    MessageUnloadListener.prototype.remove = function () {\n        window.removeEventListener(\"beforeunload\", this.onBeforeUnload);\n    };\n    return MessageUnloadListener;\n}());\nexports.MessageUnloadListener = MessageUnloadListener;\n\n\n/***/ }),\n\n/***/ \"BRDO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b4.cde289fd73095da992ec76470fcaf001.png\";\n\n/***/ }),\n\n/***/ \"C7Cf\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d1.4623124355805891864ed2e7f2bec09a.png\";\n\n/***/ }),\n\n/***/ \"CBd9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar Board_1 = __webpack_require__(\"bWR4\");\nvar MultiBoard = (function (_super) {\n    __extends(MultiBoard, _super);\n    function MultiBoard() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MultiBoard.full = function () {\n        return new MultiBoard(_.times(Board_1.Board.rows, function (row) { return _.times(Board_1.Board.cols, function (col) { return _.times(Board_1.Board.variants, _.constant(true)); }); }));\n    };\n    MultiBoard.prototype.remove = function (row, col, variant) {\n        if (this.get(row, col)[variant]) {\n            this.get(row, col)[variant] = false;\n            this.pruneSingles(row);\n        }\n    };\n    MultiBoard.prototype.set = function (row, col, variant) {\n        for (var variant_1 = 0; variant_1 < this.variants; variant_1++)\n            this.get(row, col)[variant_1] = false;\n        for (var col_1 = 0; col_1 < this.cols; col_1++)\n            this.get(row, col_1)[variant] = false;\n        this.get(row, col)[variant] = true;\n        this.pruneSingles(row);\n    };\n    MultiBoard.prototype.isPossible = function (row, col, variant) {\n        return this.get(row, col)[variant];\n    };\n    MultiBoard.prototype.count = function (row, col) {\n        return _.sumBy(this.get(row, col), function (variant) { return variant ? 1 : 0; });\n    };\n    MultiBoard.prototype.isSingle = function (row, col) {\n        return this.count(row, col) == 1;\n    };\n    MultiBoard.prototype.getSingle = function (row, col) {\n        return _.findIndex(this.get(row, col));\n    };\n    MultiBoard.prototype.pruneSingles = function (row) {\n        var colCnt = _.times(this.cols, _.constant(0));\n        var variantCnt = _.times(this.variants, _.constant(0));\n        var colVariant = _.times(this.cols, _.constant(0));\n        var variantCol = _.times(this.variants, _.constant(0));\n        for (var col = 0; col < this.cols; col++) {\n            for (var variant = 0; variant < this.variants; variant++) {\n                if (this.get(row, col)[variant]) {\n                    colCnt[col]++;\n                    variantCnt[variant]++;\n                    colVariant[col] = variant;\n                    variantCol[variant] = col;\n                }\n            }\n        }\n        var changed = false;\n        for (var col = 0; col < this.cols; col++) {\n            if (colCnt[col] == 1 && variantCnt[colVariant[col]] != 1) {\n                var variant = colVariant[col];\n                for (var col2 = 0; col2 < this.cols; col2++) {\n                    if (col2 != col)\n                        this.get(row, col2)[variant] = false;\n                }\n                changed = true;\n            }\n        }\n        for (var variant = 0; variant < this.variants; variant++) {\n            if (variantCnt[variant] == 1 && colCnt[variantCol[variant]] != 1) {\n                var col = variantCol[variant];\n                for (var variant2 = 0; variant2 < this.variants; variant2++) {\n                    if (variant2 != variant)\n                        this.get(row, col)[variant2] = false;\n                }\n                changed = true;\n            }\n        }\n        if (changed)\n            this.pruneSingles(row);\n    };\n    MultiBoard.prototype.applyHint = function (hint) {\n        return hint.applyTo(this);\n    };\n    MultiBoard.prototype.applyHints = function (hints) {\n        var changed;\n        do {\n            changed = false;\n            for (var _i = 0, hints_1 = hints; _i < hints_1.length; _i++) {\n                var hint = hints_1[_i];\n                if (this.applyHint(hint))\n                    changed = true;\n            }\n        } while (changed);\n        return changed;\n    };\n    MultiBoard.prototype.applySingleHint = function (hints) {\n        for (var _i = 0, hints_2 = hints; _i < hints_2.length; _i++) {\n            var hint = hints_2[_i];\n            if (this.applyHint(hint))\n                return true;\n        }\n        return false;\n    };\n    MultiBoard.prototype.isSolved = function (singleBoard) {\n        return this.isSingleBoard() && this.contains(singleBoard);\n    };\n    MultiBoard.prototype.isSingleBoard = function () {\n        for (var row = 0; row < this.rows; row++) {\n            for (var col = 0; col < this.cols; col++) {\n                if (!this.isSingle(row, col))\n                    return false;\n            }\n        }\n        return true;\n    };\n    MultiBoard.prototype.contains = function (singleBoard) {\n        for (var row = 0; row < this.rows; row++) {\n            for (var col = 0; col < this.cols; col++) {\n                if (!this.isPossible(row, col, singleBoard.get(row, col)))\n                    return false;\n            }\n        }\n        return true;\n    };\n    MultiBoard.prototype.applySingleBoard = function (singleBoard) {\n        if (this.isSolved(singleBoard))\n            return false;\n        else {\n            for (var row = 0; row < this.rows; row++) {\n                for (var col = 0; col < this.cols; col++) {\n                    var singleVariant = singleBoard.get(row, col);\n                    for (var variant = 0; variant < this.variants; variant++)\n                        this.get(row, col)[variant] = variant == singleVariant;\n                }\n            }\n            return true;\n        }\n    };\n    return MultiBoard;\n}(Board_1.Board));\nexports.MultiBoard = MultiBoard;\n\n\n/***/ }),\n\n/***/ \"D3DT\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d4.08e21c2cf4f787a7913cc84db58777ec.png\";\n\n/***/ }),\n\n/***/ \"DAXx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar BetweenHint = (function () {\n    function BetweenHint(row1, variant1, rowMiddle, variantMiddle, row2, variant2) {\n        this.row1 = row1;\n        this.variant1 = variant1;\n        this.rowMiddle = rowMiddle;\n        this.variantMiddle = variantMiddle;\n        this.row2 = row2;\n        this.variant2 = variant2;\n    }\n    BetweenHint.prototype.applyTo = function (board) {\n        var changed = false;\n        if (board.isPossible(this.rowMiddle, 0, this.variantMiddle)) {\n            board.remove(this.rowMiddle, 0, this.variantMiddle);\n            changed = true;\n        }\n        if (board.isPossible(this.rowMiddle, board.cols - 1, this.variantMiddle)) {\n            board.remove(this.rowMiddle, board.cols - 1, this.variantMiddle);\n            changed = true;\n        }\n        var changed2;\n        do {\n            changed2 = false;\n            for (var col = 1; col < board.cols - 1; col++) {\n                if (board.isPossible(this.rowMiddle, col, this.variantMiddle) &&\n                    !(board.isPossible(this.row1, col - 1, this.variant1) && board.isPossible(this.row2, col + 1, this.variant2) ||\n                        board.isPossible(this.row2, col - 1, this.variant2) && board.isPossible(this.row1, col + 1, this.variant1))) {\n                    board.remove(this.rowMiddle, col, this.variantMiddle);\n                    changed2 = true;\n                }\n            }\n            for (var col = 0; col < board.cols; col++) {\n                if (board.isPossible(this.row1, col, this.variant1)) {\n                    var leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row2, col - 2, this.variant2) : false;\n                    var rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row2, col + 2, this.variant2) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row1, col, this.variant1);\n                        changed2 = true;\n                    }\n                }\n                if (board.isPossible(this.row2, col, this.variant2)) {\n                    var leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row1, col - 2, this.variant1) : false;\n                    var rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row1, col + 2, this.variant1) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row2, col, this.variant2);\n                        changed2 = true;\n                    }\n                }\n            }\n            if (changed2)\n                changed = true;\n        } while (changed2);\n        return changed;\n    };\n    BetweenHint.prototype.getType = function () {\n        return 1 /* Horizontal */;\n    };\n    return BetweenHint;\n}());\nexports.BetweenHint = BetweenHint;\nvar BetweenHintFactory = (function () {\n    function BetweenHintFactory() {\n    }\n    BetweenHintFactory.prototype.random = function (board) {\n        var row1 = _.random(0, board.rows - 1);\n        var rowMiddle = _.random(0, board.rows - 1);\n        var colMiddle = _.random(1, board.cols - 2);\n        var row2 = _.random(0, board.rows - 1);\n        var colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        var col1 = colMiddle + colDelta;\n        var col2 = colMiddle - colDelta;\n        return new BetweenHint(row1, board.get(row1, col1), rowMiddle, board.get(rowMiddle, colMiddle), row2, board.get(row2, col2));\n    };\n    return BetweenHintFactory;\n}());\nexports.BetweenHintFactory = BetweenHintFactory;\n\n\n/***/ }),\n\n/***/ \"Dvz/\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d3.402ab38c15f0b6e6d5bf8c21c1966cac.png\";\n\n/***/ }),\n\n/***/ \"E9CV\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e3.158bc24007fc557a4756dcaaf638f81c.png\";\n\n/***/ }),\n\n/***/ \"FslU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/tile.3631d1df5b147c00992f293ab1246a12.png\";\n\n/***/ }),\n\n/***/ \"Hoba\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f3.5b7ae0c2d05c4e28148dc866a5094d67.png\";\n\n/***/ }),\n\n/***/ \"Htyr\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a4.0ef2cddeeac6822a557e42295feb1e3c.png\";\n\n/***/ }),\n\n/***/ \"HwaM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar OpenHint = (function () {\n    function OpenHint(row, col, variant) {\n        this.row = row;\n        this.col = col;\n        this.variant = variant;\n    }\n    OpenHint.prototype.applyTo = function (board) {\n        if (!board.isSingle(this.row, this.col)) {\n            board.set(this.row, this.col, this.variant);\n            return true;\n        }\n        else\n            return false;\n    };\n    OpenHint.prototype.getType = function () {\n        return 0 /* Start */;\n    };\n    return OpenHint;\n}());\nexports.OpenHint = OpenHint;\nvar OpenHintFactory = (function () {\n    function OpenHintFactory() {\n    }\n    OpenHintFactory.prototype.random = function (board) {\n        var row = _.random(0, board.rows - 1);\n        var col = _.random(0, board.cols - 1);\n        return new OpenHint(row, col, board.get(row, col));\n    };\n    return OpenHintFactory;\n}());\nexports.OpenHintFactory = OpenHintFactory;\n\n\n/***/ }),\n\n/***/ \"IJZH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-between.4800cdbe6818a1ee91adb4003d1dc435.png\";\n\n/***/ }),\n\n/***/ \"JIJM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar SameColumnHint = (function () {\n    function SameColumnHint(row1, variant1, row2, variant2) {\n        this.row1 = row1;\n        this.variant1 = variant1;\n        this.row2 = row2;\n        this.variant2 = variant2;\n    }\n    SameColumnHint.prototype.applyTo = function (board) {\n        var changed = false;\n        for (var col = 0; col < board.cols; col++) {\n            var possible1 = board.isPossible(this.row1, col, this.variant1);\n            var possible2 = board.isPossible(this.row2, col, this.variant2);\n            if (!possible1 && possible2) {\n                board.remove(this.row2, col, this.variant2);\n                changed = true;\n            }\n            else if (possible1 && !possible2) {\n                board.remove(this.row1, col, this.variant1);\n                changed = true;\n            }\n        }\n        return changed;\n    };\n    SameColumnHint.prototype.getType = function () {\n        return 2 /* Vertical */;\n    };\n    return SameColumnHint;\n}());\nexports.SameColumnHint = SameColumnHint;\nvar SameColumnHintFactory = (function () {\n    function SameColumnHintFactory() {\n    }\n    SameColumnHintFactory.prototype.random = function (board) {\n        var col = _.random(0, board.cols - 1);\n        var row1 = _.random(0, board.rows - 1);\n        var row2;\n        do {\n            row2 = _.random(0, board.rows - 1);\n        } while (row2 == row1);\n        return new SameColumnHint(row1, board.get(row1, col), row2, board.get(row2, col));\n    };\n    return SameColumnHintFactory;\n}());\nexports.SameColumnHintFactory = SameColumnHintFactory;\n\n\n/***/ }),\n\n/***/ \"JMRT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar Board_1 = __webpack_require__(\"bWR4\");\nvar MultiBoard_1 = __webpack_require__(\"CBd9\");\nvar SingleBoard = (function (_super) {\n    __extends(SingleBoard, _super);\n    function SingleBoard() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SingleBoard.random = function () {\n        return new SingleBoard(_.times(Board_1.Board.rows, function (row) { return _.shuffle(_.range(Board_1.Board.cols)); }));\n    };\n    SingleBoard.prototype.isSolvable = function (hints) {\n        var multiBoard = MultiBoard_1.MultiBoard.full();\n        multiBoard.applyHints(hints);\n        return multiBoard.isSolved(this);\n    };\n    return SingleBoard;\n}(Board_1.Board));\nexports.SingleBoard = SingleBoard;\n\n\n/***/ }),\n\n/***/ \"JpXf\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"KBc0\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = __webpack_require__(\"HW6M\");\nvar _ = __webpack_require__(\"M4fF\");\nvar preact_1 = __webpack_require__(\"EF6w\");\nvar AdjacentHint_1 = __webpack_require__(\"2+Yo\");\nvar BetweenHint_1 = __webpack_require__(\"DAXx\");\nvar DirectionHint_1 = __webpack_require__(\"X9r5\");\nvar SameColumnHint_1 = __webpack_require__(\"JIJM\");\nvar LongTouchContextMenuHandler_1 = __webpack_require__(\"euc6\");\n__webpack_require__(\"TjjG\");\nvar IconComponents_1 = __webpack_require__(\"NsAh\");\nvar HintComponent = (function (_super) {\n    __extends(HintComponent, _super);\n    function HintComponent() {\n        var _this = _super.call(this) || this;\n        _this.contextMenuHandler = new LongTouchContextMenuHandler_1.LongTouchContextMenuHandler(function () { return _this.onToggle(); });\n        _this.onToggle = function () {\n            _this.setState(function (state) {\n                return {\n                    visible: !state.visible\n                };\n            });\n        };\n        _this.state = {\n            visible: true\n        };\n        return _this;\n    }\n    HintComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.props.hint !== nextProps.hint) {\n            this.setState({\n                visible: true\n            });\n        }\n    };\n    HintComponent.prototype.renderTbody = function (props) {\n        var hint = props.hint;\n        if (hint instanceof AdjacentHint_1.AdjacentHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row1, variant: hint.variant1 })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.IconComponent, { name: \"hint-adjacent\" })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row2, variant: hint.variant2 })))));\n        }\n        else if (hint instanceof BetweenHint_1.BetweenHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row1, variant: hint.variant1 })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.rowMiddle, variant: hint.variantMiddle }),\n                        preact_1.h(\"div\", { class: \"hint-between\" },\n                            preact_1.h(IconComponents_1.IconComponent, { name: \"hint-between\" }))),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row2, variant: hint.variant2 })))));\n        }\n        else if (hint instanceof DirectionHint_1.DirectionHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.rowLeft, variant: hint.variantLeft })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.IconComponent, { name: \"hint-direction\" })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.rowRight, variant: hint.variantRight })))));\n        }\n        else if (hint instanceof SameColumnHint_1.SameColumnHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row1, variant: hint.variant1 }))),\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row2, variant: hint.variant2 })))));\n        }\n        else\n            throw new Error(\"Unsupported hint type\");\n    };\n    HintComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"div\", __assign({ class: classNames({\n                \"hint-outer\": true,\n                \"hint-visible\": state.visible,\n                \"hint-hidden\": !state.visible\n            }) }, this.contextMenuHandler),\n            preact_1.h(\"table\", { class: \"hint\" }, this.renderTbody(props))));\n    };\n    return HintComponent;\n}(preact_1.Component));\nvar HintsComponent = (function (_super) {\n    __extends(HintsComponent, _super);\n    function HintsComponent() {\n        var _this = _super.call(this) || this;\n        _this.onToggle = function (e) {\n            _this.setState(function (state) {\n                return {\n                    visible: !state.visible\n                };\n            });\n        };\n        _this.state = {\n            visible: true\n        };\n        return _this;\n    }\n    HintsComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.props.hints !== nextProps.hints) {\n            this.setState({\n                visible: true\n            });\n        }\n    };\n    HintsComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"div\", { class: \"hints\" },\n            preact_1.h(\"button\", { class: \"button-toggle\", onClick: this.onToggle }, \"Toggle\"),\n            preact_1.h(\"div\", { class: classNames({\n                    \"hints-horizontal\": true,\n                    \"hints-visible\": state.visible,\n                    \"hints-hidden\": !state.visible\n                }) },\n                _.map(_.filter(props.hints, function (hint) { return hint.getType() === 1 /* Horizontal */; }), function (hint) {\n                    return preact_1.h(HintComponent, { hint: hint });\n                }),\n                _.map(_.filter(props.hints, function (hint) { return hint.getType() === 2 /* Vertical */; }), function (hint) {\n                    return preact_1.h(HintComponent, { hint: hint });\n                }))));\n    };\n    return HintsComponent;\n}(preact_1.Component));\nexports.HintsComponent = HintsComponent;\n\n\n/***/ }),\n\n/***/ \"MjYr\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f5.72cc42d0d642b89a43f7d5dae38777d0.png\";\n\n/***/ }),\n\n/***/ \"N7YA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a6.4ac50d73cecffe7683129cb537280e02.png\";\n\n/***/ }),\n\n/***/ \"NhLW\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a2.b09094efecdd9eb43f5c9d816a1fe4e3.png\";\n\n/***/ }),\n\n/***/ \"NsAh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar preact_1 = __webpack_require__(\"EF6w\");\n__webpack_require__(\"JpXf\");\n// https://webpack.js.org/guides/dependency-management/#context-module-api\nvar cache = {};\nfunction importAll(r) {\n    r.keys().forEach(function (key) { return cache[key] = r(key); });\n}\nimportAll(__webpack_require__(\"7PiI\"));\nvar IconComponent = (function (_super) {\n    __extends(IconComponent, _super);\n    function IconComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IconComponent.prototype.render = function (props) {\n        return (preact_1.h(\"img\", { class: \"icon\", src: cache[\"./icons/original/\" + props.name + \".png\"] }));\n    };\n    return IconComponent;\n}(preact_1.Component));\nexports.IconComponent = IconComponent;\nvar LargeVariantIconComponent = (function (_super) {\n    __extends(LargeVariantIconComponent, _super);\n    function LargeVariantIconComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LargeVariantIconComponent.prototype.render = function (props) {\n        return (preact_1.h(IconComponent, { name: \"large/large-\" + (props.row + 10).toString(16) + (props.variant + 1) }));\n    };\n    return LargeVariantIconComponent;\n}(preact_1.Component));\nexports.LargeVariantIconComponent = LargeVariantIconComponent;\nvar SmallVariantIconComponent = (function (_super) {\n    __extends(SmallVariantIconComponent, _super);\n    function SmallVariantIconComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SmallVariantIconComponent.prototype.render = function (props) {\n        return (preact_1.h(IconComponent, { name: \"small/small-\" + (props.row + 10).toString(16) + (props.variant + 1) }));\n    };\n    return SmallVariantIconComponent;\n}(preact_1.Component));\nexports.SmallVariantIconComponent = SmallVariantIconComponent;\n\n\n/***/ }),\n\n/***/ \"Op0r\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-direction.2a6b9db9707be05efc146cbd8e571e2b.png\";\n\n/***/ }),\n\n/***/ \"P2+R\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e5.46811d66ca231366ab2e44b4de32bee7.png\";\n\n/***/ }),\n\n/***/ \"PWPq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d3.87d7030770383023603c79700050ee58.png\";\n\n/***/ }),\n\n/***/ \"QP0S\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a1.d73d5dfe6e49493fa72128c7d36eca4e.png\";\n\n/***/ }),\n\n/***/ \"QfaF\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f6.2f7d8a98586b23b3f348bef4350bf4f7.png\";\n\n/***/ }),\n\n/***/ \"Qj03\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-adjacent.7b5864dbf0656526063d96f271c1e5fc.png\";\n\n/***/ }),\n\n/***/ \"RUP8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b3.65f5bcb765e8dc6f37ec5174e112cea4.png\";\n\n/***/ }),\n\n/***/ \"SAo3\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e4.07420566e5a63e3313fa48704100c22f.png\";\n\n/***/ }),\n\n/***/ \"SCQN\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e1.abbe71866b879431f7d1ec2f736260f3.png\";\n\n/***/ }),\n\n/***/ \"SLpm\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = __webpack_require__(\"HW6M\");\nvar _ = __webpack_require__(\"M4fF\");\nvar Package = __webpack_require__(\"7YgM\");\nvar preact_1 = __webpack_require__(\"EF6w\");\nvar Puzzle_1 = __webpack_require__(\"hmo1\");\nvar time_1 = __webpack_require__(\"5AqA\");\nvar Timer_1 = __webpack_require__(\"32Ag\");\n__webpack_require__(\"2JYO\");\nvar HintsComponent_1 = __webpack_require__(\"KBc0\");\nvar MultiBoardComponent_1 = __webpack_require__(\"ziB5\");\nvar TimerComponent_1 = __webpack_require__(\"etg9\");\nvar VisibilityChangeListener_1 = __webpack_require__(\"yFiT\");\nvar MessageUnloadListener_1 = __webpack_require__(\"Agl8\");\nvar GameState;\n(function (GameState) {\n    GameState[GameState[\"Playing\"] = 0] = \"Playing\";\n    GameState[GameState[\"ManualPaused\"] = 1] = \"ManualPaused\";\n    GameState[GameState[\"AutoPaused\"] = 2] = \"AutoPaused\";\n    GameState[GameState[\"Solved\"] = 3] = \"Solved\";\n    GameState[GameState[\"Over\"] = 4] = \"Over\";\n})(GameState = exports.GameState || (exports.GameState = {}));\nvar AppComponent = (function (_super) {\n    __extends(AppComponent, _super);\n    function AppComponent() {\n        var _this = _super.call(this) || this;\n        _this.timer = new Timer_1.Timer();\n        _this.onClickNewGame = function (e) {\n            _this.setState({\n                puzzle: Puzzle_1.Puzzle.generate(),\n                gameState: GameState.Playing,\n                cheated: 0\n            });\n            _this.timer.reset();\n            _this.timer.start();\n        };\n        _this.onClickPause = function (e) {\n            if (_this.state.gameState === GameState.Playing) {\n                _this.timer.pause();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.ManualPaused\n                }); });\n            }\n        };\n        _this.onClickResume = function (e) {\n            if (_this.state.gameState === GameState.ManualPaused || _this.state.gameState === GameState.AutoPaused) {\n                _this.timer.start();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.Playing\n                }); });\n            }\n        };\n        _this.onClickCheat = function (e) {\n            if (_this.state.gameState === GameState.Playing) {\n                _this.setState(function (state) {\n                    var changed = state.puzzle.applySingleHint();\n                    return _.merge(state, {\n                        cheated: state.cheated + (changed ? 1 : 0)\n                    });\n                }, _this.refresh);\n            }\n        };\n        _this.onVisibilityChange = function (visible) {\n            if (visible && _this.state.gameState === GameState.AutoPaused) {\n                _this.timer.start();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.Playing\n                }); });\n            }\n            else if (!visible && _this.state.gameState === GameState.Playing) {\n                _this.timer.pause();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.AutoPaused\n                }); });\n            }\n        };\n        _this.onMessageUnload = function () {\n            switch (_this.state.gameState) {\n                case GameState.Playing:\n                case GameState.ManualPaused:\n                case GameState.AutoPaused:\n                    return \"Are you sure you want to leave while the game is in progress?\";\n                default:\n                    return null;\n            }\n        };\n        _this.refresh = function () {\n            if (_this.state.gameState === GameState.Playing) {\n                var puzzle = _this.state.puzzle;\n                if (puzzle.isSolved()) {\n                    _this.timer.pause();\n                    var time_2 = _this.timer.getTotalTime();\n                    _this.setState(function (state) { return _.merge(state, {\n                        gameState: GameState.Solved\n                    }); }, function () {\n                        var cheated = _this.state.cheated;\n                        alert(\"Solved in \" + time_1.formatDuration(time_2) + (cheated > 0 ? \" by cheating \" + cheated + \" times\" : \"\") + \"!\");\n                    });\n                }\n                else if (puzzle.isOver()) {\n                    _this.timer.pause();\n                    _this.setState(function (state) { return _.merge(state, {\n                        gameState: GameState.Over\n                    }); }, function () {\n                        alert(\"Over!\");\n                    });\n                }\n            }\n        };\n        _this.state = {\n            puzzle: Puzzle_1.Puzzle.generate(),\n            gameState: GameState.Playing,\n            cheated: 0\n        };\n        _this.visibilityChange = new VisibilityChangeListener_1.VisibilityChangeListener(_this.onVisibilityChange);\n        _this.messageUnload = new MessageUnloadListener_1.MessageUnloadListener(_this.onMessageUnload);\n        return _this;\n    }\n    AppComponent.prototype.componentDidMount = function () {\n        this.timer.start();\n        this.visibilityChange.add();\n        this.messageUnload.add();\n    };\n    AppComponent.prototype.componentWillUnmount = function () {\n        this.visibilityChange.remove();\n        this.messageUnload.remove();\n    };\n    AppComponent.prototype.render = function (props, state) {\n        var solvedOrOver = state.gameState === GameState.Solved || state.gameState === GameState.Over;\n        var showBoard = solvedOrOver ? state.puzzle.singleBoard : undefined;\n        return (preact_1.h(\"div\", { class: classNames({\n                \"app\": true,\n                \"paused\": state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused,\n                \"solved\": state.gameState === GameState.Solved,\n                \"over\": state.gameState === GameState.Over,\n                \"cheated\": state.cheated > 0\n            }) },\n            preact_1.h(\"div\", { class: \"app-top\" },\n                preact_1.h(\"div\", { class: \"header\" },\n                    preact_1.h(\"div\", { class: \"brand\" },\n                        preact_1.h(\"a\", { href: \"http://einstein.sim642.eu\", title: \"einstein-js \" + Package.version }, \"einstein-js\"),\n                        \" \",\n                        preact_1.h(\"small\", null,\n                            \"by \",\n                            preact_1.h(\"a\", { href: \"https://github.com/sim642/einstein-js\" }, \"sim642\"))),\n                    preact_1.h(\"div\", { class: \"buttons\" },\n                        preact_1.h(\"button\", { onClick: this.onClickNewGame }, \"New game\"),\n                        preact_1.h(\"button\", { disabled: state.gameState !== GameState.Playing, onClick: this.onClickCheat },\n                            \"Cheat \",\n                            state.cheated > 0 ?\n                                preact_1.h(\"span\", { class: \"badge\" }, state.cheated) :\n                                null),\n                        state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused ?\n                            preact_1.h(\"button\", { class: \"button-highlight\", onClick: this.onClickResume }, \"Resume\") :\n                            preact_1.h(\"button\", { disabled: state.gameState !== GameState.Playing, onClick: this.onClickPause }, \"Pause\")),\n                    preact_1.h(TimerComponent_1.TimerComponent, { timer: this.timer })),\n                preact_1.h(MultiBoardComponent_1.MultiBoardComponent, { board: state.puzzle.multiBoard, refresh: this.refresh, showBoard: showBoard })),\n            preact_1.h(HintsComponent_1.HintsComponent, { hints: state.puzzle.hints })));\n    };\n    return AppComponent;\n}(preact_1.Component));\nexports.AppComponent = AppComponent;\n\n\n/***/ }),\n\n/***/ \"TeOI\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a5.e5df7839ecedea6b66da59aa3ece9ba8.png\";\n\n/***/ }),\n\n/***/ \"TjjG\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"UBU4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b1.67391202fba98a1797a9c666a9f2d723.png\";\n\n/***/ }),\n\n/***/ \"X9r5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar DirectionHint = (function () {\n    function DirectionHint(rowLeft, variantLeft, rowRight, variantRight) {\n        this.rowLeft = rowLeft;\n        this.variantLeft = variantLeft;\n        this.rowRight = rowRight;\n        this.variantRight = variantRight;\n    }\n    DirectionHint.prototype.applyTo = function (board) {\n        var changed = false;\n        for (var col = 0; col < board.cols; col++) {\n            if (board.isPossible(this.rowRight, col, this.variantRight)) {\n                board.remove(this.rowRight, col, this.variantRight);\n                changed = true;\n            }\n            if (board.isPossible(this.rowLeft, col, this.variantLeft))\n                break;\n        }\n        for (var col = board.cols - 1; col >= 0; col--) {\n            if (board.isPossible(this.rowLeft, col, this.variantLeft)) {\n                board.remove(this.rowLeft, col, this.variantLeft);\n                changed = true;\n            }\n            if (board.isPossible(this.rowRight, col, this.variantRight))\n                break;\n        }\n        return changed;\n    };\n    DirectionHint.prototype.getType = function () {\n        return 1 /* Horizontal */;\n    };\n    return DirectionHint;\n}());\nexports.DirectionHint = DirectionHint;\nvar DirectionHintFactory = (function () {\n    function DirectionHintFactory() {\n    }\n    DirectionHintFactory.prototype.random = function (board) {\n        var rowLeft = _.random(0, board.rows - 1);\n        var colLeft = _.random(0, board.cols - 2);\n        var rowRight = _.random(0, board.rows - 1);\n        var colRight = _.random(colLeft + 1, board.cols - 1);\n        return new DirectionHint(rowLeft, board.get(rowLeft, colLeft), rowRight, board.get(rowRight, colRight));\n    };\n    return DirectionHintFactory;\n}());\nexports.DirectionHintFactory = DirectionHintFactory;\n\n\n/***/ }),\n\n/***/ \"XjqR\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c3.82043ba3661fa5a9afc87cf0c1d9f917.png\";\n\n/***/ }),\n\n/***/ \"XnXw\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e4.967aa445a182fda8b3261d4612d3a3fc.png\";\n\n/***/ }),\n\n/***/ \"YFuY\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e6.60a05543c24485dc78b1cb4f47c306be.png\";\n\n/***/ }),\n\n/***/ \"YKaq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b5.746416be364e3c33aacd6055c476fbc5.png\";\n\n/***/ }),\n\n/***/ \"Z31m\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b6.0b3f448c498b70903671a4bc69efde0d.png\";\n\n/***/ }),\n\n/***/ \"ZNit\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f1.2d3e9386d0328114e71184f6946f14b6.png\";\n\n/***/ }),\n\n/***/ \"ZvN9\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e1.b1cd43842afa4b29b592e9ac499769ca.png\";\n\n/***/ }),\n\n/***/ \"bWR4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Board = (function () {\n    function Board(table) {\n        this.table = table;\n        this.rows = this.table.length;\n        this.cols = this.table[0].length;\n        this.variants = this.cols;\n    }\n    Board.prototype.get = function (row, col) {\n        return this.table[row][col];\n    };\n    return Board;\n}());\nBoard.rows = 6;\nBoard.cols = 6;\nBoard.variants = Board.cols;\nexports.Board = Board;\n\n\n/***/ }),\n\n/***/ \"cgSM\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d1.4c6fc5e018efe828eb0a0a8136a8cc76.png\";\n\n/***/ }),\n\n/***/ \"d6hy\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d5.ae2144db1de56afe0541c89db7a31463.png\";\n\n/***/ }),\n\n/***/ \"dSmd\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f6.d614ae0c9d5efd565ca308cd3435188e.png\";\n\n/***/ }),\n\n/***/ \"dcOB\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e2.bba1807b4ac83d4a610aa663676e1204.png\";\n\n/***/ }),\n\n/***/ \"etg9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar preact_1 = __webpack_require__(\"EF6w\");\nvar time_1 = __webpack_require__(\"5AqA\");\nvar TimerComponent = (function (_super) {\n    __extends(TimerComponent, _super);\n    function TimerComponent(props) {\n        var _this = _super.call(this) || this;\n        _this.interval = null;\n        _this.state = {\n            time: props.timer.getTotalTime()\n        };\n        return _this;\n    }\n    TimerComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        this.setState({\n            time: nextProps.timer.getTotalTime()\n        });\n        this.setTimer();\n    };\n    TimerComponent.prototype.componentDidMount = function () {\n        this.setTimer();\n    };\n    TimerComponent.prototype.componentWillUnmount = function () {\n        this.clearTimer();\n    };\n    TimerComponent.prototype.clearTimer = function () {\n        if (this.interval !== null)\n            clearInterval(this.interval);\n    };\n    TimerComponent.prototype.setTimer = function () {\n        var _this = this;\n        this.clearTimer();\n        setTimeout(function () {\n            _this.interval = setInterval(function () {\n                _this.setState({\n                    time: _this.props.timer.getTotalTime()\n                });\n            }, 1000);\n        }, 0); // HACK: give enough delay to make interval fall between seconds and avoid second skipping\n    };\n    TimerComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"div\", { class: \"timer\" }, time_1.formatDuration(state.time)));\n    };\n    return TimerComponent;\n}(preact_1.Component));\nexports.TimerComponent = TimerComponent;\n\n\n/***/ }),\n\n/***/ \"euc6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LongTouchContextMenuHandler = (function () {\n    function LongTouchContextMenuHandler(callback) {\n        var _this = this;\n        this.callback = callback;\n        // iOS long touch workaround\n        // https://stackoverflow.com/a/33778163\n        // https://jsfiddle.net/gianlucaguarini/56Szw/\n        // https://stackoverflow.com/a/33303261\n        this.onTouchStart = function (e) {\n            // console.debug(\"touchstart\");\n            LongTouchContextMenuHandler.touching = true;\n            _this.timeout = setTimeout(function () {\n                console.log(\"longtouch\");\n                _this.callback();\n            }, LongTouchContextMenuHandler.longTouchTime);\n        };\n        this.onTouchMove = function (e) {\n            // console.debug(\"touchmove\");\n            clearTimeout(_this.timeout);\n        };\n        this.onTouchEnd = function (e) {\n            // console.debug(\"touchend\");\n            LongTouchContextMenuHandler.touching = false;\n            clearTimeout(_this.timeout);\n        };\n        this.onTouchCancel = function (e) {\n            // console.debug(\"touchcancel\");\n            LongTouchContextMenuHandler.touching = false;\n            clearTimeout(_this.timeout);\n        };\n        this.onContextMenu = function (e) {\n            e.preventDefault();\n            if (!LongTouchContextMenuHandler.touching)\n                _this.callback();\n        };\n    }\n    return LongTouchContextMenuHandler;\n}());\nLongTouchContextMenuHandler.touching = false;\nLongTouchContextMenuHandler.longTouchTime = 500;\nexports.LongTouchContextMenuHandler = LongTouchContextMenuHandler;\n\n\n/***/ }),\n\n/***/ \"fZOX\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b5.39e97e63457f6a5ef329ce7a1f329d47.png\";\n\n/***/ }),\n\n/***/ \"gBE2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c2.488e286fbc404fc350cc0e4def122c83.png\";\n\n/***/ }),\n\n/***/ \"gVWB\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f3.0070d3861e60350f291165d89028d7d1.png\";\n\n/***/ }),\n\n/***/ \"hFVX\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d6.83aaeda6a3e029931af97f484755879f.png\";\n\n/***/ }),\n\n/***/ \"hli+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e5.b1fdec84ea77accaea3f9a52908d69f3.png\";\n\n/***/ }),\n\n/***/ \"hmo1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar MultiBoard_1 = __webpack_require__(\"CBd9\");\nvar SingleBoard_1 = __webpack_require__(\"JMRT\");\nvar AdjacentHint_1 = __webpack_require__(\"2+Yo\");\nvar BetweenHint_1 = __webpack_require__(\"DAXx\");\nvar DirectionHint_1 = __webpack_require__(\"X9r5\");\nvar OpenHint_1 = __webpack_require__(\"HwaM\");\nvar SameColumnHint_1 = __webpack_require__(\"JIJM\");\nvar Puzzle = (function () {\n    function Puzzle(singleBoard, hints) {\n        this.singleBoard = singleBoard;\n        this.hints = hints;\n        this.multiBoard = MultiBoard_1.MultiBoard.full();\n        this.multiBoard.applyHints(_.filter(hints, function (hint) { return hint.getType() === 0 /* Start */; }));\n    }\n    Puzzle.prototype.isSolved = function () {\n        return this.multiBoard.isSolved(this.singleBoard);\n    };\n    Puzzle.prototype.isOver = function () {\n        return !this.multiBoard.contains(this.singleBoard);\n    };\n    Puzzle.prototype.applySingleHint = function () {\n        return this.multiBoard.applySingleHint(_.filter(this.hints, function (hint) { return hint.getType() !== 0 /* Start */; }));\n    };\n    Puzzle.generate = function () {\n        var board = SingleBoard_1.SingleBoard.random();\n        return new Puzzle(board, Puzzle.pruneHints(board, Puzzle.generateHints(board)));\n    };\n    Puzzle.generateHints = function (board) {\n        var hints = [];\n        while (!board.isSolvable(hints)) {\n            var hint = Puzzle.generateHint(board);\n            hints.push(hint);\n        }\n        return hints;\n    };\n    Puzzle.generateHint = function (board) {\n        var hintFactory;\n        // hint frequency distribution from original einstein 2.0\n        switch (_.random(0, 14 - 1)) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n                hintFactory = new AdjacentHint_1.AdjacentHintFactory();\n                break;\n            case 4:\n                hintFactory = new OpenHint_1.OpenHintFactory();\n                break;\n            case 5:\n            case 6:\n                hintFactory = new SameColumnHint_1.SameColumnHintFactory();\n                break;\n            case 7:\n            case 8:\n            case 9:\n            case 10:\n                hintFactory = new DirectionHint_1.DirectionHintFactory();\n                break;\n            case 11:\n            case 12:\n            case 13:\n                hintFactory = new BetweenHint_1.BetweenHintFactory();\n                break;\n            default:\n                throw new Error(\"Unhandled random HintFactory value\");\n        }\n        return hintFactory.random(board);\n    };\n    Puzzle.pruneHints = function (board, hints) {\n        hints = _.clone(hints);\n        console.debug(\"Before pruneHints: \" + hints.length);\n        var changed;\n        do {\n            changed = false;\n            for (var i = 0; i < hints.length; i++) {\n                var hint = hints.splice(i, 1)[0];\n                if (board.isSolvable(hints)) {\n                    changed = true;\n                    break;\n                }\n                else\n                    hints.splice(i, 0, hint);\n            }\n        } while (changed);\n        console.debug(\"After pruneHints: \" + hints.length);\n        return hints;\n    };\n    return Puzzle;\n}());\nexports.Puzzle = Puzzle;\n\n\n/***/ }),\n\n/***/ \"iXl1\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d4.465fbcbda569f002956eff6dbc525fba.png\";\n\n/***/ }),\n\n/***/ \"kCQN\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./rain.0d05874e0f2cdd3a51985dd895f01fd0.png\";\n\n/***/ }),\n\n/***/ \"kbZK\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c1.857515213e12574db6ea3b7694015dd8.png\";\n\n/***/ }),\n\n/***/ \"lgdU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e6.f63290d00dca1fb50b97a7749bbc6fdc.png\";\n\n/***/ }),\n\n/***/ \"mGEC\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c4.83eef6ef77656276b988cffc6dd1b2dd.png\";\n\n/***/ }),\n\n/***/ \"mPGt\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b6.29228909139aed0e29c1e0d248fdc8b1.png\";\n\n/***/ }),\n\n/***/ \"mcFw\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c3.8ecb4d1c7b95cff1b3f7a4e3e0342ad0.png\";\n\n/***/ }),\n\n/***/ \"nVYH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a2.e58c4d7d4ca282f01f1842de56fcc204.png\";\n\n/***/ }),\n\n/***/ \"oD70\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d2.9a9e2546ef2de2aed7b9cafca1e574a4.png\";\n\n/***/ }),\n\n/***/ \"oJmq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c6.b70b863014dd77f1444a4f5dcfaf937d.png\";\n\n/***/ }),\n\n/***/ \"oXIE\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c2.c8ea002cb52b8a2bb2391a8a599a1be2.png\";\n\n/***/ }),\n\n/***/ \"pJA7\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"pqg3\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a6.b74ac4a06b9b99cdebadc188e6f2eba7.png\";\n\n/***/ }),\n\n/***/ \"q9gS\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d6.3707649a76849867b0067b33cee2f45a.png\";\n\n/***/ }),\n\n/***/ \"qMEF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar preact_1 = __webpack_require__(\"EF6w\");\nvar AppComponent_1 = __webpack_require__(\"SLpm\");\nvar OfflinePluginRuntime = __webpack_require__(\"t8iB\");\nconsole.log(\"-------\");\nOfflinePluginRuntime.install();\n// import \"preact/devtools\";\npreact_1.render(preact_1.h(AppComponent_1.AppComponent, null), document.body);\n/*var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;\nalert(width);*/\n/*\nlet listener = new VisibilityChangeListener(visible => console.log(`Visibility ${visible} ${document.visibilityState}`));\nlistener.add();*/\n\n\n/***/ }),\n\n/***/ \"qpPT\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a1.7ec6461d1c92b8cd2af53465e9b35cfc.png\";\n\n/***/ }),\n\n/***/ \"qwlA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-tile.fef2ac154678271b433d05cac0e1e766.png\";\n\n/***/ }),\n\n/***/ \"romA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b4.5539a0f576453510700b7e1ac8ac62c2.png\";\n\n/***/ }),\n\n/***/ \"rxGk\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c5.649a708fdfe3823d8ad66395bf760461.png\";\n\n/***/ }),\n\n/***/ \"t+UZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f5.23ad85abc671b650c4fab087327177b8.png\";\n\n/***/ }),\n\n/***/ \"uLm8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e2.2a6f0dc9158e2248beb5da27abf58387.png\";\n\n/***/ }),\n\n/***/ \"uVvn\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a5.a7e023b76efb421fce243698ec5c1172.png\";\n\n/***/ }),\n\n/***/ \"voAe\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f1.cf4eb2f72546034b67c7e387426aab1f.png\";\n\n/***/ }),\n\n/***/ \"w35o\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b2.f088bd5349ae94f3aecf2256a2a41f9a.png\";\n\n/***/ }),\n\n/***/ \"x5BK\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a3.b5693ec5ce8e44c2ab79da7d22e419c0.png\";\n\n/***/ }),\n\n/***/ \"xDob\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d2.f554d768eed7fb9c2ac1361d80a08e82.png\";\n\n/***/ }),\n\n/***/ \"xFS2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f2.1214cc29cc865a50e028b884cf34173d.png\";\n\n/***/ }),\n\n/***/ \"yFfv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f4.43276b459501e836f1928103bcbdc92c.png\";\n\n/***/ }),\n\n/***/ \"yFiT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VisibilityChangeListener = (function () {\n    function VisibilityChangeListener(callback) {\n        var _this = this;\n        this.callback = callback;\n        this.visible = true;\n        this.focused = function () {\n            // console.debug(`focused ${document.visibilityState}`);\n            if (!_this.visible)\n                _this.callback(_this.visible = true);\n        };\n        this.unfocused = function () {\n            // console.debug(`unfocused ${document.visibilityState}`);\n            if (_this.visible)\n                _this.callback(_this.visible = false);\n        };\n    }\n    VisibilityChangeListener.prototype.add = function () {\n        // https://stackoverflow.com/a/38710376\n        var _this = this;\n        // Standards:\n        if ('hidden' in document) {\n            document.addEventListener('visibilitychange', function () { (document.hidden ? _this.unfocused : _this.focused)(); });\n        }\n        if ('mozHidden' in document) {\n            document.addEventListener('mozvisibilitychange', function () { (document.mozHidden ? _this.unfocused : _this.focused)(); });\n        }\n        if ('webkitHidden' in document) {\n            document.addEventListener('webkitvisibilitychange', function () { (document.webkitHidden ? _this.unfocused : _this.focused)(); });\n        }\n        if ('msHidden' in document) {\n            document.addEventListener('msvisibilitychange', function () { (document.msHidden ? _this.unfocused : _this.focused)(); });\n        }\n        // IE 9 and lower:\n        if ('onfocusin' in document) {\n            document.onfocusin = this.focused;\n            document.onfocusout = this.unfocused;\n        }\n        // All others:\n        window.onpageshow = window.onfocus = this.focused;\n        window.onpagehide = window.onblur = this.unfocused;\n        // TODO: initial visibility check like https://stackoverflow.com/a/1060034\n    };\n    VisibilityChangeListener.prototype.remove = function () {\n        // TODO: remove listeners\n    };\n    return VisibilityChangeListener;\n}());\nexports.VisibilityChangeListener = VisibilityChangeListener;\n\n\n/***/ }),\n\n/***/ \"yNUn\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f4.fa8fa0e7c09873297312ed5082eac413.png\";\n\n/***/ }),\n\n/***/ \"ytF8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a4.30bcbdd3b26849030d9f7756c19d6a98.png\";\n\n/***/ }),\n\n/***/ \"zU+P\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f2.ebac4e572194ab532410773494ed9c4e.png\";\n\n/***/ }),\n\n/***/ \"ziB5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = __webpack_require__(\"HW6M\");\nvar _ = __webpack_require__(\"M4fF\");\nvar preact_1 = __webpack_require__(\"EF6w\");\nvar LongTouchContextMenuHandler_1 = __webpack_require__(\"euc6\");\nvar IconComponents_1 = __webpack_require__(\"NsAh\");\n__webpack_require__(\"pJA7\");\nvar SingleCellComponent = (function (_super) {\n    __extends(SingleCellComponent, _super);\n    function SingleCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SingleCellComponent.prototype.render = function (props) {\n        return (preact_1.h(\"div\", { class: \"cell-single\" },\n            preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: props.row, variant: props.variant })));\n    };\n    return SingleCellComponent;\n}(preact_1.Component));\nvar VariantVariantMultiCellComponent = (function (_super) {\n    __extends(VariantVariantMultiCellComponent, _super);\n    function VariantVariantMultiCellComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.contextMenuHandler = new LongTouchContextMenuHandler_1.LongTouchContextMenuHandler(function () { return _this.remove(); });\n        _this.onClick = function (e) {\n            _this.set();\n        };\n        return _this;\n    }\n    VariantVariantMultiCellComponent.prototype.set = function () {\n        this.props.board.set(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    };\n    VariantVariantMultiCellComponent.prototype.remove = function () {\n        this.props.board.remove(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    };\n    VariantVariantMultiCellComponent.prototype.render = function (props) {\n        return (preact_1.h(\"div\", __assign({ class: \"cell-multi-variant\", onClick: this.onClick }, this.contextMenuHandler),\n            preact_1.h(IconComponents_1.SmallVariantIconComponent, { row: props.row, variant: props.variant })));\n    };\n    return VariantVariantMultiCellComponent;\n}(preact_1.Component));\nvar EmptyVariantMultiCellComponent = (function (_super) {\n    __extends(EmptyVariantMultiCellComponent, _super);\n    function EmptyVariantMultiCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmptyVariantMultiCellComponent.prototype.render = function (props) {\n        return (preact_1.h(\"div\", { class: \"cell-multi-empty\" }));\n    };\n    return EmptyVariantMultiCellComponent;\n}(preact_1.Component));\nvar VariantMultiCellComponent = (function (_super) {\n    __extends(VariantMultiCellComponent, _super);\n    function VariantMultiCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VariantMultiCellComponent.prototype.render = function (props) {\n        if (props.variant < props.board.variants &&\n            props.board.isPossible(props.row, props.col, props.variant))\n            return preact_1.h(VariantVariantMultiCellComponent, __assign({}, props));\n        else\n            return preact_1.h(EmptyVariantMultiCellComponent, __assign({}, props));\n    };\n    return VariantMultiCellComponent;\n}(preact_1.Component));\nvar MultiCellComponent = (function (_super) {\n    __extends(MultiCellComponent, _super);\n    function MultiCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MultiCellComponent.prototype.render = function (props) {\n        var variantCols = Math.ceil(Math.sqrt(props.board.variants));\n        var variantRows = Math.ceil(props.board.variants / variantCols);\n        return (preact_1.h(\"table\", { class: \"cell-multi\" }, _.times(variantRows, function (variantRow) {\n            return preact_1.h(\"tr\", null, _.times(variantCols, function (variantCol) {\n                return preact_1.h(\"td\", null,\n                    preact_1.h(VariantMultiCellComponent, __assign({}, props, { variant: variantRow * variantCols + variantCol })));\n            }));\n        })));\n    };\n    return MultiCellComponent;\n}(preact_1.Component));\nvar CellComponent = (function (_super) {\n    __extends(CellComponent, _super);\n    function CellComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onContextMenu = function (e) {\n            e.preventDefault();\n        };\n        return _this;\n    }\n    CellComponent.prototype.render = function (props) {\n        if (props.showBoard) {\n            var correct = props.board.isSingle(props.row, props.col) && props.board.getSingle(props.row, props.col) == props.showBoard.get(props.row, props.col);\n            return (preact_1.h(\"td\", { class: classNames({\n                    \"cell-correct\": correct,\n                    \"cell-incorrect\": !correct\n                }) },\n                preact_1.h(\"div\", { class: \"cell\", onContextMenu: this.onContextMenu },\n                    preact_1.h(SingleCellComponent, __assign({}, props, { variant: props.showBoard.get(props.row, props.col) })))));\n        }\n        else {\n            return (preact_1.h(\"td\", null,\n                preact_1.h(\"div\", { class: \"cell\", onContextMenu: this.onContextMenu }, props.board.isSingle(props.row, props.col) ?\n                    preact_1.h(SingleCellComponent, __assign({}, props, { variant: props.board.getSingle(props.row, props.col) })) :\n                    preact_1.h(MultiCellComponent, __assign({}, props)))));\n        }\n    };\n    return CellComponent;\n}(preact_1.Component));\nvar RowComponent = (function (_super) {\n    __extends(RowComponent, _super);\n    function RowComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refresh = function () {\n            _this.forceUpdate();\n            _this.props.refresh();\n        };\n        return _this;\n    }\n    RowComponent.prototype.render = function (props) {\n        var _this = this;\n        return (preact_1.h(\"tr\", null, _.times(props.board.cols, function (col) {\n            return preact_1.h(CellComponent, __assign({}, props, { col: col, refresh: _this.refresh }));\n        })));\n    };\n    return RowComponent;\n}(preact_1.Component));\nvar MultiBoardComponent = (function (_super) {\n    __extends(MultiBoardComponent, _super);\n    function MultiBoardComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MultiBoardComponent.prototype.render = function (props) {\n        return (preact_1.h(\"div\", { class: \"multiboard-outer\" },\n            preact_1.h(\"table\", { class: \"multiboard\" }, _.times(props.board.rows, function (row) {\n                return preact_1.h(RowComponent, __assign({}, props, { row: row }));\n            }))));\n    };\n    return MultiBoardComponent;\n}(preact_1.Component));\nexports.MultiBoardComponent = MultiBoardComponent;\n\n\n/***/ })\n\n},[\"qMEF\"]);\n\n\n// WEBPACK FOOTER //\n// app.db9f208ac0c51b7ddaedb247c9b361ec.js","module.exports = __webpack_public_path__ + \"icons/original/large/large-c1.cf85c5eb9acce5553a85122616f8f7f3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c1.png\n// module id = +bsQ\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b3.f56ee08f09215c9501370c94a97d5da1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b3.png\n// module id = /BPU\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d5.93f0c9556e78c0b2b5ab5a7bb293e22c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d5.png\n// module id = 1Tjk\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class AdjacentHint implements Hint {\n    constructor(public row1: number, public variant1: number, public row2: number, public variant2: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        let applyToCol = (col: number, thisRow: number, thisVariant: number, adjRow: number, adjVariant: number) => {\n            const hasLeft = col >= 1 ? board.isPossible(adjRow, col - 1, adjVariant) : false;\n            const hasRight = col < board.cols - 1 ? board.isPossible(adjRow, col + 1, adjVariant) : false;\n\n            if (!hasLeft && !hasRight && board.isPossible(thisRow, col, thisVariant)) {\n                board.remove(thisRow, col, thisVariant);\n                changed = true;\n            }\n        };\n\n        for (let col = 0; col < board.cols; col++) {\n            applyToCol(col, this.row1, this.variant1, this.row2, this.variant2);\n            applyToCol(col, this.row2, this.variant2, this.row1, this.variant1);\n        }\n\n        if (changed)\n            this.applyTo(board);\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Horizontal;\n    }\n}\n\nexport class AdjacentHintFactory implements HintFactory {\n    random(board: SingleBoard): Hint {\n        let row1 = _.random(0, board.rows - 1);\n        let col1 = _.random(0, board.cols - 1);\n        let row2 = _.random(0, board.rows - 1);\n        let colDelta;\n        if (col1 == 0)\n            colDelta = 1;\n        else if (col1 == board.cols - 1)\n            colDelta = -1;\n        else\n            colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        let col2 = col1 + colDelta;\n        return new AdjacentHint(row1, board.get(row1, col1), row2, board.get(row2, col2));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/AdjacentHint.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-c6.3a75bba0385dcc7f6e7074d7873ff81e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c6.png\n// module id = 20Ho\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b1.376d5df50dd14a86919d705382c89060.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b1.png\n// module id = 27d+\n// module chunks = app","import * as _ from \"lodash\";\n\nexport class Timer {\n    private totalTime: number;\n    private startTime: number | null;\n\n    constructor() {\n        this.reset();\n    }\n\n    start(): void {\n        if (this.startTime === null)\n            this.startTime = _.now();\n    }\n\n    pause(): void {\n        let runningTime = this.getRunningTime();\n        if (runningTime !== null) {\n            this.totalTime += runningTime;\n            this.startTime = null;\n        }\n    }\n\n    getRunningTime(): number | null {\n        return this.startTime !== null ? _.now() - this.startTime : null;\n    }\n\n    getTotalTime(): number {\n        return this.totalTime + (this.getRunningTime() || 0);\n    }\n\n    reset(): void {\n        this.totalTime = 0;\n        this.startTime = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Timer.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-a3.2f39989763b3636f69b02ba2b53fbe44.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a3.png\n// module id = 4I4A\n// module chunks = app","import * as _ from \"lodash\";\n\nexport function formatDuration(diffMs: number) {\n    let diffSec = diffMs / 1000;\n    let sec = Math.floor(diffSec) % 60;\n    let min = Math.floor(diffSec / 60) % 60;\n    let hr = Math.floor(diffSec / 60 / 60);\n\n    return `${_.padStart(hr.toString(), 2, \"0\")}:${_.padStart(min.toString(), 2, \"0\")}:${_.padStart(sec.toString(), 2, \"0\")}`;\n\n    /*let ms = Math.floor(diffMs % 1000);\n    return `${_.padStart(hr.toString(), 2, \"0\")}:${_.padStart(min.toString(), 2, \"0\")}:${_.padStart(sec.toString(), 2, \"0\")}.${_.padStart(ms.toString(), 3, \"0\")}`;*/\n}\n\n\n// WEBPACK FOOTER //\n// ./src/time.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-b2.1e0362bc91fe36a746482f52eea6cd78.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b2.png\n// module id = 6b+j\n// module chunks = app","var map = {\n\t\"./icons/original/hint-adjacent.png\": \"Qj03\",\n\t\"./icons/original/hint-between.png\": \"IJZH\",\n\t\"./icons/original/hint-direction.png\": \"Op0r\",\n\t\"./icons/original/hint-tile.png\": \"qwlA\",\n\t\"./icons/original/large/large-a1.png\": \"QP0S\",\n\t\"./icons/original/large/large-a2.png\": \"NhLW\",\n\t\"./icons/original/large/large-a3.png\": \"4I4A\",\n\t\"./icons/original/large/large-a4.png\": \"ytF8\",\n\t\"./icons/original/large/large-a5.png\": \"TeOI\",\n\t\"./icons/original/large/large-a6.png\": \"N7YA\",\n\t\"./icons/original/large/large-b1.png\": \"UBU4\",\n\t\"./icons/original/large/large-b2.png\": \"w35o\",\n\t\"./icons/original/large/large-b3.png\": \"/BPU\",\n\t\"./icons/original/large/large-b4.png\": \"BRDO\",\n\t\"./icons/original/large/large-b5.png\": \"YKaq\",\n\t\"./icons/original/large/large-b6.png\": \"mPGt\",\n\t\"./icons/original/large/large-c1.png\": \"+bsQ\",\n\t\"./icons/original/large/large-c2.png\": \"oXIE\",\n\t\"./icons/original/large/large-c3.png\": \"XjqR\",\n\t\"./icons/original/large/large-c4.png\": \"mGEC\",\n\t\"./icons/original/large/large-c5.png\": \"rxGk\",\n\t\"./icons/original/large/large-c6.png\": \"oJmq\",\n\t\"./icons/original/large/large-d1.png\": \"cgSM\",\n\t\"./icons/original/large/large-d2.png\": \"oD70\",\n\t\"./icons/original/large/large-d3.png\": \"PWPq\",\n\t\"./icons/original/large/large-d4.png\": \"D3DT\",\n\t\"./icons/original/large/large-d5.png\": \"1Tjk\",\n\t\"./icons/original/large/large-d6.png\": \"q9gS\",\n\t\"./icons/original/large/large-e1.png\": \"ZvN9\",\n\t\"./icons/original/large/large-e2.png\": \"dcOB\",\n\t\"./icons/original/large/large-e3.png\": \"91Mv\",\n\t\"./icons/original/large/large-e4.png\": \"SAo3\",\n\t\"./icons/original/large/large-e5.png\": \"hli+\",\n\t\"./icons/original/large/large-e6.png\": \"YFuY\",\n\t\"./icons/original/large/large-f1.png\": \"ZNit\",\n\t\"./icons/original/large/large-f2.png\": \"zU+P\",\n\t\"./icons/original/large/large-f3.png\": \"gVWB\",\n\t\"./icons/original/large/large-f4.png\": \"yFfv\",\n\t\"./icons/original/large/large-f5.png\": \"t+UZ\",\n\t\"./icons/original/large/large-f6.png\": \"dSmd\",\n\t\"./icons/original/small/small-a1.png\": \"qpPT\",\n\t\"./icons/original/small/small-a2.png\": \"nVYH\",\n\t\"./icons/original/small/small-a3.png\": \"x5BK\",\n\t\"./icons/original/small/small-a4.png\": \"Htyr\",\n\t\"./icons/original/small/small-a5.png\": \"uVvn\",\n\t\"./icons/original/small/small-a6.png\": \"pqg3\",\n\t\"./icons/original/small/small-b1.png\": \"27d+\",\n\t\"./icons/original/small/small-b2.png\": \"6b+j\",\n\t\"./icons/original/small/small-b3.png\": \"RUP8\",\n\t\"./icons/original/small/small-b4.png\": \"romA\",\n\t\"./icons/original/small/small-b5.png\": \"fZOX\",\n\t\"./icons/original/small/small-b6.png\": \"Z31m\",\n\t\"./icons/original/small/small-c1.png\": \"kbZK\",\n\t\"./icons/original/small/small-c2.png\": \"gBE2\",\n\t\"./icons/original/small/small-c3.png\": \"mcFw\",\n\t\"./icons/original/small/small-c4.png\": \"90E6\",\n\t\"./icons/original/small/small-c5.png\": \"AQov\",\n\t\"./icons/original/small/small-c6.png\": \"20Ho\",\n\t\"./icons/original/small/small-d1.png\": \"C7Cf\",\n\t\"./icons/original/small/small-d2.png\": \"xDob\",\n\t\"./icons/original/small/small-d3.png\": \"Dvz/\",\n\t\"./icons/original/small/small-d4.png\": \"iXl1\",\n\t\"./icons/original/small/small-d5.png\": \"d6hy\",\n\t\"./icons/original/small/small-d6.png\": \"hFVX\",\n\t\"./icons/original/small/small-e1.png\": \"SCQN\",\n\t\"./icons/original/small/small-e2.png\": \"uLm8\",\n\t\"./icons/original/small/small-e3.png\": \"E9CV\",\n\t\"./icons/original/small/small-e4.png\": \"XnXw\",\n\t\"./icons/original/small/small-e5.png\": \"P2+R\",\n\t\"./icons/original/small/small-e6.png\": \"lgdU\",\n\t\"./icons/original/small/small-f1.png\": \"voAe\",\n\t\"./icons/original/small/small-f2.png\": \"xFS2\",\n\t\"./icons/original/small/small-f3.png\": \"Hoba\",\n\t\"./icons/original/small/small-f4.png\": \"yNUn\",\n\t\"./icons/original/small/small-f5.png\": \"MjYr\",\n\t\"./icons/original/small/small-f6.png\": \"QfaF\",\n\t\"./icons/original/tile.png\": \"FslU\",\n\t\"./rain-light.png\": \"8OvN\",\n\t\"./rain.png\": \"kCQN\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"7PiI\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web \\.png$\n// module id = 7PiI\n// module chunks = app","module.exports = {\n\t\"name\": \"einstein\",\n\t\"version\": \"1.2.1\",\n\t\"description\": \"Einstein Puzzle 2.0 by Flowix Games ported to the web\",\n\t\"author\": \"Simmo Saan\",\n\t\"keywords\": [\n\t\t\"typescript\",\n\t\t\"webpack\",\n\t\t\"preact\",\n\t\t\"lodash\",\n\t\t\"game\",\n\t\t\"puzzle-game\",\n\t\t\"web\"\n\t],\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"git+https://github.com/sim642/einstein-js.git\"\n\t},\n\t\"bugs\": {\n\t\t\"url\": \"https://github.com/sim642/einstein-js/issues\"\n\t},\n\t\"homepage\": \"http://einstein.sim642.eu\",\n\t\"scripts\": {\n\t\t\"build:dev\": \"webpack --env=dev --progress --profile --colors\",\n\t\t\"build:prod\": \"webpack --env=prod --progress --profile --colors\",\n\t\t\"deploy\": \"git push -f origin `git subtree split --prefix dist 2> /dev/null`:gh-pages\",\n\t\t\"watch:dev\": \"webpack --env=dev --progress --profile --colors --watch\"\n\t},\n\t\"dependencies\": {\n\t\t\"classnames\": \"^2.2.5\",\n\t\t\"lodash\": \"^4.17.4\",\n\t\t\"preact\": \"^8.1.0\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@types/lodash\": \"^4.14.66\",\n\t\t\"@types/webpack-env\": \"^1.13.0\",\n\t\t\"autoprefixer\": \"^7.1.2\",\n\t\t\"chunk-manifest-webpack-plugin\": \"^1.1.0\",\n\t\t\"copy-webpack-plugin\": \"^4.0.1\",\n\t\t\"css-loader\": \"^0.28.4\",\n\t\t\"extract-text-webpack-plugin\": \"^2.1.2\",\n\t\t\"file-loader\": \"^0.11.2\",\n\t\t\"html-webpack-plugin\": \"^2.29.0\",\n\t\t\"less\": \"^2.7.2\",\n\t\t\"less-loader\": \"^4.0.4\",\n\t\t\"offline-plugin\": \"^4.8.1\",\n\t\t\"postcss-loader\": \"^2.0.6\",\n\t\t\"style-loader\": \"^0.18.2\",\n\t\t\"ts-loader\": \"^2.2.0\",\n\t\t\"typescript\": \"~2.3.4\",\n\t\t\"webpack\": \"^3.0.0\",\n\t\t\"webpack-chunk-hash\": \"^0.4.0\",\n\t\t\"webpack-merge\": \"^4.1.0\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 7YgM\n// module chunks = app","module.exports = __webpack_public_path__ + \"./rain-light.272fb79b7c99a89b9891f2d596aabecc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/rain-light.png\n// module id = 8OvN\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c4.bc367c0d574d1037f7983b61b94776bf.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c4.png\n// module id = 90E6\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e3.24b0bdf46ccfa5fae6d324e4b08c9a31.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e3.png\n// module id = 91Mv\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c5.9254afe6e7940800db50da758cb752df.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c5.png\n// module id = AQov\n// module chunks = app","import {Listener} from \"./Listener\";\n\nexport class MessageUnloadListener implements Listener {\n    constructor(public callback: () => string | null) {\n\n    }\n\n    private onBeforeUnload = (e) => {\n        let message = this.callback();\n        if (message !== null)\n            return e.returnValue = message;\n        else\n            return undefined;\n    };\n\n    add(): void {\n        window.addEventListener(\"beforeunload\", this.onBeforeUnload);\n    }\n\n    remove(): void {\n        window.removeEventListener(\"beforeunload\", this.onBeforeUnload);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/helper/MessageUnloadListener.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-b4.cde289fd73095da992ec76470fcaf001.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b4.png\n// module id = BRDO\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-d1.4623124355805891864ed2e7f2bec09a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d1.png\n// module id = C7Cf\n// module chunks = app","import * as _ from 'lodash';\nimport {Board} from './Board';\nimport {Hint} from \"../hint/Hint\";\nimport {SingleBoard} from \"./SingleBoard\";\n\ntype Variants = boolean[];\n\nexport class MultiBoard extends Board<Variants> {\n    static full(): MultiBoard {\n        return new MultiBoard(_.times(Board.rows, row => _.times(Board.cols, col => _.times(Board.variants, _.constant(true)))));\n    }\n\n    remove(row: number, col: number, variant: number): void {\n        if (this.get(row, col)[variant]) {\n            this.get(row, col)[variant] = false;\n            this.pruneSingles(row);\n        }\n    }\n\n    set(row: number, col: number, variant: number): void {\n        for (let variant = 0; variant < this.variants; variant++)\n            this.get(row, col)[variant] = false;\n        for (let col = 0; col < this.cols; col++)\n            this.get(row, col)[variant] = false;\n        this.get(row, col)[variant] = true;\n        this.pruneSingles(row);\n    }\n\n    isPossible(row: number, col: number, variant: number): boolean {\n        return this.get(row, col)[variant];\n    }\n\n    count(row: number, col: number): number {\n        return _.sumBy(this.get(row, col), variant => variant ? 1 : 0);\n    }\n\n    isSingle(row: number, col: number): boolean {\n        return this.count(row, col) == 1;\n    }\n\n    getSingle(row: number, col: number): number {\n        return _.findIndex(this.get(row, col));\n    }\n\n    private pruneSingles(row: number): void {\n        let colCnt = _.times(this.cols, _.constant(0));\n        let variantCnt = _.times(this.variants, _.constant(0));\n        let colVariant = _.times(this.cols, _.constant(0));\n        let variantCol = _.times(this.variants, _.constant(0));\n\n        for (let col = 0; col < this.cols; col++) {\n            for (let variant = 0; variant < this.variants; variant++) {\n                if (this.get(row, col)[variant]) {\n                    colCnt[col]++;\n                    variantCnt[variant]++;\n                    colVariant[col] = variant;\n                    variantCol[variant] = col;\n                }\n            }\n        }\n\n        let changed = false;\n\n        for (let col = 0; col < this.cols; col++) {\n            if (colCnt[col] == 1 && variantCnt[colVariant[col]] != 1) {\n                const variant = colVariant[col];\n                for (let col2 = 0; col2 < this.cols; col2++) {\n                    if (col2 != col)\n                        this.get(row, col2)[variant] = false;\n                }\n                changed = true;\n            }\n        }\n\n        for (let variant = 0; variant < this.variants; variant++) {\n            if (variantCnt[variant] == 1 && colCnt[variantCol[variant]] != 1) {\n                const col = variantCol[variant];\n                for (let variant2 = 0; variant2 < this.variants; variant2++) {\n                    if (variant2 != variant)\n                        this.get(row, col)[variant2] = false;\n                }\n                changed = true;\n            }\n        }\n\n        if (changed)\n            this.pruneSingles(row);\n    }\n\n    applyHint(hint: Hint): boolean {\n        return hint.applyTo(this);\n    }\n\n    applyHints(hints: Hint[]): boolean {\n        let changed : boolean;\n        do {\n            changed = false;\n            for (let hint of hints) {\n                if (this.applyHint(hint))\n                    changed = true;\n            }\n        } while (changed);\n        return changed;\n    }\n\n    applySingleHint(hints: Hint[]): boolean {\n        for (let hint of hints) {\n            if (this.applyHint(hint))\n                return true;\n        }\n        return false;\n    }\n\n    isSolved(singleBoard: SingleBoard): boolean {\n        return this.isSingleBoard() && this.contains(singleBoard);\n    }\n\n    isSingleBoard(): boolean {\n        for (let row = 0; row < this.rows; row++) {\n            for (let col = 0; col < this.cols; col++) {\n                if (!this.isSingle(row, col))\n                    return false;\n            }\n        }\n        return true;\n    }\n\n    contains(singleBoard: SingleBoard): boolean {\n        for (let row = 0; row < this.rows; row++) {\n            for (let col = 0; col < this.cols; col++) {\n                if (!this.isPossible(row, col, singleBoard.get(row, col)))\n                    return false;\n            }\n        }\n        return true;\n    }\n\n    applySingleBoard(singleBoard: SingleBoard): boolean {\n        if (this.isSolved(singleBoard))\n            return false;\n        else {\n            for (let row = 0; row < this.rows; row++) {\n                for (let col = 0; col < this.cols; col++) {\n                    let singleVariant = singleBoard.get(row, col);\n                    for (let variant = 0; variant < this.variants; variant++)\n                        this.get(row, col)[variant] = variant == singleVariant;\n                }\n            }\n            return true;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/board/MultiBoard.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-d4.08e21c2cf4f787a7913cc84db58777ec.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d4.png\n// module id = D3DT\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class BetweenHint implements Hint {\n    constructor(public row1: number, public variant1: number, public rowMiddle: number, public variantMiddle: number, public row2: number, public variant2: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        if (board.isPossible(this.rowMiddle, 0, this.variantMiddle)) {\n            board.remove(this.rowMiddle, 0, this.variantMiddle);\n            changed = true;\n        }\n\n        if (board.isPossible(this.rowMiddle, board.cols - 1, this.variantMiddle)) {\n            board.remove(this.rowMiddle, board.cols - 1, this.variantMiddle);\n            changed = true;\n        }\n\n        let changed2;\n        do {\n            changed2 = false;\n\n            for (let col = 1; col < board.cols - 1; col++) {\n                if (board.isPossible(this.rowMiddle, col, this.variantMiddle) &&\n                    !(board.isPossible(this.row1, col - 1, this.variant1) && board.isPossible(this.row2, col + 1, this.variant2) ||\n                      board.isPossible(this.row2, col - 1, this.variant2) && board.isPossible(this.row1, col + 1, this.variant1))) {\n                    board.remove(this.rowMiddle, col, this.variantMiddle);\n                    changed2 = true;\n                }\n            }\n\n            for (let col = 0; col < board.cols; col++) {\n                if (board.isPossible(this.row1, col, this.variant1)) {\n                    const leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row2, col - 2, this.variant2) : false;\n                    const rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row2, col + 2, this.variant2) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row1, col, this.variant1);\n                        changed2 = true;\n                    }\n                }\n\n                if (board.isPossible(this.row2, col, this.variant2)) {\n                    const leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row1, col - 2, this.variant1) : false;\n                    const rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row1, col + 2, this.variant1) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row2, col, this.variant2);\n                        changed2 = true;\n                    }\n                }\n            }\n\n            if (changed2)\n                changed = true;\n        } while (changed2);\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Horizontal;\n    }\n}\n\nexport class BetweenHintFactory implements HintFactory {\n    random(board: SingleBoard): Hint {\n        let row1 = _.random(0, board.rows - 1);\n        let rowMiddle = _.random(0, board.rows - 1);\n        let colMiddle = _.random(1, board.cols - 2);\n        let row2 = _.random(0, board.rows - 1);\n        let colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        let col1 = colMiddle + colDelta;\n        let col2 = colMiddle - colDelta;\n        return new BetweenHint(row1, board.get(row1, col1), rowMiddle, board.get(rowMiddle, colMiddle), row2, board.get(row2, col2));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/BetweenHint.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-d3.402ab38c15f0b6e6d5bf8c21c1966cac.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d3.png\n// module id = Dvz/\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e3.158bc24007fc557a4756dcaaf638f81c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e3.png\n// module id = E9CV\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/tile.3631d1df5b147c00992f293ab1246a12.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/tile.png\n// module id = FslU\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-f3.5b7ae0c2d05c4e28148dc866a5094d67.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f3.png\n// module id = Hoba\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a4.0ef2cddeeac6822a557e42295feb1e3c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a4.png\n// module id = Htyr\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class OpenHint implements Hint {\n    constructor(public row: number, public col: number, public variant: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        if (!board.isSingle(this.row, this.col)) {\n            board.set(this.row, this.col, this.variant);\n            return true;\n        }\n        else\n            return false;\n    }\n\n    getType(): HintType {\n        return HintType.Start;\n    }\n}\n\nexport class OpenHintFactory implements HintFactory {\n    random(board: SingleBoard): Hint {\n        let row = _.random(0, board.rows - 1);\n        let col = _.random(0, board.cols - 1);\n        return new OpenHint(row, col, board.get(row, col));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/OpenHint.ts","module.exports = __webpack_public_path__ + \"icons/original/hint-between.4800cdbe6818a1ee91adb4003d1dc435.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-between.png\n// module id = IJZH\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class SameColumnHint implements Hint {\n    constructor(public row1: number, public variant1: number, public row2: number, public variant2: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        for (let col = 0; col < board.cols; col++) {\n            const possible1 = board.isPossible(this.row1, col, this.variant1);\n            const possible2 = board.isPossible(this.row2, col, this.variant2);\n\n            if (!possible1 && possible2) {\n                board.remove(this.row2, col, this.variant2);\n                changed = true;\n            }\n            else if (possible1 && !possible2) {\n                board.remove(this.row1, col, this.variant1);\n                changed = true;\n            }\n        }\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Vertical;\n    }\n}\n\nexport class SameColumnHintFactory implements HintFactory {\n    random(board: SingleBoard): Hint {\n        let col = _.random(0, board.cols - 1);\n        let row1 = _.random(0, board.rows - 1);\n        let row2;\n        do {\n            row2 = _.random(0, board.rows - 1);\n        } while (row2 == row1);\n        return new SameColumnHint(row1, board.get(row1, col), row2, board.get(row2, col));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/SameColumnHint.ts","import * as _ from \"lodash\";\nimport {Hint} from \"../hint/Hint\";\nimport {Board} from \"./Board\";\nimport {MultiBoard} from \"./MultiBoard\";\n\nexport class SingleBoard extends Board<number> {\n    static random(): SingleBoard {\n        return new SingleBoard(_.times(Board.rows, row => _.shuffle(_.range(Board.cols))));\n    }\n\n    isSolvable(hints: Hint[]) {\n        let multiBoard = MultiBoard.full();\n        multiBoard.applyHints(hints);\n        return multiBoard.isSolved(this);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/board/SingleBoard.ts","import * as classNames from \"classnames\";\nimport * as _ from \"lodash\";\nimport {Component, h} from \"preact\";\nimport {AdjacentHint} from \"../puzzle/hint/AdjacentHint\";\nimport {BetweenHint} from \"../puzzle/hint/BetweenHint\";\nimport {DirectionHint} from \"../puzzle/hint/DirectionHint\";\nimport {Hint, HintType} from \"../puzzle/hint/Hint\";\nimport {SameColumnHint} from \"../puzzle/hint/SameColumnHint\";\nimport {LongTouchContextMenuHandler} from \"./helper/LongTouchContextMenuHandler\";\nimport \"./hints.less\";\nimport {IconComponent, LargeVariantIconComponent} from \"./IconComponents\";\n\ninterface VisibilityState {\n    visible: boolean;\n}\n\ninterface HintProps {\n    hint: Hint;\n}\n\nclass HintComponent extends Component<HintProps, VisibilityState> {\n    private contextMenuHandler = new LongTouchContextMenuHandler(() => this.onToggle());\n\n    constructor() {\n        super();\n        this.state = {\n            visible: true\n        };\n    }\n\n    componentWillReceiveProps(nextProps: HintProps) {\n        if (this.props.hint !== nextProps.hint) {\n            this.setState({\n                visible: true\n            });\n        }\n    }\n\n    private onToggle = () => {\n        this.setState(state => {\n            return {\n                visible: !state.visible\n            };\n        });\n    };\n\n    private renderTbody(props: HintProps) {\n        let hint = props.hint;\n        if (hint instanceof AdjacentHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row1} variant={hint.variant1}/>\n                        </td>\n                        <td>\n                            <IconComponent name=\"hint-adjacent\"/>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row2} variant={hint.variant2}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else if (hint instanceof BetweenHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row1} variant={hint.variant1}/>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.rowMiddle} variant={hint.variantMiddle}/>\n                            <div class=\"hint-between\">\n                                <IconComponent name=\"hint-between\"/>\n                            </div>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row2} variant={hint.variant2}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else if (hint instanceof DirectionHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.rowLeft} variant={hint.variantLeft}/>\n                        </td>\n                        <td>\n                            <IconComponent name=\"hint-direction\"/>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.rowRight} variant={hint.variantRight}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else if (hint instanceof SameColumnHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row1} variant={hint.variant1}/>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row2} variant={hint.variant2}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else\n            throw new Error(\"Unsupported hint type\");\n    }\n\n    render(props: HintProps, state: VisibilityState) {\n        return (\n            <div class={classNames({\n                \"hint-outer\": true,\n                \"hint-visible\": state.visible,\n                \"hint-hidden\": !state.visible\n            })} {...this.contextMenuHandler}>\n                <table class=\"hint\">\n                    {this.renderTbody(props)}\n                </table>\n            </div>\n        );\n    }\n}\n\nexport interface HintsProps {\n    hints: Hint[];\n}\n\nexport class HintsComponent extends Component<HintsProps, VisibilityState> {\n    constructor() {\n        super();\n        this.state = {\n            visible: true\n        };\n    }\n\n    componentWillReceiveProps(nextProps: HintsProps) {\n        if (this.props.hints !== nextProps.hints) {\n            this.setState({\n                visible: true\n            });\n        }\n    }\n\n    private onToggle = (e) => {\n        this.setState(state => {\n            return {\n                visible: !state.visible\n            };\n        });\n    };\n\n    render(props: HintsProps, state: VisibilityState) {\n        return (\n            <div class=\"hints\">\n                <button class=\"button-toggle\" onClick={this.onToggle}>Toggle</button>\n                <div class={classNames({\n                    \"hints-horizontal\": true,\n                    \"hints-visible\": state.visible,\n                    \"hints-hidden\": !state.visible\n                })}>\n                    {_.map(_.filter(props.hints, hint => hint.getType() === HintType.Horizontal), hint =>\n                        <HintComponent hint={hint}/>\n                    )}\n                    {/*<div class=\"hints-vertical\">*/}\n                        {_.map(_.filter(props.hints, hint => hint.getType() === HintType.Vertical), hint =>\n                            <HintComponent hint={hint}/>\n                        )}\n                    {/*</div>*/}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/HintsComponent.tsx","module.exports = __webpack_public_path__ + \"icons/original/small/small-f5.72cc42d0d642b89a43f7d5dae38777d0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f5.png\n// module id = MjYr\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a6.4ac50d73cecffe7683129cb537280e02.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a6.png\n// module id = N7YA\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a2.b09094efecdd9eb43f5c9d816a1fe4e3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a2.png\n// module id = NhLW\n// module chunks = app","import {Component, h} from \"preact\";\nimport \"./icons.less\";\n\n// https://webpack.js.org/guides/dependency-management/#context-module-api\nlet cache = {};\n\nfunction importAll (r) {\n    r.keys().forEach(key => cache[key] = r(key));\n}\n\nimportAll(require.context('./', true, /\\.png$/));\n\n\nexport interface IconProps {\n    name: string;\n}\n\nexport class IconComponent extends Component<IconProps, any> {\n    render(props: IconProps) {\n        return (\n            <img class=\"icon\" src={cache[`./icons/original/${props.name}.png`]}/>\n        );\n    }\n}\n\nexport interface VariantIconProps {\n    row: number;\n    variant: number;\n}\n\nexport class LargeVariantIconComponent extends Component<VariantIconProps, any> {\n    render(props: VariantIconProps) {\n        return (\n            <IconComponent name={`large/large-${(props.row + 10).toString(16)}${props.variant + 1}`}/>\n        );\n    }\n}\n\nexport class SmallVariantIconComponent extends Component<VariantIconProps, any> {\n    render(props: VariantIconProps) {\n        return (\n            <IconComponent name={`small/small-${(props.row + 10).toString(16)}${props.variant + 1}`}/>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/IconComponents.tsx","module.exports = __webpack_public_path__ + \"icons/original/hint-direction.2a6b9db9707be05efc146cbd8e571e2b.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-direction.png\n// module id = Op0r\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e5.46811d66ca231366ab2e44b4de32bee7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e5.png\n// module id = P2+R\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d3.87d7030770383023603c79700050ee58.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d3.png\n// module id = PWPq\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a1.d73d5dfe6e49493fa72128c7d36eca4e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a1.png\n// module id = QP0S\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-f6.2f7d8a98586b23b3f348bef4350bf4f7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f6.png\n// module id = QfaF\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/hint-adjacent.7b5864dbf0656526063d96f271c1e5fc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-adjacent.png\n// module id = Qj03\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b3.65f5bcb765e8dc6f37ec5174e112cea4.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b3.png\n// module id = RUP8\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e4.07420566e5a63e3313fa48704100c22f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e4.png\n// module id = SAo3\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e1.abbe71866b879431f7d1ec2f736260f3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e1.png\n// module id = SCQN\n// module chunks = app","import * as classNames from \"classnames\";\nimport * as _ from \"lodash\";\nimport * as Package from \"package.json\";\nimport {Component, h} from \"preact\";\nimport {Puzzle} from \"../puzzle/Puzzle\";\nimport {formatDuration} from \"../time\";\nimport {Timer} from \"../Timer\";\nimport \"./app.less\";\nimport {HintsComponent} from \"./HintsComponent\";\nimport {MultiBoardComponent} from \"./MultiBoardComponent\";\nimport {TimerComponent} from \"./TimerComponent\";\nimport {VisibilityChangeListener} from \"./helper/VisibilityChangeListener\";\nimport {MessageUnloadListener} from \"./helper/MessageUnloadListener\";\n\nexport enum GameState {\n    Playing,\n    ManualPaused,\n    AutoPaused,\n    Solved,\n    Over,\n}\n\ninterface AppState {\n    puzzle: Puzzle;\n    gameState: GameState;\n    cheated: number;\n}\n\nexport class AppComponent extends Component<{}, AppState> {\n    private timer = new Timer();\n    private visibilityChange: VisibilityChangeListener;\n    private messageUnload: MessageUnloadListener;\n\n    constructor() {\n        super();\n        this.state = {\n            puzzle: Puzzle.generate(),\n            gameState: GameState.Playing,\n            cheated: 0\n        };\n        this.visibilityChange = new VisibilityChangeListener(this.onVisibilityChange);\n        this.messageUnload = new MessageUnloadListener(this.onMessageUnload);\n    }\n\n    componentDidMount() {\n        this.timer.start();\n        this.visibilityChange.add();\n        this.messageUnload.add();\n    }\n\n    componentWillUnmount() {\n        this.visibilityChange.remove();\n        this.messageUnload.remove();\n    }\n\n    private onClickNewGame = (e) => {\n        this.setState({\n            puzzle: Puzzle.generate(),\n            gameState: GameState.Playing,\n            cheated: 0\n        });\n        this.timer.reset();\n        this.timer.start();\n    };\n\n    private onClickPause = (e) => {\n        if (this.state.gameState === GameState.Playing) {\n            this.timer.pause();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.ManualPaused\n            }));\n        }\n    };\n\n    private onClickResume = (e) => {\n        if (this.state.gameState === GameState.ManualPaused || this.state.gameState === GameState.AutoPaused) {\n            this.timer.start();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.Playing\n            }));\n        }\n    };\n\n    private onClickCheat = (e) => {\n        if (this.state.gameState === GameState.Playing) {\n            this.setState((state: AppState) => {\n                let changed = state.puzzle.applySingleHint();\n                return _.merge(state, {\n                    cheated: state.cheated + (changed ? 1 : 0)\n                });\n            }, this.refresh);\n        }\n    };\n\n    private onVisibilityChange = visible => {\n        if (visible && this.state.gameState === GameState.AutoPaused) {\n            this.timer.start();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.Playing\n            }));\n        }\n        else if (!visible && this.state.gameState === GameState.Playing) {\n            this.timer.pause();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.AutoPaused\n            }));\n        }\n    };\n\n    private onMessageUnload = () => {\n        switch (this.state.gameState) {\n            case GameState.Playing:\n            case GameState.ManualPaused:\n            case GameState.AutoPaused:\n                return \"Are you sure you want to leave while the game is in progress?\";\n\n            default:\n                return null;\n        }\n    };\n\n    private refresh = () => {\n        if (this.state.gameState === GameState.Playing) {\n            let puzzle = this.state.puzzle;\n            if (puzzle.isSolved()) {\n                this.timer.pause();\n                let time = this.timer.getTotalTime();\n                this.setState(state => _.merge(state, {\n                    gameState: GameState.Solved\n                }), () => {\n                    let cheated = this.state.cheated;\n                    alert(`Solved in ${formatDuration(time)}${cheated > 0 ? ` by cheating ${cheated} times` : \"\"}!`);\n                });\n            }\n            else if (puzzle.isOver()) {\n                this.timer.pause();\n                this.setState(state => _.merge(state, {\n                    gameState: GameState.Over\n                }), () => {\n                    alert(\"Over!\");\n                });\n            }\n        }\n    };\n\n    render(props, state: AppState) {\n        let solvedOrOver = state.gameState === GameState.Solved || state.gameState === GameState.Over;\n        let showBoard = solvedOrOver ? state.puzzle.singleBoard : undefined;\n        return (\n            <div class={classNames({\n                \"app\": true,\n                \"paused\": state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused,\n                \"solved\": state.gameState === GameState.Solved,\n                \"over\": state.gameState === GameState.Over,\n                \"cheated\": state.cheated > 0\n            })}>\n                <div class=\"app-top\">\n                    <div class=\"header\">\n                        <div class=\"brand\">\n                            <a href=\"http://einstein.sim642.eu\" title={`einstein-js ${Package.version}`}>einstein-js</a> <small>by <a href=\"https://github.com/sim642/einstein-js\">sim642</a></small>\n                        </div>\n\n                        <div class=\"buttons\">\n                            <button onClick={this.onClickNewGame}>New game</button>\n                            <button disabled={state.gameState !== GameState.Playing} onClick={this.onClickCheat}>\n                                Cheat {\n                                    state.cheated > 0 ?\n                                        <span class=\"badge\">{state.cheated}</span> :\n                                        null\n                                }\n                            </button>\n                            {\n                                state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused ?\n                                    <button class=\"button-highlight\" onClick={this.onClickResume}>Resume</button> :\n                                    <button disabled={state.gameState !== GameState.Playing} onClick={this.onClickPause}>Pause</button>\n                            }\n                        </div>\n\n                        <TimerComponent timer={this.timer}/>\n                    </div>\n                    <MultiBoardComponent board={state.puzzle.multiBoard} refresh={this.refresh} showBoard={showBoard}/>\n                </div>\n                <HintsComponent hints={state.puzzle.hints}/>\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/AppComponent.tsx","module.exports = __webpack_public_path__ + \"icons/original/large/large-a5.e5df7839ecedea6b66da59aa3ece9ba8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a5.png\n// module id = TeOI\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b1.67391202fba98a1797a9c666a9f2d723.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b1.png\n// module id = UBU4\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class DirectionHint implements Hint {\n    constructor(public rowLeft: number, public variantLeft: number, public rowRight: number, public variantRight: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        for (let col = 0; col < board.cols; col++) {\n            if (board.isPossible(this.rowRight, col, this.variantRight)) {\n                board.remove(this.rowRight, col, this.variantRight);\n                changed = true;\n            }\n            if (board.isPossible(this.rowLeft, col, this.variantLeft))\n                break;\n        }\n\n        for (let col = board.cols - 1; col >= 0; col--) {\n            if (board.isPossible(this.rowLeft, col, this.variantLeft)) {\n                board.remove(this.rowLeft, col, this.variantLeft);\n                changed = true;\n            }\n            if (board.isPossible(this.rowRight, col, this.variantRight))\n                break;\n        }\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Horizontal;\n    }\n}\n\nexport class DirectionHintFactory implements HintFactory {\n    random(board: SingleBoard): Hint {\n        let rowLeft = _.random(0, board.rows - 1);\n        let colLeft = _.random(0, board.cols - 2);\n        let rowRight = _.random(0, board.rows - 1);\n        let colRight = _.random(colLeft + 1, board.cols - 1);\n        return new DirectionHint(rowLeft, board.get(rowLeft, colLeft), rowRight, board.get(rowRight, colRight));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/DirectionHint.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-c3.82043ba3661fa5a9afc87cf0c1d9f917.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c3.png\n// module id = XjqR\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e4.967aa445a182fda8b3261d4612d3a3fc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e4.png\n// module id = XnXw\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e6.60a05543c24485dc78b1cb4f47c306be.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e6.png\n// module id = YFuY\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b5.746416be364e3c33aacd6055c476fbc5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b5.png\n// module id = YKaq\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b6.0b3f448c498b70903671a4bc69efde0d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b6.png\n// module id = Z31m\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f1.2d3e9386d0328114e71184f6946f14b6.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f1.png\n// module id = ZNit\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e1.b1cd43842afa4b29b592e9ac499769ca.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e1.png\n// module id = ZvN9\n// module chunks = app","export abstract class Board<T> {\n    public static readonly rows: number = 6;\n    public static readonly cols: number = 6;\n    public static readonly variants: number = Board.cols;\n\n    constructor(private table: T[][]) {\n\n    }\n\n    readonly rows: number = this.table.length;\n    readonly cols: number = this.table[0].length;\n    readonly variants: number = this.cols;\n\n    get(row: number, col: number): T {\n        return this.table[row][col];\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/board/Board.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-d1.4c6fc5e018efe828eb0a0a8136a8cc76.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d1.png\n// module id = cgSM\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-d5.ae2144db1de56afe0541c89db7a31463.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d5.png\n// module id = d6hy\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f6.d614ae0c9d5efd565ca308cd3435188e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f6.png\n// module id = dSmd\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e2.bba1807b4ac83d4a610aa663676e1204.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e2.png\n// module id = dcOB\n// module chunks = app","import {Component, h} from \"preact\";\nimport {formatDuration} from \"../time\";\nimport {Timer} from \"../Timer\";\n\nexport interface TimerProps {\n    timer: Timer;\n}\n\ninterface TimerState {\n    time: number;\n}\n\nexport class TimerComponent extends Component<TimerProps, TimerState> {\n    private interval: number | null = null;\n\n    constructor(props: TimerProps) {\n        super();\n        this.state = {\n            time: props.timer.getTotalTime()\n        };\n    }\n\n    componentWillReceiveProps(nextProps: TimerProps) {\n        this.setState({\n            time: nextProps.timer.getTotalTime()\n        });\n        this.setTimer();\n    }\n\n    componentDidMount() {\n        this.setTimer();\n    }\n\n    componentWillUnmount() {\n        this.clearTimer();\n    }\n\n    private clearTimer() {\n        if (this.interval !== null)\n            clearInterval(this.interval);\n    }\n\n    private setTimer() {\n        this.clearTimer();\n\n        setTimeout(() => {\n            this.interval = setInterval(() => {\n                this.setState({\n                    time: this.props.timer.getTotalTime()\n                });\n            }, 1000);\n        }, 0); // HACK: give enough delay to make interval fall between seconds and avoid second skipping\n    }\n\n    render(props: TimerProps, state: TimerState) {\n        return (\n            <div class=\"timer\">\n                {formatDuration(state.time)}\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/TimerComponent.tsx","import {TouchContextMenuHandler} from \"./Handler\";\n\nexport class LongTouchContextMenuHandler implements TouchContextMenuHandler {\n    private timeout: number;\n\n    private static touching: boolean = false;\n    private static readonly longTouchTime = 500;\n\n    constructor(public callback: () => void) {\n\n    }\n\n    // iOS long touch workaround\n    // https://stackoverflow.com/a/33778163\n    // https://jsfiddle.net/gianlucaguarini/56Szw/\n    // https://stackoverflow.com/a/33303261\n\n    onTouchStart = (e) => {\n        // console.debug(\"touchstart\");\n        LongTouchContextMenuHandler.touching = true;\n        this.timeout = setTimeout(() => {\n            console.log(\"longtouch\");\n            this.callback();\n        }, LongTouchContextMenuHandler.longTouchTime);\n    };\n\n    onTouchMove = (e) => {\n        // console.debug(\"touchmove\");\n        clearTimeout(this.timeout);\n    };\n\n    onTouchEnd = (e) => {\n        // console.debug(\"touchend\");\n        LongTouchContextMenuHandler.touching = false;\n        clearTimeout(this.timeout);\n    };\n\n    onTouchCancel = (e) => {\n        // console.debug(\"touchcancel\");\n        LongTouchContextMenuHandler.touching = false;\n        clearTimeout(this.timeout);\n    };\n\n    onContextMenu = (e) => {\n        e.preventDefault();\n        if (!LongTouchContextMenuHandler.touching) // prevent double-triggering if context menu opens after long touch\n            this.callback();\n    };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/helper/LongTouchContextMenuHandler.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-b5.39e97e63457f6a5ef329ce7a1f329d47.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b5.png\n// module id = fZOX\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c2.488e286fbc404fc350cc0e4def122c83.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c2.png\n// module id = gBE2\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f3.0070d3861e60350f291165d89028d7d1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f3.png\n// module id = gVWB\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-d6.83aaeda6a3e029931af97f484755879f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d6.png\n// module id = hFVX\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e5.b1fdec84ea77accaea3f9a52908d69f3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e5.png\n// module id = hli+\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"./board/MultiBoard\";\nimport {SingleBoard} from \"./board/SingleBoard\";\nimport {AdjacentHintFactory} from \"./hint/AdjacentHint\";\nimport {BetweenHintFactory} from \"./hint/BetweenHint\";\nimport {DirectionHintFactory} from \"./hint/DirectionHint\";\nimport {Hint, HintFactory, HintType} from \"./hint/Hint\";\nimport {OpenHintFactory} from \"./hint/OpenHint\";\nimport {SameColumnHintFactory} from \"./hint/SameColumnHint\";\n\nexport class Puzzle {\n    public multiBoard: MultiBoard = MultiBoard.full();\n\n    constructor(public singleBoard: SingleBoard, public hints: Hint[]) {\n        this.multiBoard.applyHints(_.filter(hints, hint => hint.getType() === HintType.Start));\n    }\n\n    isSolved(): boolean {\n        return this.multiBoard.isSolved(this.singleBoard);\n    }\n\n    isOver(): boolean {\n        return !this.multiBoard.contains(this.singleBoard);\n    }\n\n    applySingleHint(): boolean {\n        return this.multiBoard.applySingleHint(_.filter(this.hints, hint => hint.getType() !== HintType.Start));\n    }\n\n    static generate(): Puzzle {\n        let board = SingleBoard.random();\n        return new Puzzle(board, Puzzle.pruneHints(board, Puzzle.generateHints(board)));\n    }\n\n    private static generateHints(board: SingleBoard): Hint[] {\n        let hints: Hint[] = [];\n        while (!board.isSolvable(hints)) {\n            let hint = Puzzle.generateHint(board);\n            hints.push(hint);\n        }\n        return hints;\n    }\n\n    private static generateHint(board: SingleBoard): Hint {\n        let hintFactory: HintFactory;\n        // hint frequency distribution from original einstein 2.0\n        switch (_.random(0, 14 - 1)) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n                hintFactory = new AdjacentHintFactory();\n                break;\n\n            case 4:\n                hintFactory = new OpenHintFactory();\n                break;\n\n            case 5:\n            case 6:\n                hintFactory = new SameColumnHintFactory();\n                break;\n\n            case 7:\n            case 8:\n            case 9:\n            case 10:\n                hintFactory = new DirectionHintFactory();\n                break;\n\n            case 11:\n            case 12:\n            case 13:\n                hintFactory = new BetweenHintFactory();\n                break;\n\n            default:\n                throw new Error(\"Unhandled random HintFactory value\");\n        }\n        return hintFactory.random(board);\n    }\n\n    private static pruneHints(board: SingleBoard, hints: Hint[]): Hint[] {\n        hints = _.clone(hints);\n        console.debug(`Before pruneHints: ${hints.length}`);\n        let changed: boolean;\n        do {\n            changed = false;\n            for (let i = 0; i < hints.length; i++) {\n                let hint = hints.splice(i, 1)[0];\n                if (board.isSolvable(hints)) {\n                    changed = true;\n                    break;\n                }\n                else\n                    hints.splice(i, 0, hint);\n            }\n        } while (changed);\n        console.debug(`After pruneHints: ${hints.length}`);\n        return hints;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/Puzzle.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-d4.465fbcbda569f002956eff6dbc525fba.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d4.png\n// module id = iXl1\n// module chunks = app","module.exports = __webpack_public_path__ + \"./rain.0d05874e0f2cdd3a51985dd895f01fd0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/rain.png\n// module id = kCQN\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c1.857515213e12574db6ea3b7694015dd8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c1.png\n// module id = kbZK\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e6.f63290d00dca1fb50b97a7749bbc6fdc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e6.png\n// module id = lgdU\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c4.83eef6ef77656276b988cffc6dd1b2dd.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c4.png\n// module id = mGEC\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b6.29228909139aed0e29c1e0d248fdc8b1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b6.png\n// module id = mPGt\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c3.8ecb4d1c7b95cff1b3f7a4e3e0342ad0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c3.png\n// module id = mcFw\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a2.e58c4d7d4ca282f01f1842de56fcc204.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a2.png\n// module id = nVYH\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d2.9a9e2546ef2de2aed7b9cafca1e574a4.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d2.png\n// module id = oD70\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c6.b70b863014dd77f1444a4f5dcfaf937d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c6.png\n// module id = oJmq\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c2.c8ea002cb52b8a2bb2391a8a599a1be2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c2.png\n// module id = oXIE\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a6.b74ac4a06b9b99cdebadc188e6f2eba7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a6.png\n// module id = pqg3\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d6.3707649a76849867b0067b33cee2f45a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d6.png\n// module id = q9gS\n// module chunks = app","import {Component, h, render} from \"preact\";\nimport {AppComponent} from \"./web/AppComponent\";\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\nimport {VisibilityChangeListener} from \"./web/helper/VisibilityChangeListener\";\n\nconsole.log(\"-------\");\n\nOfflinePluginRuntime.install();\n\n// import \"preact/devtools\";\n\nrender(<AppComponent/>, document.body);\n\n/*var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;\nalert(width);*/\n\n\n/*\nlet listener = new VisibilityChangeListener(visible => console.log(`Visibility ${visible} ${document.visibilityState}`));\nlistener.add();*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","module.exports = __webpack_public_path__ + \"icons/original/small/small-a1.7ec6461d1c92b8cd2af53465e9b35cfc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a1.png\n// module id = qpPT\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/hint-tile.fef2ac154678271b433d05cac0e1e766.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-tile.png\n// module id = qwlA\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b4.5539a0f576453510700b7e1ac8ac62c2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b4.png\n// module id = romA\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c5.649a708fdfe3823d8ad66395bf760461.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c5.png\n// module id = rxGk\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f5.23ad85abc671b650c4fab087327177b8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f5.png\n// module id = t+UZ\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e2.2a6f0dc9158e2248beb5da27abf58387.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e2.png\n// module id = uLm8\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a5.a7e023b76efb421fce243698ec5c1172.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a5.png\n// module id = uVvn\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-f1.cf4eb2f72546034b67c7e387426aab1f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f1.png\n// module id = voAe\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b2.f088bd5349ae94f3aecf2256a2a41f9a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b2.png\n// module id = w35o\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a3.b5693ec5ce8e44c2ab79da7d22e419c0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a3.png\n// module id = x5BK\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-d2.f554d768eed7fb9c2ac1361d80a08e82.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d2.png\n// module id = xDob\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-f2.1214cc29cc865a50e028b884cf34173d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f2.png\n// module id = xFS2\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f4.43276b459501e836f1928103bcbdc92c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f4.png\n// module id = yFfv\n// module chunks = app","import {Listener} from \"./Listener\";\n\ndeclare global {\n    interface Document {\n        readonly mozHidden: boolean;\n        readonly webkitHidden: boolean;\n        readonly msHidden: boolean;\n        onfocusin;\n        onfocusout;\n    }\n}\n\nexport class VisibilityChangeListener implements Listener {\n    private visible: boolean = true;\n\n    constructor(public callback: (visible: boolean) => void) {\n\n    }\n\n    private focused = () => {\n        // console.debug(`focused ${document.visibilityState}`);\n        if (!this.visible)\n            this.callback(this.visible = true);\n    };\n\n    private unfocused = () => {\n        // console.debug(`unfocused ${document.visibilityState}`);\n        if (this.visible)\n            this.callback(this.visible = false);\n    };\n\n    add(): void {\n        // https://stackoverflow.com/a/38710376\n\n        // Standards:\n        if ('hidden' in document) {\n            document.addEventListener('visibilitychange',\n                () => {(document.hidden ? this.unfocused : this.focused)()});\n        }\n        if ('mozHidden' in document) {\n            document.addEventListener('mozvisibilitychange',\n                () => {(document.mozHidden ? this.unfocused : this.focused)()});\n        }\n        if ('webkitHidden' in document) {\n            document.addEventListener('webkitvisibilitychange',\n                () => {(document.webkitHidden ? this.unfocused : this.focused)()});\n        }\n        if ('msHidden' in document) {\n            document.addEventListener('msvisibilitychange',\n                () => {(document.msHidden ? this.unfocused : this.focused)()});\n        }\n        // IE 9 and lower:\n        if ('onfocusin' in document) {\n            document.onfocusin = this.focused;\n            document.onfocusout = this.unfocused;\n        }\n        // All others:\n        window.onpageshow = window.onfocus = this.focused;\n        window.onpagehide = window.onblur = this.unfocused;\n\n        // TODO: initial visibility check like https://stackoverflow.com/a/1060034\n    }\n\n    remove(): void {\n        // TODO: remove listeners\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/helper/VisibilityChangeListener.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-f4.fa8fa0e7c09873297312ed5082eac413.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f4.png\n// module id = yNUn\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a4.30bcbdd3b26849030d9f7756c19d6a98.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a4.png\n// module id = ytF8\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f2.ebac4e572194ab532410773494ed9c4e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f2.png\n// module id = zU+P\n// module chunks = app","import * as classNames from \"classnames\";\nimport * as _ from \"lodash\";\nimport {Component, h} from \"preact\";\nimport {MultiBoard} from \"../puzzle/board/MultiBoard\";\nimport {Puzzle} from \"../puzzle/Puzzle\";\nimport {LongTouchContextMenuHandler} from \"./helper/LongTouchContextMenuHandler\";\nimport {LargeVariantIconComponent, SmallVariantIconComponent} from \"./IconComponents\";\nimport \"./multiboard.less\";\nimport {SingleBoard} from \"../puzzle/board/SingleBoard\";\n\ntype Refresh = () => void;\n\nclass SingleCellComponent extends Component<VariantProps, any> {\n    render(props: VariantProps) {\n        return (\n            <div class=\"cell-single\">\n                <LargeVariantIconComponent row={props.row} variant={props.variant}/>\n            </div>\n        );\n    }\n}\n\nclass VariantVariantMultiCellComponent extends Component<VariantProps, any> {\n    private contextMenuHandler = new LongTouchContextMenuHandler(() => this.remove());\n\n    private set() {\n        this.props.board.set(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    }\n\n    private remove() {\n        this.props.board.remove(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    }\n\n    private onClick = (e) => {\n        this.set();\n    };\n\n    render(props: VariantProps) {\n        return (\n            <div class=\"cell-multi-variant\" onClick={this.onClick} {...this.contextMenuHandler}>\n                <SmallVariantIconComponent row={props.row} variant={props.variant}/>\n            </div>\n        );\n    }\n}\n\nclass EmptyVariantMultiCellComponent extends Component<VariantProps, any> {\n    render(props: VariantProps) {\n        return (\n            <div class=\"cell-multi-empty\"/>\n        );\n    }\n}\n\ninterface VariantProps extends CellProps {\n    variant: number;\n}\n\nclass VariantMultiCellComponent extends Component<VariantProps, any> {\n    render(props: VariantProps) {\n        if (props.variant < props.board.variants &&\n            props.board.isPossible(props.row, props.col, props.variant))\n            return <VariantVariantMultiCellComponent {...props}/>;\n        else\n            return <EmptyVariantMultiCellComponent {...props}/>;\n    }\n}\n\nclass MultiCellComponent extends Component<CellProps, any> {\n    render(props: CellProps) {\n        let variantCols = Math.ceil(Math.sqrt(props.board.variants));\n        let variantRows = Math.ceil(props.board.variants / variantCols);\n        return (\n            <table class=\"cell-multi\">\n                {_.times(variantRows, variantRow =>\n                    <tr>\n                        {_.times(variantCols, variantCol =>\n                            <td>\n                                <VariantMultiCellComponent {...props} variant={variantRow * variantCols + variantCol}/>\n                            </td>\n                        )}\n                    </tr>\n                )}\n            </table>\n        )\n    }\n}\n\ninterface CellProps extends RowProps {\n    col: number;\n}\n\nclass CellComponent extends Component<CellProps, any> {\n    private onContextMenu = (e) => {\n        e.preventDefault();\n    };\n\n    render(props: CellProps) {\n        if (props.showBoard) {\n            let correct = props.board.isSingle(props.row, props.col) && props.board.getSingle(props.row, props.col) == props.showBoard.get(props.row, props.col);\n            return (\n                <td class={classNames({\n                    \"cell-correct\": correct,\n                    \"cell-incorrect\": !correct\n                })}>\n                    <div class=\"cell\" onContextMenu={this.onContextMenu}>\n                        <SingleCellComponent {...props} variant={props.showBoard.get(props.row, props.col)}/>\n                    </div>\n                </td>\n            )\n        }\n        else {\n            return (\n                <td>\n                    <div class=\"cell\" onContextMenu={this.onContextMenu}>\n                        {\n                            props.board.isSingle(props.row, props.col) ?\n                                <SingleCellComponent {...props} variant={props.board.getSingle(props.row, props.col)}/> :\n                                <MultiCellComponent {...props}/>\n                        }\n                    </div>\n                </td>\n            )\n        }\n    }\n}\n\ninterface RowProps extends MultiBoardProps {\n    row: number;\n}\n\nclass RowComponent extends Component<RowProps, any> {\n    private refresh: Refresh = () => {\n        this.forceUpdate();\n        this.props.refresh();\n    };\n\n    render(props: RowProps) {\n        return (\n            <tr>\n                {_.times(props.board.cols, col =>\n                    <CellComponent {...props} col={col} refresh={this.refresh}/>\n                )}\n            </tr>\n        );\n    }\n}\n\nexport interface MultiBoardProps {\n    board: MultiBoard;\n    refresh: Refresh;\n    showBoard?: SingleBoard;\n}\n\nexport class MultiBoardComponent extends Component<MultiBoardProps, any> {\n    render(props: MultiBoardProps) {\n        return (\n            <div class=\"multiboard-outer\">\n                <table class=\"multiboard\">\n                    {_.times(props.board.rows, row =>\n                        <RowComponent {...props} row={row}/>\n                    )}\n                </table>\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/MultiBoardComponent.tsx"],"sourceRoot":""}