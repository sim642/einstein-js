{"version":3,"sources":["webpack:///app.ae37ef8517d8a61994916bad18d60587.js","webpack:///./src/web/icons/original/large/large-c1.png","webpack:///./src/web/icons/original/large/large-b3.png","webpack:///./src/web/icons/original/large/large-d5.png","webpack:///./src/puzzle/hint/AdjacentHint.ts","webpack:///./src/web/icons/original/small/small-c6.png","webpack:///./src/web/icons/original/small/small-b1.png","webpack:///./src/Timer.ts","webpack:///./src/web/icons/original/large/large-a3.png","webpack:///./src/time.ts","webpack:///./src/web/icons/original/small/small-b2.png","webpack:///./src/web \\.png$","webpack:///./src/storage/EinsteinDatabase.ts","webpack:///./src/storage/Counts.ts","webpack:///./package.json","webpack:///./src/web/rain-light.png","webpack:///./src/web/icons/original/small/small-c4.png","webpack:///./src/web/icons/original/large/large-e3.png","webpack:///./src/web/icons/original/small/small-c5.png","webpack:///./src/storage/db.ts","webpack:///./src/web/helper/MessageUnloadListener.ts","webpack:///./src/web/icons/original/large/large-b4.png","webpack:///./src/web/icons/original/small/small-d1.png","webpack:///./src/puzzle/board/MultiBoard.ts","webpack:///./src/web/icons/original/large/large-d4.png","webpack:///./src/puzzle/hint/BetweenHint.ts","webpack:///./src/web/icons/original/small/small-d3.png","webpack:///./src/web/icons/original/small/small-e3.png","webpack:///./src/web/icons/original/tile.png","webpack:///./src/storage/Config.ts","webpack:///./src/web/icons/original/small/small-f3.png","webpack:///./src/web/icons/original/small/small-a4.png","webpack:///./src/puzzle/hint/OpenHint.ts","webpack:///./src/web/icons/original/hint-between.png","webpack:///./src/web/HighscoreComponent.tsx","webpack:///./src/puzzle/hint/SameColumnHint.ts","webpack:///./src/puzzle/board/SingleBoard.ts","webpack:///./src/web/HintsComponent.tsx","webpack:///./src/web/icons/original/small/small-f5.png","webpack:///./src/web/icons/original/large/large-a6.png","webpack:///./src/web/icons/original/large/large-a2.png","webpack:///./src/web/IconComponents.tsx","webpack:///./src/web/icons/original/hint-direction.png","webpack:///./src/web/icons/original/small/small-e5.png","webpack:///./src/web/icons/original/large/large-d3.png","webpack:///./src/web/icons/original/large/large-a1.png","webpack:///./src/web/icons/original/small/small-f6.png","webpack:///./src/web/icons/original/hint-adjacent.png","webpack:///./src/web/icons/original/small/small-b3.png","webpack:///./src/web/icons/original/large/large-e4.png","webpack:///./src/web/icons/original/small/small-e1.png","webpack:///./src/web/AppComponent.tsx","webpack:///./src/web/icons/original/large/large-a5.png","webpack:///./src/web/icons/original/large/large-b1.png","webpack:///./src/puzzle/hint/DirectionHint.ts","webpack:///./src/web/icons/original/large/large-c3.png","webpack:///./src/web/icons/original/small/small-e4.png","webpack:///./src/web/icons/original/large/large-e6.png","webpack:///./src/web/icons/original/large/large-b5.png","webpack:///./src/web/icons/original/small/small-b6.png","webpack:///./src/web/icons/original/large/large-f1.png","webpack:///./src/web/icons/original/large/large-e1.png","webpack:///./src/web/OptionsComponent.tsx","webpack:///./src/puzzle/board/Board.ts","webpack:///./src/web/icons/original/large/large-d1.png","webpack:///./src/web/icons/original/small/small-d5.png","webpack:///./src/web/icons/original/large/large-f6.png","webpack:///./src/web/icons/original/large/large-e2.png","webpack:///./src/web/TimerComponent.tsx","webpack:///./src/web/helper/LongTouchContextMenuHandler.ts","webpack:///./src/web/icons/original/small/small-b5.png","webpack:///./src/web/PuzzleOptionsUtils.ts","webpack:///./src/web/icons/original/small/small-c2.png","webpack:///./src/web/icons/original/large/large-f3.png","webpack:///./src/puzzle/RandomHint.ts","webpack:///./src/web/icons/original/small/small-d6.png","webpack:///./src/web/icons/original/large/large-e5.png","webpack:///./src/puzzle/Puzzle.ts","webpack:///./src/web/icons/original/small/small-d4.png","webpack:///./src/web/rain.png","webpack:///./src/web/icons/original/small/small-c1.png","webpack:///./src/web/icons/original/small/small-e6.png","webpack:///./src/web/icons/original/large/large-c4.png","webpack:///./src/web/icons/original/large/large-b6.png","webpack:///./src/web/icons/original/small/small-c3.png","webpack:///./src/web/icons/original/small/small-a2.png","webpack:///./src/web/icons/original/large/large-d2.png","webpack:///./src/web/icons/original/large/large-c6.png","webpack:///./src/web/icons/original/large/large-c2.png","webpack:///./src/web/BirthdayComponent.tsx","webpack:///./src/web/icons/original/small/small-a6.png","webpack:///./src/web/icons/original/large/large-d6.png","webpack:///./src/index.tsx","webpack:///./src/web/icons/original/small/small-a1.png","webpack:///./src/web/icons/original/hint-tile.png","webpack:///./src/web/icons/original/small/small-b4.png","webpack:///./src/web/icons/original/large/large-c5.png","webpack:///./src/web/icons/original/large/large-f5.png","webpack:///./src/web/icons/original/small/small-e2.png","webpack:///./src/web/icons/original/small/small-a5.png","webpack:///./src/storage/Times.ts","webpack:///./src/web/icons/original/small/small-f1.png","webpack:///./src/web/icons/original/large/large-b2.png","webpack:///./src/web/icons/original/small/small-a3.png","webpack:///./src/web/icons/original/small/small-d2.png","webpack:///./src/web/icons/original/small/small-f2.png","webpack:///./src/web/icons/original/large/large-f4.png","webpack:///./src/web/helper/VisibilityChangeListener.ts","webpack:///./src/web/icons/original/small/small-f4.png","webpack:///./src/web/icons/original/large/large-a4.png","webpack:///./src/web/icons/original/large/large-f2.png","webpack:///./src/web/MultiBoardComponent.tsx"],"names":["webpackJsonp","+bsQ","module","exports","__webpack_require__","p","/BPU","1Tjk","2+Yo","Object","defineProperty","value","_","AdjacentHint","row1","variant1","row2","variant2","this","prototype","applyTo","board","changed","applyToCol","col","thisRow","thisVariant","adjRow","adjVariant","hasLeft","isPossible","hasRight","cols","remove","getType","AdjacentHintFactory","random","colDelta","rows","col1","col2","get","20Ho","27d+","2JYO","32Ag","Timer","reset","start","startTime","now","pause","runningTime","getRunningTime","totalTime","getTotalTime","4I4A","5AqA","formatDuration","diffMs","diffSec","sec","Math","floor","min","hr","padStart","toString","6b+j","7PiI","webpackContext","req","webpackContextResolve","id","map","Error","./icons/original/hint-adjacent.png","./icons/original/hint-between.png","./icons/original/hint-direction.png","./icons/original/hint-tile.png","./icons/original/large/large-a1.png","./icons/original/large/large-a2.png","./icons/original/large/large-a3.png","./icons/original/large/large-a4.png","./icons/original/large/large-a5.png","./icons/original/large/large-a6.png","./icons/original/large/large-b1.png","./icons/original/large/large-b2.png","./icons/original/large/large-b3.png","./icons/original/large/large-b4.png","./icons/original/large/large-b5.png","./icons/original/large/large-b6.png","./icons/original/large/large-c1.png","./icons/original/large/large-c2.png","./icons/original/large/large-c3.png","./icons/original/large/large-c4.png","./icons/original/large/large-c5.png","./icons/original/large/large-c6.png","./icons/original/large/large-d1.png","./icons/original/large/large-d2.png","./icons/original/large/large-d3.png","./icons/original/large/large-d4.png","./icons/original/large/large-d5.png","./icons/original/large/large-d6.png","./icons/original/large/large-e1.png","./icons/original/large/large-e2.png","./icons/original/large/large-e3.png","./icons/original/large/large-e4.png","./icons/original/large/large-e5.png","./icons/original/large/large-e6.png","./icons/original/large/large-f1.png","./icons/original/large/large-f2.png","./icons/original/large/large-f3.png","./icons/original/large/large-f4.png","./icons/original/large/large-f5.png","./icons/original/large/large-f6.png","./icons/original/small/small-a1.png","./icons/original/small/small-a2.png","./icons/original/small/small-a3.png","./icons/original/small/small-a4.png","./icons/original/small/small-a5.png","./icons/original/small/small-a6.png","./icons/original/small/small-b1.png","./icons/original/small/small-b2.png","./icons/original/small/small-b3.png","./icons/original/small/small-b4.png","./icons/original/small/small-b5.png","./icons/original/small/small-b6.png","./icons/original/small/small-c1.png","./icons/original/small/small-c2.png","./icons/original/small/small-c3.png","./icons/original/small/small-c4.png","./icons/original/small/small-c5.png","./icons/original/small/small-c6.png","./icons/original/small/small-d1.png","./icons/original/small/small-d2.png","./icons/original/small/small-d3.png","./icons/original/small/small-d4.png","./icons/original/small/small-d5.png","./icons/original/small/small-d6.png","./icons/original/small/small-e1.png","./icons/original/small/small-e2.png","./icons/original/small/small-e3.png","./icons/original/small/small-e4.png","./icons/original/small/small-e5.png","./icons/original/small/small-e6.png","./icons/original/small/small-f1.png","./icons/original/small/small-f2.png","./icons/original/small/small-f3.png","./icons/original/small/small-f4.png","./icons/original/small/small-f5.png","./icons/original/small/small-f6.png","./icons/original/tile.png","./rain-light.png","./rain.png","keys","resolve","7Pv6","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","create","dexie_1","EinsteinDatabase","_super","_this","call","version","stores","times","config","counts","default","7Stf","__assign","assign","t","s","i","n","arguments","length","db_1","Counts","options","db","countsItem","undefined","solved","solvedCheated","over","increase","count","transaction","then","newCountsItem","merge","_a","put","7YgM","name","description","author","keywords","repository","type","url","bugs","homepage","scripts","build:dev","build:prod","coverage","deploy","test","watch:dev","watch:test","dependencies","classnames","dexie","lodash","preact","devDependencies","@types/chai","@types/lodash","@types/mocha","@types/webpack-env","autoprefixer","chai","chi-squared","chunk-manifest-webpack-plugin","clean-webpack-plugin","copy-webpack-plugin","css-loader","css-mqpacker","extract-text-webpack-plugin","file-loader","html-webpack-plugin","istanbul-instrumenter-loader","less","less-loader","mocha","mocha-webpack","nyc","offline-plugin","postcss-loader","style-loader","ts-loader","typescript","webpack","webpack-chunk-hash","webpack-merge","webpack-node-externals","extension","instrument","sourceMap","8OvN","90E6","91Mv","99qC","AQov","ATbC","EinsteinDatabase_1","Agl8","MessageUnloadListener","callback","onBeforeUnload","e","message","returnValue","add","window","addEventListener","removeEventListener","BRDO","C7Cf","CBd9","Board_1","MultiBoard","apply","full","row","constant","numberVariants","table","rowCells","cell","variants","_i","cell_1","variant","pruneSingles","set","variant_1","col_1","sumBy","isSingle","getSingle","findIndex","colCnt","variantCnt","colVariant","variantCol","applyHint","hint","applyHints","hints","changed2","hints_1","applySingleHint","hints_2","isSolved","singleBoard","isSingleBoard","contains","applySingleBoard","singleVariant","Board","D3DT","DAXx","BetweenHint","rowMiddle","variantMiddle","leftPossible","rightPossible","BetweenHintFactory","colMiddle","Dvz/","E9CV","FslU","HZR3","Config","getKey","key","configItem","toArray","configItems","fromPairs","setKey","newConfig","bulkPut","toPairs","pair","Hoba","Htyr","HwaM","OpenHint","OpenHintFactory","IJZH","In3e","preact_1","Times_1","time_1","PuzzleOptionsUtils_1","HighscoreItemComponent","render","props","h","class","title","item","date","time","Component","HighscoreComponent","state","top10","fetchTop10","componentWillReceiveProps","nextProps","Times","getTop10","setState","formatOptions","timesItem","colSpan","JIJM","SameColumnHint","possible1","possible2","SameColumnHintFactory","JMRT","MultiBoard_1","SingleBoard","shuffle","range","getCol","isSolvable","multiBoard","Jd+4","JpXf","KBc0","classNames","AdjacentHint_1","BetweenHint_1","DirectionHint_1","SameColumnHint_1","LongTouchContextMenuHandler_1","IconComponents_1","HintComponent","contextMenuHandler","LongTouchContextMenuHandler","onToggle","visible","renderTbody","LargeVariantIconComponent","IconComponent","DirectionHint","rowLeft","variantLeft","rowRight","variantRight","hint-outer","hint-visible","hint-hidden","HintsComponent","onClick","hints-horizontal","hints-visible","hints-hidden","filter","MjYr","N7YA","NhLW","NsAh","cache","r","forEach","src","SmallVariantIconComponent","Op0r","P2+R","PWPq","QP0S","QfaF","Qj03","RUP8","SAo3","SCQN","SLpm","Package","Puzzle_1","Config_1","Counts_1","Timer_1","GameState","HighscoreComponent_1","HintsComponent_1","MultiBoardComponent_1","TimerComponent_1","VisibilityChangeListener_1","MessageUnloadListener_1","BirthdayComponent_1","OptionsComponent_1","AppComponent","timer","onClickNewGame","gameState","Options","cheated","onClickPause","Playing","ManualPaused","onClickResume","AutoPaused","onClickCheat","puzzle","refresh","onVisibilityChange","onMessageUnload","submitOptions","configOptions","Puzzle","generate","highscoreOptions","Highscore","puzzle_1","time_2","Solved","cheatedText","alert","isInTop10","prompt","defaultName","configDefaultName","isOver","Over","defaultOptions","visibilityChange","VisibilityChangeListener","messageUnload","assignWith","stateValue","sourceValue","isUndefined","componentDidMount","componentWillUnmount","Promise","all","reject","solvedOrOver","showBoard","app","paused","href","button-highlight","disabled","TimerComponent","BirthdayComponent","month","day","OptionsComponent","submit","highscore","MultiBoardComponent","extraHintsPercent","TeOI","TjjG","UBU4","X9r5","DirectionHintFactory","colLeft","colRight","XjqR","XnXw","YFuY","YKaq","Z31m","ZNit","ZvN9","b/H4","InputRangeComponent","onChange","preventDefault","parseInt","target","listId","list","onInput","for","unit","max","step","onSubmit","onReset","clone","hasTimes","fetchHasTimes","onHighscore","eq","field","bWR4","cgSM","d6hy","dSmd","dcOB","etg9","interval","setTimer","clearTimer","clearInterval","setTimeout","setInterval","euc6","onTouchStart","touching","timeout","console","log","longTouchTime","onTouchMove","clearTimeout","onTouchEnd","onTouchCancel","onContextMenu","fZOX","fdQW","extraHintsText","gBE2","gVWB","gYeE","OpenHint_1","RandomHintFactory","hintFactory","hFVX","hli+","hmo1","SingleBoard_1","RandomHint_1","generateHints","pruneHints","generateExtraHints","push","debug","splice","extraHints","round","iXl1","kCQN","kbZK","lgdU","mGEC","mPGt","mcFw","nVYH","oD70","oJmq","oXIE","ouBu","Date","getMonth","getDate","pJA7","pqg3","q9gS","qMEF","AppComponent_1","OfflinePluginRuntime","install","document","body","qpPT","qwlA","romA","rxGk","t+UZ","uLm8","uVvn","vO/K","addItem","getSortedTimes","where","sortBy","timesItems","take","sortedIndexBy","slice","voAe","w35o","x5BK","xDob","xFS2","xToJ","yFfv","yFiT","focused","unfocused","hidden","mozHidden","webkitHidden","msHidden","onfocusin","onfocusout","onpageshow","onfocus","onpagehide","onblur","yNUn","ytF8","zU+P","ziB5","SingleCellComponent","VariantVariantMultiCellComponent","EmptyVariantMultiCellComponent","VariantMultiCellComponent","MultiCellComponent","variantCols","ceil","sqrt","variantRows","variantRow","CellComponent","correct","cell-correct","cell-incorrect","RowComponent","forceUpdate","data","data-rows","data-cols"],"mappings":"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","file":"app.ae37ef8517d8a61994916bad18d60587.js","sourcesContent":["webpackJsonp([\"app\"],{\n\n/***/ \"+bsQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c1.cf85c5eb9acce5553a85122616f8f7f3.png\";\n\n/***/ }),\n\n/***/ \"/BPU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b3.f56ee08f09215c9501370c94a97d5da1.png\";\n\n/***/ }),\n\n/***/ \"1Tjk\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d5.93f0c9556e78c0b2b5ab5a7bb293e22c.png\";\n\n/***/ }),\n\n/***/ \"2+Yo\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar AdjacentHint = (function () {\n    function AdjacentHint(row1, variant1, row2, variant2) {\n        this.row1 = row1;\n        this.variant1 = variant1;\n        this.row2 = row2;\n        this.variant2 = variant2;\n    }\n    AdjacentHint.prototype.applyTo = function (board) {\n        var changed = false;\n        var applyToCol = function (col, thisRow, thisVariant, adjRow, adjVariant) {\n            var hasLeft = col >= 1 ? board.isPossible(adjRow, col - 1, adjVariant) : false;\n            var hasRight = col < board.cols - 1 ? board.isPossible(adjRow, col + 1, adjVariant) : false;\n            if (!hasLeft && !hasRight && board.isPossible(thisRow, col, thisVariant)) {\n                board.remove(thisRow, col, thisVariant);\n                changed = true;\n            }\n        };\n        for (var col = 0; col < board.cols; col++) {\n            applyToCol(col, this.row1, this.variant1, this.row2, this.variant2);\n            applyToCol(col, this.row2, this.variant2, this.row1, this.variant1);\n        }\n        if (changed)\n            this.applyTo(board);\n        return changed;\n    };\n    AdjacentHint.prototype.getType = function () {\n        return 1 /* Horizontal */;\n    };\n    return AdjacentHint;\n}());\nexports.AdjacentHint = AdjacentHint;\nvar AdjacentHintFactory = (function () {\n    function AdjacentHintFactory() {\n    }\n    AdjacentHintFactory.prototype.random = function (board) {\n        var row1 = _.random(0, board.rows - 1);\n        var col1 = _.random(0, board.cols - 1);\n        var row2 = _.random(0, board.rows - 1);\n        var colDelta;\n        if (col1 == 0)\n            colDelta = 1;\n        else if (col1 == board.cols - 1)\n            colDelta = -1;\n        else\n            colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        var col2 = col1 + colDelta;\n        return new AdjacentHint(row1, board.get(row1, col1), row2, board.get(row2, col2));\n    };\n    return AdjacentHintFactory;\n}());\nexports.AdjacentHintFactory = AdjacentHintFactory;\n\n\n/***/ }),\n\n/***/ \"20Ho\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c6.3a75bba0385dcc7f6e7074d7873ff81e.png\";\n\n/***/ }),\n\n/***/ \"27d+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b1.376d5df50dd14a86919d705382c89060.png\";\n\n/***/ }),\n\n/***/ \"2JYO\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"32Ag\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar Timer = (function () {\n    function Timer() {\n        this.reset();\n    }\n    Timer.prototype.start = function () {\n        if (this.startTime === null)\n            this.startTime = _.now();\n    };\n    Timer.prototype.pause = function () {\n        var runningTime = this.getRunningTime();\n        if (runningTime !== null) {\n            this.totalTime += runningTime;\n            this.startTime = null;\n        }\n    };\n    Timer.prototype.getRunningTime = function () {\n        return this.startTime !== null ? _.now() - this.startTime : null;\n    };\n    Timer.prototype.getTotalTime = function () {\n        return this.totalTime + (this.getRunningTime() || 0);\n    };\n    Timer.prototype.reset = function () {\n        this.totalTime = 0;\n        this.startTime = null;\n    };\n    return Timer;\n}());\nexports.Timer = Timer;\n\n\n/***/ }),\n\n/***/ \"4I4A\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a3.2f39989763b3636f69b02ba2b53fbe44.png\";\n\n/***/ }),\n\n/***/ \"5AqA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nfunction formatDuration(diffMs) {\n    var diffSec = diffMs / 1000;\n    var sec = Math.floor(diffSec) % 60;\n    var min = Math.floor(diffSec / 60) % 60;\n    var hr = Math.floor(diffSec / 60 / 60);\n    return _.padStart(hr.toString(), 2, \"0\") + \":\" + _.padStart(min.toString(), 2, \"0\") + \":\" + _.padStart(sec.toString(), 2, \"0\");\n    /*let ms = Math.floor(diffMs % 1000);\n    return `${_.padStart(hr.toString(), 2, \"0\")}:${_.padStart(min.toString(), 2, \"0\")}:${_.padStart(sec.toString(), 2, \"0\")}.${_.padStart(ms.toString(), 3, \"0\")}`;*/\n}\nexports.formatDuration = formatDuration;\n\n\n/***/ }),\n\n/***/ \"6b+j\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b2.1e0362bc91fe36a746482f52eea6cd78.png\";\n\n/***/ }),\n\n/***/ \"7PiI\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./icons/original/hint-adjacent.png\": \"Qj03\",\n\t\"./icons/original/hint-between.png\": \"IJZH\",\n\t\"./icons/original/hint-direction.png\": \"Op0r\",\n\t\"./icons/original/hint-tile.png\": \"qwlA\",\n\t\"./icons/original/large/large-a1.png\": \"QP0S\",\n\t\"./icons/original/large/large-a2.png\": \"NhLW\",\n\t\"./icons/original/large/large-a3.png\": \"4I4A\",\n\t\"./icons/original/large/large-a4.png\": \"ytF8\",\n\t\"./icons/original/large/large-a5.png\": \"TeOI\",\n\t\"./icons/original/large/large-a6.png\": \"N7YA\",\n\t\"./icons/original/large/large-b1.png\": \"UBU4\",\n\t\"./icons/original/large/large-b2.png\": \"w35o\",\n\t\"./icons/original/large/large-b3.png\": \"/BPU\",\n\t\"./icons/original/large/large-b4.png\": \"BRDO\",\n\t\"./icons/original/large/large-b5.png\": \"YKaq\",\n\t\"./icons/original/large/large-b6.png\": \"mPGt\",\n\t\"./icons/original/large/large-c1.png\": \"+bsQ\",\n\t\"./icons/original/large/large-c2.png\": \"oXIE\",\n\t\"./icons/original/large/large-c3.png\": \"XjqR\",\n\t\"./icons/original/large/large-c4.png\": \"mGEC\",\n\t\"./icons/original/large/large-c5.png\": \"rxGk\",\n\t\"./icons/original/large/large-c6.png\": \"oJmq\",\n\t\"./icons/original/large/large-d1.png\": \"cgSM\",\n\t\"./icons/original/large/large-d2.png\": \"oD70\",\n\t\"./icons/original/large/large-d3.png\": \"PWPq\",\n\t\"./icons/original/large/large-d4.png\": \"D3DT\",\n\t\"./icons/original/large/large-d5.png\": \"1Tjk\",\n\t\"./icons/original/large/large-d6.png\": \"q9gS\",\n\t\"./icons/original/large/large-e1.png\": \"ZvN9\",\n\t\"./icons/original/large/large-e2.png\": \"dcOB\",\n\t\"./icons/original/large/large-e3.png\": \"91Mv\",\n\t\"./icons/original/large/large-e4.png\": \"SAo3\",\n\t\"./icons/original/large/large-e5.png\": \"hli+\",\n\t\"./icons/original/large/large-e6.png\": \"YFuY\",\n\t\"./icons/original/large/large-f1.png\": \"ZNit\",\n\t\"./icons/original/large/large-f2.png\": \"zU+P\",\n\t\"./icons/original/large/large-f3.png\": \"gVWB\",\n\t\"./icons/original/large/large-f4.png\": \"yFfv\",\n\t\"./icons/original/large/large-f5.png\": \"t+UZ\",\n\t\"./icons/original/large/large-f6.png\": \"dSmd\",\n\t\"./icons/original/small/small-a1.png\": \"qpPT\",\n\t\"./icons/original/small/small-a2.png\": \"nVYH\",\n\t\"./icons/original/small/small-a3.png\": \"x5BK\",\n\t\"./icons/original/small/small-a4.png\": \"Htyr\",\n\t\"./icons/original/small/small-a5.png\": \"uVvn\",\n\t\"./icons/original/small/small-a6.png\": \"pqg3\",\n\t\"./icons/original/small/small-b1.png\": \"27d+\",\n\t\"./icons/original/small/small-b2.png\": \"6b+j\",\n\t\"./icons/original/small/small-b3.png\": \"RUP8\",\n\t\"./icons/original/small/small-b4.png\": \"romA\",\n\t\"./icons/original/small/small-b5.png\": \"fZOX\",\n\t\"./icons/original/small/small-b6.png\": \"Z31m\",\n\t\"./icons/original/small/small-c1.png\": \"kbZK\",\n\t\"./icons/original/small/small-c2.png\": \"gBE2\",\n\t\"./icons/original/small/small-c3.png\": \"mcFw\",\n\t\"./icons/original/small/small-c4.png\": \"90E6\",\n\t\"./icons/original/small/small-c5.png\": \"AQov\",\n\t\"./icons/original/small/small-c6.png\": \"20Ho\",\n\t\"./icons/original/small/small-d1.png\": \"C7Cf\",\n\t\"./icons/original/small/small-d2.png\": \"xDob\",\n\t\"./icons/original/small/small-d3.png\": \"Dvz/\",\n\t\"./icons/original/small/small-d4.png\": \"iXl1\",\n\t\"./icons/original/small/small-d5.png\": \"d6hy\",\n\t\"./icons/original/small/small-d6.png\": \"hFVX\",\n\t\"./icons/original/small/small-e1.png\": \"SCQN\",\n\t\"./icons/original/small/small-e2.png\": \"uLm8\",\n\t\"./icons/original/small/small-e3.png\": \"E9CV\",\n\t\"./icons/original/small/small-e4.png\": \"XnXw\",\n\t\"./icons/original/small/small-e5.png\": \"P2+R\",\n\t\"./icons/original/small/small-e6.png\": \"lgdU\",\n\t\"./icons/original/small/small-f1.png\": \"voAe\",\n\t\"./icons/original/small/small-f2.png\": \"xFS2\",\n\t\"./icons/original/small/small-f3.png\": \"Hoba\",\n\t\"./icons/original/small/small-f4.png\": \"yNUn\",\n\t\"./icons/original/small/small-f5.png\": \"MjYr\",\n\t\"./icons/original/small/small-f6.png\": \"QfaF\",\n\t\"./icons/original/tile.png\": \"FslU\",\n\t\"./rain-light.png\": \"8OvN\",\n\t\"./rain.png\": \"kCQN\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"7PiI\";\n\n/***/ }),\n\n/***/ \"7Pv6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dexie_1 = __webpack_require__(\"YwQ6\");\nvar EinsteinDatabase = (function (_super) {\n    __extends(EinsteinDatabase, _super);\n    function EinsteinDatabase() {\n        var _this = _super.call(this, \"EinsteinDatabase\") || this;\n        _this.version(1).stores({\n            times: \"++, [rows+cols+extraHintsPercent]\"\n        });\n        _this.version(2).stores({\n            config: \"key\"\n        });\n        _this.version(3).stores({\n            counts: \"[rows+cols+extraHintsPercent]\"\n        });\n        return _this;\n    }\n    return EinsteinDatabase;\n}(dexie_1.default));\nexports.EinsteinDatabase = EinsteinDatabase;\n\n\n/***/ }),\n\n/***/ \"7Stf\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar db_1 = __webpack_require__(\"ATbC\");\nvar Counts;\n(function (Counts) {\n    function get(options) {\n        return db_1.db.counts.get(options, function (countsItem) {\n            if (countsItem === undefined) {\n                var defaultItem = __assign({}, options, { solved: 0, solvedCheated: 0, over: 0 }); // extracted to have explicit type annotation\n                return defaultItem;\n            }\n            else\n                return countsItem;\n        });\n    }\n    Counts.get = get;\n    function increase(options, count) {\n        return db_1.db.transaction(\"rw\", db_1.db.counts, function () {\n            return get(options).then(function (countsItem) {\n                var newCountsItem = _.merge(countsItem, (_a = {},\n                    _a[count] = countsItem[count] + 1,\n                    _a));\n                return db_1.db.counts.put(newCountsItem);\n                var _a;\n            });\n        });\n    }\n    Counts.increase = increase;\n})(Counts = exports.Counts || (exports.Counts = {}));\n\n\n/***/ }),\n\n/***/ \"7YgM\":\n/***/ (function(module, exports) {\n\nmodule.exports = {\"name\":\"einstein\",\"version\":\"1.4.0\",\"description\":\"Einstein Puzzle 2.0 by Flowix Games ported to the web\",\"author\":\"Simmo Saan\",\"keywords\":[\"typescript\",\"webpack\",\"preact\",\"lodash\",\"game\",\"puzzle-game\",\"web\"],\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/sim642/einstein-js.git\"},\"bugs\":{\"url\":\"https://github.com/sim642/einstein-js/issues\"},\"homepage\":\"http://einstein.sim642.eu\",\"scripts\":{\"build:dev\":\"webpack --env=dev --progress --profile --colors\",\"build:prod\":\"webpack --env=prod --progress --profile --colors\",\"coverage\":\"nyc --reporter=lcov --reporter=text npm test\",\"deploy\":\"git push -f origin `git subtree split --prefix dist 2> /dev/null`:gh-pages\",\"test\":\"mocha-webpack\",\"watch:dev\":\"webpack --env=dev --progress --profile --colors --watch\",\"watch:test\":\"mocha-webpack --watch\"},\"dependencies\":{\"classnames\":\"^2.2.5\",\"dexie\":\"^2.0.1\",\"lodash\":\"^4.17.4\",\"preact\":\"^8.2.1\"},\"devDependencies\":{\"@types/chai\":\"^4.0.1\",\"@types/lodash\":\"^4.14.66\",\"@types/mocha\":\"^2.2.41\",\"@types/webpack-env\":\"^1.13.0\",\"autoprefixer\":\"^7.1.2\",\"chai\":\"^4.1.0\",\"chi-squared\":\"^1.1.0\",\"chunk-manifest-webpack-plugin\":\"1.1.0\",\"clean-webpack-plugin\":\"^0.1.16\",\"copy-webpack-plugin\":\"^4.0.1\",\"css-loader\":\"^0.28.4\",\"css-mqpacker\":\"^6.0.1\",\"extract-text-webpack-plugin\":\"^3.0.0\",\"file-loader\":\"^0.11.2\",\"html-webpack-plugin\":\"^2.29.0\",\"istanbul-instrumenter-loader\":\"^3.0.0\",\"less\":\"^2.7.2\",\"less-loader\":\"^4.0.4\",\"mocha\":\"^3.4.2\",\"mocha-webpack\":\"^1.0.0-rc.0\",\"nyc\":\"^11.0.3\",\"offline-plugin\":\"^4.8.1\",\"postcss-loader\":\"^2.0.6\",\"style-loader\":\"^0.18.2\",\"ts-loader\":\"^2.2.0\",\"typescript\":\"^2.4.2\",\"webpack\":\"^3.0.0\",\"webpack-chunk-hash\":\"^0.4.0\",\"webpack-merge\":\"^4.1.0\",\"webpack-node-externals\":\"^1.6.0\"},\"nyc\":{\"extension\":[\".tsx\",\".ts\",\".jsx\"],\"instrument\":false,\"sourceMap\":false}}\n\n/***/ }),\n\n/***/ \"8OvN\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./rain-light.272fb79b7c99a89b9891f2d596aabecc.png\";\n\n/***/ }),\n\n/***/ \"90E6\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c4.bc367c0d574d1037f7983b61b94776bf.png\";\n\n/***/ }),\n\n/***/ \"91Mv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e3.24b0bdf46ccfa5fae6d324e4b08c9a31.png\";\n\n/***/ }),\n\n/***/ \"99qC\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"AQov\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c5.9254afe6e7940800db50da758cb752df.png\";\n\n/***/ }),\n\n/***/ \"ATbC\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EinsteinDatabase_1 = __webpack_require__(\"7Pv6\");\nexports.db = new EinsteinDatabase_1.EinsteinDatabase();\n\n\n/***/ }),\n\n/***/ \"Agl8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MessageUnloadListener = (function () {\n    function MessageUnloadListener(callback) {\n        var _this = this;\n        this.callback = callback;\n        this.onBeforeUnload = function (e) {\n            var message = _this.callback();\n            if (message !== null)\n                return e.returnValue = message;\n            else\n                return undefined;\n        };\n    }\n    MessageUnloadListener.prototype.add = function () {\n        window.addEventListener(\"beforeunload\", this.onBeforeUnload);\n    };\n    MessageUnloadListener.prototype.remove = function () {\n        window.removeEventListener(\"beforeunload\", this.onBeforeUnload);\n    };\n    return MessageUnloadListener;\n}());\nexports.MessageUnloadListener = MessageUnloadListener;\n\n\n/***/ }),\n\n/***/ \"BRDO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b4.cde289fd73095da992ec76470fcaf001.png\";\n\n/***/ }),\n\n/***/ \"C7Cf\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d1.4623124355805891864ed2e7f2bec09a.png\";\n\n/***/ }),\n\n/***/ \"CBd9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar Board_1 = __webpack_require__(\"bWR4\");\nvar MultiBoard = (function (_super) {\n    __extends(MultiBoard, _super);\n    function MultiBoard() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MultiBoard.full = function (options) {\n        return new MultiBoard(_.times(options.rows, function (row) { return _.times(options.cols, function (col) { return _.times(options.cols, _.constant(true)); }); }), options);\n    };\n    MultiBoard.numberVariants = function (table, options) {\n        return new MultiBoard(_.map(table, function (rowCells) { return _.map(rowCells, function (cell) {\n            var variants = _.times(rowCells.length, _.constant(false));\n            for (var _i = 0, cell_1 = cell; _i < cell_1.length; _i++) {\n                var numberVariant = cell_1[_i];\n                variants[numberVariant] = true;\n            }\n            return variants;\n        }); }), options);\n    };\n    MultiBoard.prototype.remove = function (row, col, variant) {\n        if (this.get(row, col)[variant]) {\n            this.get(row, col)[variant] = false;\n            this.pruneSingles(row);\n        }\n    };\n    MultiBoard.prototype.set = function (row, col, variant) {\n        for (var variant_1 = 0; variant_1 < this.variants; variant_1++)\n            this.get(row, col)[variant_1] = false;\n        for (var col_1 = 0; col_1 < this.cols; col_1++)\n            this.get(row, col_1)[variant] = false;\n        this.get(row, col)[variant] = true;\n        this.pruneSingles(row);\n    };\n    MultiBoard.prototype.isPossible = function (row, col, variant) {\n        return this.get(row, col)[variant];\n    };\n    MultiBoard.prototype.count = function (row, col) {\n        return _.sumBy(this.get(row, col), function (variant) { return variant ? 1 : 0; });\n    };\n    MultiBoard.prototype.isSingle = function (row, col) {\n        return this.count(row, col) == 1;\n    };\n    MultiBoard.prototype.getSingle = function (row, col) {\n        return _.findIndex(this.get(row, col));\n    };\n    MultiBoard.prototype.pruneSingles = function (row) {\n        var colCnt = _.times(this.cols, _.constant(0));\n        var variantCnt = _.times(this.variants, _.constant(0));\n        var colVariant = _.times(this.cols, _.constant(0));\n        var variantCol = _.times(this.variants, _.constant(0));\n        for (var col = 0; col < this.cols; col++) {\n            for (var variant = 0; variant < this.variants; variant++) {\n                if (this.get(row, col)[variant]) {\n                    colCnt[col]++;\n                    variantCnt[variant]++;\n                    colVariant[col] = variant;\n                    variantCol[variant] = col;\n                }\n            }\n        }\n        var changed = false;\n        for (var col = 0; col < this.cols; col++) {\n            if (colCnt[col] == 1 && variantCnt[colVariant[col]] != 1) {\n                var variant = colVariant[col];\n                for (var col2 = 0; col2 < this.cols; col2++) {\n                    if (col2 != col)\n                        this.get(row, col2)[variant] = false;\n                }\n                changed = true;\n            }\n        }\n        for (var variant = 0; variant < this.variants; variant++) {\n            if (variantCnt[variant] == 1 && colCnt[variantCol[variant]] != 1) {\n                var col = variantCol[variant];\n                for (var variant2 = 0; variant2 < this.variants; variant2++) {\n                    if (variant2 != variant)\n                        this.get(row, col)[variant2] = false;\n                }\n                changed = true;\n            }\n        }\n        if (changed)\n            this.pruneSingles(row);\n    };\n    MultiBoard.prototype.applyHint = function (hint) {\n        return hint.applyTo(this);\n    };\n    MultiBoard.prototype.applyHints = function (hints) {\n        var changed = false;\n        var changed2;\n        do {\n            changed2 = false;\n            for (var _i = 0, hints_1 = hints; _i < hints_1.length; _i++) {\n                var hint = hints_1[_i];\n                if (this.applyHint(hint))\n                    changed = changed2 = true;\n            }\n        } while (changed2);\n        return changed;\n    };\n    MultiBoard.prototype.applySingleHint = function (hints) {\n        for (var _i = 0, hints_2 = hints; _i < hints_2.length; _i++) {\n            var hint = hints_2[_i];\n            if (this.applyHint(hint))\n                return true;\n        }\n        return false;\n    };\n    MultiBoard.prototype.isSolved = function (singleBoard) {\n        return this.isSingleBoard() && this.contains(singleBoard);\n    };\n    MultiBoard.prototype.isSingleBoard = function () {\n        for (var row = 0; row < this.rows; row++) {\n            for (var col = 0; col < this.cols; col++) {\n                if (!this.isSingle(row, col))\n                    return false;\n            }\n        }\n        return true;\n    };\n    MultiBoard.prototype.contains = function (singleBoard) {\n        for (var row = 0; row < this.rows; row++) {\n            for (var col = 0; col < this.cols; col++) {\n                if (!this.isPossible(row, col, singleBoard.get(row, col)))\n                    return false;\n            }\n        }\n        return true;\n    };\n    MultiBoard.prototype.applySingleBoard = function (singleBoard) {\n        if (this.isSolved(singleBoard))\n            return false;\n        else {\n            for (var row = 0; row < this.rows; row++) {\n                for (var col = 0; col < this.cols; col++) {\n                    var singleVariant = singleBoard.get(row, col);\n                    for (var variant = 0; variant < this.variants; variant++)\n                        this.get(row, col)[variant] = variant == singleVariant;\n                }\n            }\n            return true;\n        }\n    };\n    return MultiBoard;\n}(Board_1.Board));\nexports.MultiBoard = MultiBoard;\n\n\n/***/ }),\n\n/***/ \"D3DT\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d4.08e21c2cf4f787a7913cc84db58777ec.png\";\n\n/***/ }),\n\n/***/ \"DAXx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar BetweenHint = (function () {\n    function BetweenHint(row1, variant1, rowMiddle, variantMiddle, row2, variant2) {\n        this.row1 = row1;\n        this.variant1 = variant1;\n        this.rowMiddle = rowMiddle;\n        this.variantMiddle = variantMiddle;\n        this.row2 = row2;\n        this.variant2 = variant2;\n    }\n    BetweenHint.prototype.applyTo = function (board) {\n        var changed = false;\n        if (board.isPossible(this.rowMiddle, 0, this.variantMiddle)) {\n            board.remove(this.rowMiddle, 0, this.variantMiddle);\n            changed = true;\n        }\n        if (board.isPossible(this.rowMiddle, board.cols - 1, this.variantMiddle)) {\n            board.remove(this.rowMiddle, board.cols - 1, this.variantMiddle);\n            changed = true;\n        }\n        var changed2;\n        do {\n            changed2 = false;\n            for (var col = 1; col < board.cols - 1; col++) {\n                if (board.isPossible(this.rowMiddle, col, this.variantMiddle) &&\n                    !(board.isPossible(this.row1, col - 1, this.variant1) && board.isPossible(this.row2, col + 1, this.variant2) ||\n                        board.isPossible(this.row2, col - 1, this.variant2) && board.isPossible(this.row1, col + 1, this.variant1))) {\n                    board.remove(this.rowMiddle, col, this.variantMiddle);\n                    changed2 = true;\n                }\n            }\n            for (var col = 0; col < board.cols; col++) {\n                if (board.isPossible(this.row1, col, this.variant1)) {\n                    var leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row2, col - 2, this.variant2) : false;\n                    var rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row2, col + 2, this.variant2) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row1, col, this.variant1);\n                        changed2 = true;\n                    }\n                }\n                if (board.isPossible(this.row2, col, this.variant2)) {\n                    var leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row1, col - 2, this.variant1) : false;\n                    var rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row1, col + 2, this.variant1) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row2, col, this.variant2);\n                        changed2 = true;\n                    }\n                }\n            }\n            if (changed2)\n                changed = true;\n        } while (changed2);\n        return changed;\n    };\n    BetweenHint.prototype.getType = function () {\n        return 1 /* Horizontal */;\n    };\n    return BetweenHint;\n}());\nexports.BetweenHint = BetweenHint;\nvar BetweenHintFactory = (function () {\n    function BetweenHintFactory() {\n    }\n    BetweenHintFactory.prototype.random = function (board) {\n        var row1 = _.random(0, board.rows - 1);\n        var rowMiddle = _.random(0, board.rows - 1);\n        var colMiddle = _.random(1, board.cols - 2);\n        var row2 = _.random(0, board.rows - 1);\n        var colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        var col1 = colMiddle + colDelta;\n        var col2 = colMiddle - colDelta;\n        return new BetweenHint(row1, board.get(row1, col1), rowMiddle, board.get(rowMiddle, colMiddle), row2, board.get(row2, col2));\n    };\n    return BetweenHintFactory;\n}());\nexports.BetweenHintFactory = BetweenHintFactory;\n\n\n/***/ }),\n\n/***/ \"Dvz/\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d3.402ab38c15f0b6e6d5bf8c21c1966cac.png\";\n\n/***/ }),\n\n/***/ \"E9CV\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e3.158bc24007fc557a4756dcaaf638f81c.png\";\n\n/***/ }),\n\n/***/ \"FslU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/tile.3631d1df5b147c00992f293ab1246a12.png\";\n\n/***/ }),\n\n/***/ \"HZR3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar db_1 = __webpack_require__(\"ATbC\");\nvar Config;\n(function (Config) {\n    function getKey(key) {\n        return db_1.db.config.get(key, function (configItem) { return configItem !== undefined ? configItem.value : undefined; });\n    }\n    Config.getKey = getKey;\n    function get() {\n        return db_1.db.config.toArray(function (configItems) {\n            return _.fromPairs(_.map(configItems, function (configItem) { return [configItem.key, configItem.value]; }));\n        });\n    }\n    Config.get = get;\n    function setKey(key, value) {\n        return db_1.db.config.put({\n            key: key,\n            value: value\n        });\n    }\n    Config.setKey = setKey;\n    function set(newConfig) {\n        return db_1.db.config.bulkPut(_.map(_.toPairs(newConfig), function (pair) { return ({ key: pair[0], value: pair[1] }); }));\n    }\n    Config.set = set;\n})(Config = exports.Config || (exports.Config = {}));\n\n\n/***/ }),\n\n/***/ \"Hoba\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f3.5b7ae0c2d05c4e28148dc866a5094d67.png\";\n\n/***/ }),\n\n/***/ \"Htyr\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a4.0ef2cddeeac6822a557e42295feb1e3c.png\";\n\n/***/ }),\n\n/***/ \"HwaM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar OpenHint = (function () {\n    function OpenHint(row, col, variant) {\n        this.row = row;\n        this.col = col;\n        this.variant = variant;\n    }\n    OpenHint.prototype.applyTo = function (board) {\n        if (!board.isSingle(this.row, this.col)) {\n            board.set(this.row, this.col, this.variant);\n            return true;\n        }\n        else\n            return false;\n    };\n    OpenHint.prototype.getType = function () {\n        return 0 /* Start */;\n    };\n    return OpenHint;\n}());\nexports.OpenHint = OpenHint;\nvar OpenHintFactory = (function () {\n    function OpenHintFactory() {\n    }\n    OpenHintFactory.prototype.random = function (board) {\n        var row = _.random(0, board.rows - 1);\n        var col = _.random(0, board.cols - 1);\n        return new OpenHint(row, col, board.get(row, col));\n    };\n    return OpenHintFactory;\n}());\nexports.OpenHintFactory = OpenHintFactory;\n\n\n/***/ }),\n\n/***/ \"IJZH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-between.4800cdbe6818a1ee91adb4003d1dc435.png\";\n\n/***/ }),\n\n/***/ \"In3e\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar preact_1 = __webpack_require__(\"rMlB\");\n__webpack_require__(\"Jd+4\");\nvar Times_1 = __webpack_require__(\"vO/K\");\nvar time_1 = __webpack_require__(\"5AqA\");\nvar PuzzleOptionsUtils_1 = __webpack_require__(\"fdQW\");\nvar HighscoreItemComponent = (function (_super) {\n    __extends(HighscoreItemComponent, _super);\n    function HighscoreItemComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HighscoreItemComponent.prototype.render = function (props) {\n        return (preact_1.h(\"tr\", null,\n            preact_1.h(\"td\", { class: \"highscore-i\" }, props.i + 1 + \".\"),\n            preact_1.h(\"td\", { class: \"highscore-name\", title: props.item.date.toString() }, props.item.name),\n            preact_1.h(\"td\", { class: \"highscore-time\" }, time_1.formatDuration(props.item.time))));\n    };\n    return HighscoreItemComponent;\n}(preact_1.Component));\nvar HighscoreComponent = (function (_super) {\n    __extends(HighscoreComponent, _super);\n    function HighscoreComponent(props) {\n        var _this = _super.call(this) || this;\n        _this.state = {\n            top10: undefined\n        };\n        _this.fetchTop10(props);\n        return _this;\n    }\n    HighscoreComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.props.options !== nextProps.options) {\n            this.fetchTop10(nextProps);\n        }\n    };\n    HighscoreComponent.prototype.fetchTop10 = function (props) {\n        var _this = this;\n        Times_1.Times.getTop10(props.options).then(function (top10) {\n            _this.setState({\n                top10: top10\n            });\n        });\n    };\n    HighscoreComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"div\", { class: \"highscore-outer\" },\n            preact_1.h(\"div\", { class: \"highscore-title\" }, PuzzleOptionsUtils_1.formatOptions(props.options)),\n            preact_1.h(\"table\", { class: \"highscore\" },\n                preact_1.h(\"thead\", null,\n                    preact_1.h(\"tr\", null,\n                        preact_1.h(\"th\", { class: \"highscore-i\" }, \"#\\u00A0\"),\n                        preact_1.h(\"th\", { class: \"highscore-name\" }, \"Name\"),\n                        preact_1.h(\"th\", { class: \"highscore-time\" }, \"Time\"))),\n                preact_1.h(\"tbody\", null, state.top10 !== undefined && state.top10.length > 0 ?\n                    _.map(state.top10, function (timesItem, i) {\n                        return preact_1.h(HighscoreItemComponent, { i: i, item: timesItem });\n                    }) :\n                    preact_1.h(\"tr\", { class: \"highscore-text\" },\n                        preact_1.h(\"td\", { colSpan: 3 }, state.top10 !== undefined ?\n                            \"No times\" :\n                            \"Loading...\"))))));\n    };\n    return HighscoreComponent;\n}(preact_1.Component));\nexports.HighscoreComponent = HighscoreComponent;\n\n\n/***/ }),\n\n/***/ \"JIJM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar SameColumnHint = (function () {\n    function SameColumnHint(row1, variant1, row2, variant2) {\n        this.row1 = row1;\n        this.variant1 = variant1;\n        this.row2 = row2;\n        this.variant2 = variant2;\n    }\n    SameColumnHint.prototype.applyTo = function (board) {\n        var changed = false;\n        for (var col = 0; col < board.cols; col++) {\n            var possible1 = board.isPossible(this.row1, col, this.variant1);\n            var possible2 = board.isPossible(this.row2, col, this.variant2);\n            if (!possible1 && possible2) {\n                board.remove(this.row2, col, this.variant2);\n                changed = true;\n            }\n            else if (possible1 && !possible2) {\n                board.remove(this.row1, col, this.variant1);\n                changed = true;\n            }\n        }\n        return changed;\n    };\n    SameColumnHint.prototype.getType = function () {\n        return 2 /* Vertical */;\n    };\n    return SameColumnHint;\n}());\nexports.SameColumnHint = SameColumnHint;\nvar SameColumnHintFactory = (function () {\n    function SameColumnHintFactory() {\n    }\n    SameColumnHintFactory.prototype.random = function (board) {\n        var col = _.random(0, board.cols - 1);\n        var row1 = _.random(0, board.rows - 1);\n        var row2;\n        do {\n            row2 = _.random(0, board.rows - 1);\n        } while (row2 == row1);\n        return new SameColumnHint(row1, board.get(row1, col), row2, board.get(row2, col));\n    };\n    return SameColumnHintFactory;\n}());\nexports.SameColumnHintFactory = SameColumnHintFactory;\n\n\n/***/ }),\n\n/***/ \"JMRT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar Board_1 = __webpack_require__(\"bWR4\");\nvar MultiBoard_1 = __webpack_require__(\"CBd9\");\nvar SingleBoard = (function (_super) {\n    __extends(SingleBoard, _super);\n    function SingleBoard() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SingleBoard.random = function (options) {\n        return new SingleBoard(_.times(options.rows, function (row) { return _.shuffle(_.range(options.cols)); }), options);\n    };\n    SingleBoard.prototype.getCol = function (row, variant) {\n        for (var col = 0; col < this.cols; col++) {\n            if (this.get(row, col) === variant)\n                return col;\n        }\n        return -1;\n    };\n    SingleBoard.prototype.isSolvable = function (hints) {\n        var multiBoard = MultiBoard_1.MultiBoard.full(this.options);\n        multiBoard.applyHints(hints);\n        return multiBoard.isSolved(this);\n    };\n    return SingleBoard;\n}(Board_1.Board));\nexports.SingleBoard = SingleBoard;\n\n\n/***/ }),\n\n/***/ \"Jd+4\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"JpXf\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"KBc0\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = __webpack_require__(\"HW6M\");\nvar _ = __webpack_require__(\"M4fF\");\nvar preact_1 = __webpack_require__(\"rMlB\");\nvar AdjacentHint_1 = __webpack_require__(\"2+Yo\");\nvar BetweenHint_1 = __webpack_require__(\"DAXx\");\nvar DirectionHint_1 = __webpack_require__(\"X9r5\");\nvar SameColumnHint_1 = __webpack_require__(\"JIJM\");\nvar LongTouchContextMenuHandler_1 = __webpack_require__(\"euc6\");\n__webpack_require__(\"TjjG\");\nvar IconComponents_1 = __webpack_require__(\"NsAh\");\nvar HintComponent = (function (_super) {\n    __extends(HintComponent, _super);\n    function HintComponent() {\n        var _this = _super.call(this) || this;\n        _this.contextMenuHandler = new LongTouchContextMenuHandler_1.LongTouchContextMenuHandler(function () { return _this.onToggle(); });\n        _this.onToggle = function () {\n            _this.setState(function (state) {\n                return {\n                    visible: !state.visible\n                };\n            });\n        };\n        _this.state = {\n            visible: true\n        };\n        return _this;\n    }\n    HintComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.props.hint !== nextProps.hint) {\n            this.setState({\n                visible: true\n            });\n        }\n    };\n    HintComponent.prototype.renderTbody = function (props) {\n        var hint = props.hint;\n        if (hint instanceof AdjacentHint_1.AdjacentHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row1, variant: hint.variant1 })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.IconComponent, { name: \"hint-adjacent\" })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row2, variant: hint.variant2 })))));\n        }\n        else if (hint instanceof BetweenHint_1.BetweenHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row1, variant: hint.variant1 })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.rowMiddle, variant: hint.variantMiddle }),\n                        preact_1.h(\"div\", { class: \"hint-between\" },\n                            preact_1.h(IconComponents_1.IconComponent, { name: \"hint-between\" }))),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row2, variant: hint.variant2 })))));\n        }\n        else if (hint instanceof DirectionHint_1.DirectionHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.rowLeft, variant: hint.variantLeft })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.IconComponent, { name: \"hint-direction\" })),\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.rowRight, variant: hint.variantRight })))));\n        }\n        else if (hint instanceof SameColumnHint_1.SameColumnHint) {\n            return (preact_1.h(\"tbody\", null,\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row1, variant: hint.variant1 }))),\n                preact_1.h(\"tr\", null,\n                    preact_1.h(\"td\", null,\n                        preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: hint.row2, variant: hint.variant2 })))));\n        }\n        else\n            throw new Error(\"Unsupported hint type\");\n    };\n    HintComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"div\", __assign({ class: classNames({\n                \"hint-outer\": true,\n                \"hint-visible\": state.visible,\n                \"hint-hidden\": !state.visible\n            }) }, this.contextMenuHandler),\n            preact_1.h(\"table\", { class: \"hint\" }, this.renderTbody(props))));\n    };\n    return HintComponent;\n}(preact_1.Component));\nvar HintsComponent = (function (_super) {\n    __extends(HintsComponent, _super);\n    function HintsComponent() {\n        var _this = _super.call(this) || this;\n        _this.onToggle = function (e) {\n            _this.setState(function (state) {\n                return {\n                    visible: !state.visible\n                };\n            });\n        };\n        _this.state = {\n            visible: true\n        };\n        return _this;\n    }\n    HintsComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.props.hints !== nextProps.hints) {\n            this.setState({\n                visible: true\n            });\n        }\n    };\n    HintsComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"div\", { class: \"hints\" },\n            preact_1.h(\"button\", { class: \"button-toggle\", onClick: this.onToggle }, \"Toggle\"),\n            preact_1.h(\"div\", { class: classNames({\n                    \"hints-horizontal\": true,\n                    \"hints-visible\": state.visible,\n                    \"hints-hidden\": !state.visible\n                }) },\n                _.map(_.filter(props.hints, function (hint) { return hint.getType() === 1 /* Horizontal */; }), function (hint) {\n                    return preact_1.h(HintComponent, { hint: hint });\n                }),\n                _.map(_.filter(props.hints, function (hint) { return hint.getType() === 2 /* Vertical */; }), function (hint) {\n                    return preact_1.h(HintComponent, { hint: hint });\n                }))));\n    };\n    return HintsComponent;\n}(preact_1.Component));\nexports.HintsComponent = HintsComponent;\n\n\n/***/ }),\n\n/***/ \"MjYr\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f5.72cc42d0d642b89a43f7d5dae38777d0.png\";\n\n/***/ }),\n\n/***/ \"N7YA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a6.4ac50d73cecffe7683129cb537280e02.png\";\n\n/***/ }),\n\n/***/ \"NhLW\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a2.b09094efecdd9eb43f5c9d816a1fe4e3.png\";\n\n/***/ }),\n\n/***/ \"NsAh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar preact_1 = __webpack_require__(\"rMlB\");\n__webpack_require__(\"JpXf\");\n// https://webpack.js.org/guides/dependency-management/#context-module-api\nvar cache = {};\nfunction importAll(r) {\n    r.keys().forEach(function (key) { return cache[key] = r(key); });\n}\nimportAll(__webpack_require__(\"7PiI\"));\nvar IconComponent = (function (_super) {\n    __extends(IconComponent, _super);\n    function IconComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IconComponent.prototype.render = function (props) {\n        return (preact_1.h(\"img\", { class: \"icon\", src: cache[\"./icons/original/\" + props.name + \".png\"] }));\n    };\n    return IconComponent;\n}(preact_1.Component));\nexports.IconComponent = IconComponent;\nvar LargeVariantIconComponent = (function (_super) {\n    __extends(LargeVariantIconComponent, _super);\n    function LargeVariantIconComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LargeVariantIconComponent.prototype.render = function (props) {\n        return (preact_1.h(IconComponent, { name: \"large/large-\" + (props.row + 10).toString(16) + (props.variant + 1) }));\n    };\n    return LargeVariantIconComponent;\n}(preact_1.Component));\nexports.LargeVariantIconComponent = LargeVariantIconComponent;\nvar SmallVariantIconComponent = (function (_super) {\n    __extends(SmallVariantIconComponent, _super);\n    function SmallVariantIconComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SmallVariantIconComponent.prototype.render = function (props) {\n        return (preact_1.h(IconComponent, { name: \"small/small-\" + (props.row + 10).toString(16) + (props.variant + 1) }));\n    };\n    return SmallVariantIconComponent;\n}(preact_1.Component));\nexports.SmallVariantIconComponent = SmallVariantIconComponent;\n\n\n/***/ }),\n\n/***/ \"Op0r\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-direction.2a6b9db9707be05efc146cbd8e571e2b.png\";\n\n/***/ }),\n\n/***/ \"P2+R\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e5.46811d66ca231366ab2e44b4de32bee7.png\";\n\n/***/ }),\n\n/***/ \"PWPq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d3.87d7030770383023603c79700050ee58.png\";\n\n/***/ }),\n\n/***/ \"QP0S\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a1.d73d5dfe6e49493fa72128c7d36eca4e.png\";\n\n/***/ }),\n\n/***/ \"QfaF\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f6.2f7d8a98586b23b3f348bef4350bf4f7.png\";\n\n/***/ }),\n\n/***/ \"Qj03\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-adjacent.7b5864dbf0656526063d96f271c1e5fc.png\";\n\n/***/ }),\n\n/***/ \"RUP8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b3.65f5bcb765e8dc6f37ec5174e112cea4.png\";\n\n/***/ }),\n\n/***/ \"SAo3\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e4.07420566e5a63e3313fa48704100c22f.png\";\n\n/***/ }),\n\n/***/ \"SCQN\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e1.abbe71866b879431f7d1ec2f736260f3.png\";\n\n/***/ }),\n\n/***/ \"SLpm\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = __webpack_require__(\"HW6M\");\nvar dexie_1 = __webpack_require__(\"YwQ6\");\nvar _ = __webpack_require__(\"M4fF\");\nvar Package = __webpack_require__(\"7YgM\");\nvar preact_1 = __webpack_require__(\"rMlB\");\nvar Puzzle_1 = __webpack_require__(\"hmo1\");\nvar Config_1 = __webpack_require__(\"HZR3\");\nvar Counts_1 = __webpack_require__(\"7Stf\");\nvar Times_1 = __webpack_require__(\"vO/K\");\nvar time_1 = __webpack_require__(\"5AqA\");\nvar Timer_1 = __webpack_require__(\"32Ag\");\n__webpack_require__(\"2JYO\");\nvar HighscoreComponent_1 = __webpack_require__(\"In3e\");\nvar HintsComponent_1 = __webpack_require__(\"KBc0\");\nvar MultiBoardComponent_1 = __webpack_require__(\"ziB5\");\nvar PuzzleOptionsUtils_1 = __webpack_require__(\"fdQW\");\nvar TimerComponent_1 = __webpack_require__(\"etg9\");\nvar VisibilityChangeListener_1 = __webpack_require__(\"yFiT\");\nvar MessageUnloadListener_1 = __webpack_require__(\"Agl8\");\nvar BirthdayComponent_1 = __webpack_require__(\"ouBu\");\nvar OptionsComponent_1 = __webpack_require__(\"b/H4\");\nvar GameState;\n(function (GameState) {\n    GameState[GameState[\"Options\"] = 0] = \"Options\";\n    GameState[GameState[\"Highscore\"] = 1] = \"Highscore\";\n    GameState[GameState[\"Playing\"] = 2] = \"Playing\";\n    GameState[GameState[\"ManualPaused\"] = 3] = \"ManualPaused\";\n    GameState[GameState[\"AutoPaused\"] = 4] = \"AutoPaused\";\n    GameState[GameState[\"Solved\"] = 5] = \"Solved\";\n    GameState[GameState[\"Over\"] = 6] = \"Over\";\n})(GameState = exports.GameState || (exports.GameState = {}));\nvar AppComponent = (function (_super) {\n    __extends(AppComponent, _super);\n    function AppComponent() {\n        var _this = _super.call(this) || this;\n        _this.timer = new Timer_1.Timer();\n        _this.onClickNewGame = function (e) {\n            _this.setState({\n                gameState: GameState.Options,\n                cheated: 0\n            });\n            _this.timer.reset();\n        };\n        _this.onClickPause = function (e) {\n            if (_this.state.gameState === GameState.Playing) {\n                _this.timer.pause();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.ManualPaused\n                }); });\n            }\n        };\n        _this.onClickResume = function (e) {\n            if (_this.state.gameState === GameState.ManualPaused || _this.state.gameState === GameState.AutoPaused) {\n                _this.timer.start();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.Playing\n                }); });\n            }\n        };\n        _this.onClickCheat = function (e) {\n            if (_this.state.gameState === GameState.Playing) {\n                _this.setState(function (state) {\n                    var changed = state.puzzle.applySingleHint();\n                    return _.merge(state, {\n                        cheated: state.cheated + (changed ? 1 : 0)\n                    });\n                }, _this.refresh);\n            }\n        };\n        _this.onVisibilityChange = function (visible) {\n            if (visible && _this.state.gameState === GameState.AutoPaused) {\n                _this.timer.start();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.Playing\n                }); });\n            }\n            else if (!visible && _this.state.gameState === GameState.Playing) {\n                _this.timer.pause();\n                _this.setState(function (state) { return _.merge(state, {\n                    gameState: GameState.AutoPaused\n                }); });\n            }\n        };\n        _this.onMessageUnload = function () {\n            switch (_this.state.gameState) {\n                case GameState.Playing:\n                case GameState.ManualPaused:\n                case GameState.AutoPaused:\n                    return \"Are you sure you want to leave while the game is in progress?\";\n                default:\n                    return null;\n            }\n        };\n        _this.submitOptions = function (options) {\n            _this.configOptions(options);\n            _this.setState({\n                puzzle: Puzzle_1.Puzzle.generate(options),\n                gameState: GameState.Playing,\n                cheated: 0\n            }, function () {\n                _this.timer.start();\n            });\n        };\n        _this.highscoreOptions = function (options) {\n            _this.configOptions(options);\n            _this.setState({\n                gameState: GameState.Highscore\n            });\n        };\n        _this.refresh = function () {\n            if (_this.state.gameState === GameState.Playing) {\n                var puzzle_1 = _this.state.puzzle;\n                if (puzzle_1.isSolved()) {\n                    _this.timer.pause();\n                    var time_2 = _this.timer.getTotalTime();\n                    _this.setState(function (state) { return _.merge(state, {\n                        gameState: GameState.Solved\n                    }); }, function () {\n                        var options = puzzle_1.options;\n                        var cheated = _this.state.cheated;\n                        Counts_1.Counts.increase(options, cheated ? \"solvedCheated\" : \"solved\");\n                        var cheatedText = cheated > 0 ? \" by cheating \" + cheated + \" times\" : \"\";\n                        alert(\"Solved \" + PuzzleOptionsUtils_1.formatOptions(options) + \" in \" + time_1.formatDuration(time_2) + cheatedText + \"!\");\n                        if (!cheated) {\n                            Times_1.Times.isInTop10(options, time_2).then(function (isInTop10) {\n                                var name;\n                                if (isInTop10 !== false &&\n                                    (name = prompt(\"Enter name for \" + (isInTop10 + 1) + \". place in high scores:\", _this.state.defaultName)) !== null)\n                                    return _this.configDefaultName(name);\n                                else\n                                    return undefined;\n                            }).then(function (name) {\n                                return Times_1.Times.add(options, time_2, name);\n                            });\n                        }\n                    });\n                }\n                else if (puzzle_1.isOver()) {\n                    _this.timer.pause();\n                    _this.setState(function (state) { return _.merge(state, {\n                        gameState: GameState.Over\n                    }); }, function () {\n                        Counts_1.Counts.increase(puzzle_1.options, \"over\");\n                        alert(\"Over!\");\n                    });\n                }\n            }\n        };\n        _this.state = {\n            options: AppComponent.defaultOptions,\n            puzzle: Puzzle_1.Puzzle.generate(AppComponent.defaultOptions),\n            gameState: GameState.Options,\n            cheated: 0\n        };\n        _this.visibilityChange = new VisibilityChangeListener_1.VisibilityChangeListener(_this.onVisibilityChange);\n        _this.messageUnload = new MessageUnloadListener_1.MessageUnloadListener(_this.onMessageUnload);\n        Config_1.Config.get().then(function (config) {\n            _this.setState(function (state) { return _.assignWith(state, {\n                options: config.options,\n                defaultName: config.name\n            }, function (stateValue, sourceValue) { return _.isUndefined(sourceValue) ? stateValue : sourceValue; }); });\n        });\n        return _this;\n    }\n    AppComponent.prototype.componentDidMount = function () {\n        this.visibilityChange.add();\n        this.messageUnload.add();\n    };\n    AppComponent.prototype.componentWillUnmount = function () {\n        this.visibilityChange.remove();\n        this.messageUnload.remove();\n    };\n    AppComponent.prototype.configOptions = function (options) {\n        this.setState({\n            options: options\n        });\n        Config_1.Config.set({\n            options: options\n        });\n    };\n    AppComponent.prototype.configDefaultName = function (name) {\n        var _this = this;\n        return dexie_1.default.Promise.all([\n            new dexie_1.default.Promise(function (resolve, reject) {\n                _this.setState({\n                    defaultName: name\n                }, function () { return resolve(name); });\n            }),\n            Config_1.Config.set({\n                name: name\n            })\n        ]).then(function () { return name; });\n    };\n    AppComponent.prototype.render = function (props, state) {\n        var solvedOrOver = state.gameState === GameState.Solved || state.gameState === GameState.Over;\n        var showBoard = solvedOrOver ? state.puzzle.singleBoard : undefined;\n        return (preact_1.h(\"div\", { class: classNames({\n                \"app\": true,\n                \"paused\": state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused,\n                \"solved\": state.gameState === GameState.Solved,\n                \"over\": state.gameState === GameState.Over,\n                \"cheated\": state.cheated > 0\n            }) },\n            preact_1.h(\"div\", { class: \"app-top\" },\n                preact_1.h(\"div\", { class: \"header\" },\n                    preact_1.h(\"div\", { class: \"brand\" },\n                        preact_1.h(\"a\", { href: \"http://einstein.sim642.eu\", title: \"einstein-js \" + Package.version }, \"einstein-js\"),\n                        \" \",\n                        preact_1.h(\"small\", null,\n                            \"by \",\n                            preact_1.h(\"a\", { href: \"https://github.com/sim642/einstein-js\" }, \"sim642\"))),\n                    preact_1.h(\"div\", { class: \"buttons buttons-responsive\" },\n                        preact_1.h(\"button\", { class: classNames({\n                                \"button-highlight\": solvedOrOver || state.gameState === GameState.Highscore\n                            }), onClick: this.onClickNewGame }, \"New game\"),\n                        preact_1.h(\"button\", { disabled: state.gameState !== GameState.Playing, onClick: this.onClickCheat },\n                            \"Cheat \",\n                            state.cheated > 0 ?\n                                preact_1.h(\"span\", { class: \"badge\" }, state.cheated) :\n                                null),\n                        state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused ?\n                            preact_1.h(\"button\", { class: \"button-highlight\", onClick: this.onClickResume }, \"Resume\") :\n                            preact_1.h(\"button\", { disabled: state.gameState !== GameState.Playing, onClick: this.onClickPause }, \"Pause\")),\n                    preact_1.h(TimerComponent_1.TimerComponent, { timer: this.timer })),\n                preact_1.h(BirthdayComponent_1.BirthdayComponent, { month: 10, day: 22, name: \"Elisabeth\" }),\n                state.gameState === GameState.Options ?\n                    preact_1.h(OptionsComponent_1.OptionsComponent, { options: state.options, submit: this.submitOptions, highscore: this.highscoreOptions, defaultOptions: AppComponent.defaultOptions }) :\n                    state.gameState === GameState.Highscore ?\n                        preact_1.h(HighscoreComponent_1.HighscoreComponent, { options: state.options }) :\n                        preact_1.h(MultiBoardComponent_1.MultiBoardComponent, { board: state.puzzle.multiBoard, refresh: this.refresh, showBoard: showBoard })),\n            state.gameState !== GameState.Options && state.gameState !== GameState.Highscore ?\n                preact_1.h(HintsComponent_1.HintsComponent, { hints: state.puzzle.hints }) :\n                null));\n    };\n    AppComponent.defaultOptions = {\n        rows: 6,\n        cols: 6,\n        extraHintsPercent: 0\n    };\n    return AppComponent;\n}(preact_1.Component));\nexports.AppComponent = AppComponent;\n\n\n/***/ }),\n\n/***/ \"TeOI\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a5.e5df7839ecedea6b66da59aa3ece9ba8.png\";\n\n/***/ }),\n\n/***/ \"TjjG\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"UBU4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b1.67391202fba98a1797a9c666a9f2d723.png\";\n\n/***/ }),\n\n/***/ \"X9r5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar DirectionHint = (function () {\n    function DirectionHint(rowLeft, variantLeft, rowRight, variantRight) {\n        this.rowLeft = rowLeft;\n        this.variantLeft = variantLeft;\n        this.rowRight = rowRight;\n        this.variantRight = variantRight;\n    }\n    DirectionHint.prototype.applyTo = function (board) {\n        var changed = false;\n        for (var col = 0; col < board.cols; col++) {\n            if (board.isPossible(this.rowRight, col, this.variantRight)) {\n                board.remove(this.rowRight, col, this.variantRight);\n                changed = true;\n            }\n            if (board.isPossible(this.rowLeft, col, this.variantLeft))\n                break;\n        }\n        for (var col = board.cols - 1; col >= 0; col--) {\n            if (board.isPossible(this.rowLeft, col, this.variantLeft)) {\n                board.remove(this.rowLeft, col, this.variantLeft);\n                changed = true;\n            }\n            if (board.isPossible(this.rowRight, col, this.variantRight))\n                break;\n        }\n        return changed;\n    };\n    DirectionHint.prototype.getType = function () {\n        return 1 /* Horizontal */;\n    };\n    return DirectionHint;\n}());\nexports.DirectionHint = DirectionHint;\nvar DirectionHintFactory = (function () {\n    function DirectionHintFactory() {\n    }\n    DirectionHintFactory.prototype.random = function (board) {\n        var rowLeft = _.random(0, board.rows - 1);\n        var colLeft = _.random(0, board.cols - 2);\n        var rowRight = _.random(0, board.rows - 1);\n        var colRight = _.random(colLeft + 1, board.cols - 1);\n        return new DirectionHint(rowLeft, board.get(rowLeft, colLeft), rowRight, board.get(rowRight, colRight));\n    };\n    return DirectionHintFactory;\n}());\nexports.DirectionHintFactory = DirectionHintFactory;\n\n\n/***/ }),\n\n/***/ \"XjqR\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c3.82043ba3661fa5a9afc87cf0c1d9f917.png\";\n\n/***/ }),\n\n/***/ \"XnXw\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e4.967aa445a182fda8b3261d4612d3a3fc.png\";\n\n/***/ }),\n\n/***/ \"YFuY\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e6.60a05543c24485dc78b1cb4f47c306be.png\";\n\n/***/ }),\n\n/***/ \"YKaq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b5.746416be364e3c33aacd6055c476fbc5.png\";\n\n/***/ }),\n\n/***/ \"Z31m\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b6.0b3f448c498b70903671a4bc69efde0d.png\";\n\n/***/ }),\n\n/***/ \"ZNit\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f1.2d3e9386d0328114e71184f6946f14b6.png\";\n\n/***/ }),\n\n/***/ \"ZvN9\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e1.b1cd43842afa4b29b592e9ac499769ca.png\";\n\n/***/ }),\n\n/***/ \"b/H4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar preact_1 = __webpack_require__(\"rMlB\");\n__webpack_require__(\"99qC\");\nvar Config_1 = __webpack_require__(\"HZR3\");\nvar Times_1 = __webpack_require__(\"vO/K\");\nvar InputRangeComponent = (function (_super) {\n    __extends(InputRangeComponent, _super);\n    function InputRangeComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onChange = function (e) {\n            e.preventDefault();\n            var value = parseInt(e.target.value);\n            _this.props.onChange(value);\n        };\n        return _this;\n    }\n    InputRangeComponent.prototype.render = function (props) {\n        var listId = props.id + \"-list\";\n        return (preact_1.h(\"span\", { class: \"input input-range\" },\n            preact_1.h(\"input\", __assign({ type: \"range\" }, props, { value: props.value.toString(), list: listId, onChange: this.onChange, onInput: this.onChange })),\n            preact_1.h(\"output\", { for: props.id },\n                props.value,\n                props.unit),\n            preact_1.h(\"datalist\", { id: listId }, _.map(_.range(props.min, props.max + 1, props.step), function (value) {\n                return preact_1.h(\"option\", { value: value.toString() });\n            }))));\n    };\n    return InputRangeComponent;\n}(preact_1.Component));\nvar OptionsComponent = (function (_super) {\n    __extends(OptionsComponent, _super);\n    function OptionsComponent(props) {\n        var _this = _super.call(this) || this;\n        _this.onSubmit = function (e) {\n            e.preventDefault();\n            _this.props.submit(_this.state.options);\n        };\n        // No onReset on <form>\n        _this.onReset = function (e) {\n            e.preventDefault();\n            _this.setState({\n                options: _.clone(_this.props.defaultOptions),\n                hasTimes: false\n            });\n            _this.fetchHasTimes(_this.state.options);\n            Config_1.Config.set({\n                options: _this.state.options\n            });\n        };\n        _this.onHighscore = function (e) {\n            _this.props.highscore(_this.state.options);\n        };\n        _this.state = {\n            options: _.clone(props.options),\n            hasTimes: false\n        };\n        _this.fetchHasTimes(props.options);\n        return _this;\n    }\n    OptionsComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (!_.eq(this.props, nextProps)) {\n            this.setState({\n                options: _.clone(nextProps.options),\n                hasTimes: false\n            });\n            this.fetchHasTimes(nextProps.options);\n        }\n    };\n    OptionsComponent.prototype.onChange = function (field) {\n        var _this = this;\n        return function (value) {\n            _this.setState(function (state) {\n                return _.merge(state, {\n                    options: (_a = {},\n                        _a[field] = value // TODO: typecheck this,\n                    ,\n                        _a),\n                    hasTimes: false\n                });\n                var _a;\n            });\n            _this.fetchHasTimes(_this.state.options);\n            Config_1.Config.set({\n                options: _this.state.options\n            });\n        };\n    };\n    OptionsComponent.prototype.fetchHasTimes = function (options) {\n        var _this = this;\n        Times_1.Times.hasTimes(options).then(function (hasTimes) {\n            _this.setState({\n                hasTimes: hasTimes\n            });\n        });\n    };\n    OptionsComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"form\", { class: \"options\", onSubmit: this.onSubmit },\n            preact_1.h(\"div\", { class: \"form-group\" },\n                preact_1.h(\"label\", { for: \"option-rows\" }, \"Rows\"),\n                preact_1.h(InputRangeComponent, { id: \"option-rows\", min: 3, max: 6, value: state.options.rows, onChange: this.onChange(\"rows\") })),\n            preact_1.h(\"div\", { class: \"form-group\" },\n                preact_1.h(\"label\", { for: \"option-cols\" }, \"Columns\"),\n                preact_1.h(InputRangeComponent, { id: \"option-cols\", min: 3, max: 6, value: state.options.cols, onChange: this.onChange(\"cols\") })),\n            preact_1.h(\"div\", { class: \"form-group\" },\n                preact_1.h(\"label\", { for: \"option-extra-hints\" }, \"Extra hints\"),\n                preact_1.h(InputRangeComponent, { id: \"option-extra-hints\", min: 0, max: 100, step: 20, value: state.options.extraHintsPercent, onChange: this.onChange(\"extraHintsPercent\"), unit: \"%\" })),\n            preact_1.h(\"div\", { class: \"form-group buttons\" },\n                preact_1.h(\"button\", { type: \"reset\", onClick: this.onReset }, \"Reset\"),\n                preact_1.h(\"button\", { type: \"button\", disabled: !state.hasTimes, onClick: this.onHighscore }, \"High scores\"),\n                preact_1.h(\"button\", { class: \"button-highlight button-wide\", type: \"submit\" }, \"Play\"))));\n    };\n    return OptionsComponent;\n}(preact_1.Component));\nexports.OptionsComponent = OptionsComponent;\n\n\n/***/ }),\n\n/***/ \"bWR4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Board = (function () {\n    function Board(table, options) {\n        if (options === void 0) { options = {\n            rows: table.length,\n            cols: table[0].length\n        }; }\n        this.table = table;\n        this.options = options;\n        this.rows = this.options.rows;\n        this.cols = this.options.cols;\n        this.variants = this.options.cols;\n    }\n    Board.prototype.get = function (row, col) {\n        return this.table[row][col];\n    };\n    return Board;\n}());\nexports.Board = Board;\n\n\n/***/ }),\n\n/***/ \"cgSM\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d1.4c6fc5e018efe828eb0a0a8136a8cc76.png\";\n\n/***/ }),\n\n/***/ \"d6hy\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d5.ae2144db1de56afe0541c89db7a31463.png\";\n\n/***/ }),\n\n/***/ \"dSmd\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f6.d614ae0c9d5efd565ca308cd3435188e.png\";\n\n/***/ }),\n\n/***/ \"dcOB\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e2.bba1807b4ac83d4a610aa663676e1204.png\";\n\n/***/ }),\n\n/***/ \"etg9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar preact_1 = __webpack_require__(\"rMlB\");\nvar time_1 = __webpack_require__(\"5AqA\");\nvar TimerComponent = (function (_super) {\n    __extends(TimerComponent, _super);\n    function TimerComponent(props) {\n        var _this = _super.call(this) || this;\n        _this.interval = null;\n        _this.state = {\n            time: props.timer.getTotalTime()\n        };\n        return _this;\n    }\n    TimerComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        this.setState({\n            time: nextProps.timer.getTotalTime()\n        });\n        this.setTimer();\n    };\n    TimerComponent.prototype.componentDidMount = function () {\n        this.setTimer();\n    };\n    TimerComponent.prototype.componentWillUnmount = function () {\n        this.clearTimer();\n    };\n    TimerComponent.prototype.clearTimer = function () {\n        if (this.interval !== null)\n            clearInterval(this.interval);\n    };\n    TimerComponent.prototype.setTimer = function () {\n        var _this = this;\n        this.clearTimer();\n        setTimeout(function () {\n            _this.interval = setInterval(function () {\n                _this.setState({\n                    time: _this.props.timer.getTotalTime()\n                });\n            }, 1000);\n        }, 0); // HACK: give enough delay to make interval fall between seconds and avoid second skipping\n    };\n    TimerComponent.prototype.render = function (props, state) {\n        return (preact_1.h(\"div\", { class: \"timer\" }, time_1.formatDuration(state.time)));\n    };\n    return TimerComponent;\n}(preact_1.Component));\nexports.TimerComponent = TimerComponent;\n\n\n/***/ }),\n\n/***/ \"euc6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LongTouchContextMenuHandler = (function () {\n    function LongTouchContextMenuHandler(callback) {\n        var _this = this;\n        this.callback = callback;\n        // iOS long touch workaround\n        // https://stackoverflow.com/a/33778163\n        // https://jsfiddle.net/gianlucaguarini/56Szw/\n        // https://stackoverflow.com/a/33303261\n        this.onTouchStart = function (e) {\n            // console.debug(\"touchstart\");\n            LongTouchContextMenuHandler.touching = true;\n            _this.timeout = setTimeout(function () {\n                console.log(\"longtouch\");\n                _this.callback();\n            }, LongTouchContextMenuHandler.longTouchTime);\n        };\n        this.onTouchMove = function (e) {\n            // console.debug(\"touchmove\");\n            clearTimeout(_this.timeout);\n        };\n        this.onTouchEnd = function (e) {\n            // console.debug(\"touchend\");\n            LongTouchContextMenuHandler.touching = false;\n            clearTimeout(_this.timeout);\n        };\n        this.onTouchCancel = function (e) {\n            // console.debug(\"touchcancel\");\n            LongTouchContextMenuHandler.touching = false;\n            clearTimeout(_this.timeout);\n        };\n        this.onContextMenu = function (e) {\n            e.preventDefault();\n            if (!LongTouchContextMenuHandler.touching)\n                _this.callback();\n        };\n    }\n    LongTouchContextMenuHandler.touching = false;\n    LongTouchContextMenuHandler.longTouchTime = 500;\n    return LongTouchContextMenuHandler;\n}());\nexports.LongTouchContextMenuHandler = LongTouchContextMenuHandler;\n\n\n/***/ }),\n\n/***/ \"fZOX\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b5.39e97e63457f6a5ef329ce7a1f329d47.png\";\n\n/***/ }),\n\n/***/ \"fdQW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction formatOptions(options) {\n    var extraHintsText = options.extraHintsPercent > 0 ? \" with \" + options.extraHintsPercent + \"% extra hints\" : \"\";\n    return options.rows + \"\\u00D7\" + options.cols + \" puzzle\" + extraHintsText;\n}\nexports.formatOptions = formatOptions;\n\n\n/***/ }),\n\n/***/ \"gBE2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c2.488e286fbc404fc350cc0e4def122c83.png\";\n\n/***/ }),\n\n/***/ \"gVWB\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f3.0070d3861e60350f291165d89028d7d1.png\";\n\n/***/ }),\n\n/***/ \"gYeE\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar AdjacentHint_1 = __webpack_require__(\"2+Yo\");\nvar BetweenHint_1 = __webpack_require__(\"DAXx\");\nvar DirectionHint_1 = __webpack_require__(\"X9r5\");\nvar OpenHint_1 = __webpack_require__(\"HwaM\");\nvar SameColumnHint_1 = __webpack_require__(\"JIJM\");\nvar RandomHintFactory = (function () {\n    function RandomHintFactory() {\n    }\n    RandomHintFactory.prototype.random = function (board) {\n        var hintFactory;\n        // hint frequency distribution from original einstein 2.0\n        switch (_.random(0, 14 - 1)) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n                hintFactory = new AdjacentHint_1.AdjacentHintFactory();\n                break;\n            case 4:\n                hintFactory = new OpenHint_1.OpenHintFactory();\n                break;\n            case 5:\n            case 6:\n                hintFactory = new SameColumnHint_1.SameColumnHintFactory();\n                break;\n            case 7:\n            case 8:\n            case 9:\n            case 10:\n                hintFactory = new DirectionHint_1.DirectionHintFactory();\n                break;\n            case 11:\n            case 12:\n            case 13:\n                hintFactory = new BetweenHint_1.BetweenHintFactory();\n                break;\n            // istanbul ignore next: impossible case\n            default:\n                throw new Error(\"Unhandled random HintFactory value\");\n        }\n        return hintFactory.random(board);\n    };\n    return RandomHintFactory;\n}());\nexports.RandomHintFactory = RandomHintFactory;\n\n\n/***/ }),\n\n/***/ \"hFVX\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d6.83aaeda6a3e029931af97f484755879f.png\";\n\n/***/ }),\n\n/***/ \"hli+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-e5.b1fdec84ea77accaea3f9a52908d69f3.png\";\n\n/***/ }),\n\n/***/ \"hmo1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar MultiBoard_1 = __webpack_require__(\"CBd9\");\nvar SingleBoard_1 = __webpack_require__(\"JMRT\");\nvar RandomHint_1 = __webpack_require__(\"gYeE\");\nvar Puzzle = (function () {\n    function Puzzle(singleBoard, hints, options) {\n        this.singleBoard = singleBoard;\n        this.hints = hints;\n        this.options = options;\n        this.multiBoard = MultiBoard_1.MultiBoard.full(options);\n        this.multiBoard.applyHints(_.filter(hints, function (hint) { return hint.getType() === 0 /* Start */; }));\n    }\n    Puzzle.prototype.isSolved = function () {\n        return this.multiBoard.isSolved(this.singleBoard);\n    };\n    Puzzle.prototype.isOver = function () {\n        return !this.multiBoard.contains(this.singleBoard);\n    };\n    Puzzle.prototype.applySingleHint = function () {\n        return this.multiBoard.applySingleHint(_.filter(this.hints, function (hint) { return hint.getType() !== 0 /* Start */; }));\n    };\n    Puzzle.generate = function (options) {\n        var board = SingleBoard_1.SingleBoard.random(options);\n        var hints = Puzzle.generateHints(board);\n        hints = Puzzle.pruneHints(board, hints);\n        hints = Puzzle.generateExtraHints(options, board, hints);\n        return new Puzzle(board, hints, options);\n    };\n    Puzzle.generateHints = function (board) {\n        var hints = [];\n        while (!board.isSolvable(hints)) {\n            var hint = Puzzle.hintFactory.random(board);\n            hints.push(hint);\n        }\n        return hints;\n    };\n    Puzzle.pruneHints = function (board, hints) {\n        hints = _.clone(hints);\n        console.debug(\"Before pruneHints: \" + hints.length);\n        var changed;\n        do {\n            changed = false;\n            for (var i = 0; i < hints.length; i++) {\n                var hint = hints.splice(i, 1)[0];\n                if (board.isSolvable(hints)) {\n                    changed = true;\n                    break;\n                }\n                else\n                    hints.splice(i, 0, hint);\n            }\n        } while (changed);\n        console.debug(\"After pruneHints: \" + hints.length);\n        return hints;\n    };\n    Puzzle.generateExtraHints = function (options, board, hints) {\n        hints = _.clone(hints);\n        var extraHints = Math.round((options.extraHintsPercent / 100) * hints.length);\n        console.debug(\"Adding extra hints: \" + extraHints);\n        for (var i = 0; i < extraHints; i++) {\n            var hint = Puzzle.hintFactory.random(board);\n            hints.push(hint);\n        }\n        return hints;\n    };\n    Puzzle.hintFactory = new RandomHint_1.RandomHintFactory();\n    return Puzzle;\n}());\nexports.Puzzle = Puzzle;\n\n\n/***/ }),\n\n/***/ \"iXl1\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d4.465fbcbda569f002956eff6dbc525fba.png\";\n\n/***/ }),\n\n/***/ \"kCQN\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./rain.0d05874e0f2cdd3a51985dd895f01fd0.png\";\n\n/***/ }),\n\n/***/ \"kbZK\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c1.857515213e12574db6ea3b7694015dd8.png\";\n\n/***/ }),\n\n/***/ \"lgdU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e6.f63290d00dca1fb50b97a7749bbc6fdc.png\";\n\n/***/ }),\n\n/***/ \"mGEC\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c4.83eef6ef77656276b988cffc6dd1b2dd.png\";\n\n/***/ }),\n\n/***/ \"mPGt\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b6.29228909139aed0e29c1e0d248fdc8b1.png\";\n\n/***/ }),\n\n/***/ \"mcFw\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-c3.8ecb4d1c7b95cff1b3f7a4e3e0342ad0.png\";\n\n/***/ }),\n\n/***/ \"nVYH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a2.e58c4d7d4ca282f01f1842de56fcc204.png\";\n\n/***/ }),\n\n/***/ \"oD70\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d2.9a9e2546ef2de2aed7b9cafca1e574a4.png\";\n\n/***/ }),\n\n/***/ \"oJmq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c6.b70b863014dd77f1444a4f5dcfaf937d.png\";\n\n/***/ }),\n\n/***/ \"oXIE\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c2.c8ea002cb52b8a2bb2391a8a599a1be2.png\";\n\n/***/ }),\n\n/***/ \"ouBu\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar preact_1 = __webpack_require__(\"rMlB\");\n__webpack_require__(\"xToJ\");\nvar BirthdayComponent = (function (_super) {\n    __extends(BirthdayComponent, _super);\n    function BirthdayComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BirthdayComponent.prototype.render = function (props) {\n        var now = new Date();\n        if (now.getMonth() + 1 == props.month && now.getDate() == props.day) {\n            return (preact_1.h(\"div\", { class: \"birthday\" },\n                preact_1.h(\"p\", null,\n                    \"Happy birthday, \",\n                    props.name,\n                    \"!\")));\n        }\n        else\n            return null;\n    };\n    return BirthdayComponent;\n}(preact_1.Component));\nexports.BirthdayComponent = BirthdayComponent;\n\n\n/***/ }),\n\n/***/ \"pJA7\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"pqg3\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a6.b74ac4a06b9b99cdebadc188e6f2eba7.png\";\n\n/***/ }),\n\n/***/ \"q9gS\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-d6.3707649a76849867b0067b33cee2f45a.png\";\n\n/***/ }),\n\n/***/ \"qMEF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar preact_1 = __webpack_require__(\"rMlB\");\nvar AppComponent_1 = __webpack_require__(\"SLpm\");\nvar OfflinePluginRuntime = __webpack_require__(\"t8iB\");\nconsole.log(\"-------\");\nOfflinePluginRuntime.install();\n// import \"preact/devtools\";\npreact_1.render(preact_1.h(AppComponent_1.AppComponent, null), document.body);\n/*var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;\nalert(width);*/\n/*\nlet listener = new VisibilityChangeListener(visible => console.log(`Visibility ${visible} ${document.visibilityState}`));\nlistener.add();*/\n\n\n/***/ }),\n\n/***/ \"qpPT\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a1.7ec6461d1c92b8cd2af53465e9b35cfc.png\";\n\n/***/ }),\n\n/***/ \"qwlA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/hint-tile.fef2ac154678271b433d05cac0e1e766.png\";\n\n/***/ }),\n\n/***/ \"romA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-b4.5539a0f576453510700b7e1ac8ac62c2.png\";\n\n/***/ }),\n\n/***/ \"rxGk\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-c5.649a708fdfe3823d8ad66395bf760461.png\";\n\n/***/ }),\n\n/***/ \"t+UZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f5.23ad85abc671b650c4fab087327177b8.png\";\n\n/***/ }),\n\n/***/ \"uLm8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-e2.2a6f0dc9158e2248beb5da27abf58387.png\";\n\n/***/ }),\n\n/***/ \"uVvn\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a5.a7e023b76efb421fce243698ec5c1172.png\";\n\n/***/ }),\n\n/***/ \"vO/K\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = __webpack_require__(\"M4fF\");\nvar db_1 = __webpack_require__(\"ATbC\");\nvar Times;\n(function (Times) {\n    function addItem(timesItem) {\n        return db_1.db.times.add(timesItem);\n    }\n    Times.addItem = addItem;\n    function add(options, time, name) {\n        var timesItem = __assign({}, options, { time: time, date: new Date(), name: name });\n        return addItem(timesItem);\n    }\n    Times.add = add;\n    function getSortedTimes(options) {\n        return db_1.db.times.where(__assign({}, options)).sortBy(\"time\");\n    }\n    Times.getSortedTimes = getSortedTimes;\n    function getTop10(options) {\n        return getSortedTimes(options).then(function (timesItems) {\n            return _.take(timesItems, 10);\n        });\n    }\n    Times.getTop10 = getTop10;\n    function isInTop10(options, time) {\n        return getSortedTimes(options).then(function (timesItems) {\n            if (timesItems.length < 10 || time < timesItems[10 - 1].time)\n                return _.sortedIndexBy(timesItems.slice(0, 10), { time: time }, function (timesItem) { return timesItem.time; });\n            else\n                return false;\n        });\n    }\n    Times.isInTop10 = isInTop10;\n    function hasTimes(options) {\n        return db_1.db.times.where(__assign({}, options)).count(function (count) { return count > 0; });\n    }\n    Times.hasTimes = hasTimes;\n})(Times = exports.Times || (exports.Times = {}));\n\n\n/***/ }),\n\n/***/ \"voAe\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f1.cf4eb2f72546034b67c7e387426aab1f.png\";\n\n/***/ }),\n\n/***/ \"w35o\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-b2.f088bd5349ae94f3aecf2256a2a41f9a.png\";\n\n/***/ }),\n\n/***/ \"x5BK\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-a3.b5693ec5ce8e44c2ab79da7d22e419c0.png\";\n\n/***/ }),\n\n/***/ \"xDob\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-d2.f554d768eed7fb9c2ac1361d80a08e82.png\";\n\n/***/ }),\n\n/***/ \"xFS2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f2.1214cc29cc865a50e028b884cf34173d.png\";\n\n/***/ }),\n\n/***/ \"xToJ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"yFfv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f4.43276b459501e836f1928103bcbdc92c.png\";\n\n/***/ }),\n\n/***/ \"yFiT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VisibilityChangeListener = (function () {\n    function VisibilityChangeListener(callback) {\n        var _this = this;\n        this.callback = callback;\n        this.visible = true;\n        this.focused = function () {\n            // console.debug(`focused ${document.visibilityState}`);\n            if (!_this.visible)\n                _this.callback(_this.visible = true);\n        };\n        this.unfocused = function () {\n            // console.debug(`unfocused ${document.visibilityState}`);\n            if (_this.visible)\n                _this.callback(_this.visible = false);\n        };\n    }\n    VisibilityChangeListener.prototype.add = function () {\n        // https://stackoverflow.com/a/38710376\n        var _this = this;\n        // Standards:\n        if ('hidden' in document) {\n            document.addEventListener('visibilitychange', function () { (document.hidden ? _this.unfocused : _this.focused)(); });\n        }\n        if ('mozHidden' in document) {\n            document.addEventListener('mozvisibilitychange', function () { (document.mozHidden ? _this.unfocused : _this.focused)(); });\n        }\n        if ('webkitHidden' in document) {\n            document.addEventListener('webkitvisibilitychange', function () { (document.webkitHidden ? _this.unfocused : _this.focused)(); });\n        }\n        if ('msHidden' in document) {\n            document.addEventListener('msvisibilitychange', function () { (document.msHidden ? _this.unfocused : _this.focused)(); });\n        }\n        // IE 9 and lower:\n        if ('onfocusin' in document) {\n            document.onfocusin = this.focused;\n            document.onfocusout = this.unfocused;\n        }\n        // All others:\n        window.onpageshow = window.onfocus = this.focused;\n        window.onpagehide = window.onblur = this.unfocused;\n        // TODO: initial visibility check like https://stackoverflow.com/a/1060034\n    };\n    VisibilityChangeListener.prototype.remove = function () {\n        // TODO: remove listeners\n    };\n    return VisibilityChangeListener;\n}());\nexports.VisibilityChangeListener = VisibilityChangeListener;\n\n\n/***/ }),\n\n/***/ \"yNUn\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/small/small-f4.fa8fa0e7c09873297312ed5082eac413.png\";\n\n/***/ }),\n\n/***/ \"ytF8\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-a4.30bcbdd3b26849030d9f7756c19d6a98.png\";\n\n/***/ }),\n\n/***/ \"zU+P\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"icons/original/large/large-f2.ebac4e572194ab532410773494ed9c4e.png\";\n\n/***/ }),\n\n/***/ \"ziB5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = __webpack_require__(\"HW6M\");\nvar _ = __webpack_require__(\"M4fF\");\nvar preact_1 = __webpack_require__(\"rMlB\");\nvar LongTouchContextMenuHandler_1 = __webpack_require__(\"euc6\");\nvar IconComponents_1 = __webpack_require__(\"NsAh\");\n__webpack_require__(\"pJA7\");\nvar SingleCellComponent = (function (_super) {\n    __extends(SingleCellComponent, _super);\n    function SingleCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SingleCellComponent.prototype.render = function (props) {\n        return (preact_1.h(\"div\", { class: \"cell-single\" },\n            preact_1.h(IconComponents_1.LargeVariantIconComponent, { row: props.row, variant: props.variant })));\n    };\n    return SingleCellComponent;\n}(preact_1.Component));\nvar VariantVariantMultiCellComponent = (function (_super) {\n    __extends(VariantVariantMultiCellComponent, _super);\n    function VariantVariantMultiCellComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.contextMenuHandler = new LongTouchContextMenuHandler_1.LongTouchContextMenuHandler(function () { return _this.remove(); });\n        _this.onClick = function (e) {\n            _this.set();\n        };\n        return _this;\n    }\n    VariantVariantMultiCellComponent.prototype.set = function () {\n        this.props.board.set(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    };\n    VariantVariantMultiCellComponent.prototype.remove = function () {\n        this.props.board.remove(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    };\n    VariantVariantMultiCellComponent.prototype.render = function (props) {\n        return (preact_1.h(\"div\", __assign({ class: \"cell-multi-variant\", onClick: this.onClick }, this.contextMenuHandler),\n            preact_1.h(IconComponents_1.SmallVariantIconComponent, { row: props.row, variant: props.variant })));\n    };\n    return VariantVariantMultiCellComponent;\n}(preact_1.Component));\nvar EmptyVariantMultiCellComponent = (function (_super) {\n    __extends(EmptyVariantMultiCellComponent, _super);\n    function EmptyVariantMultiCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmptyVariantMultiCellComponent.prototype.render = function (props) {\n        return (preact_1.h(\"div\", { class: \"cell-multi-empty\" }));\n    };\n    return EmptyVariantMultiCellComponent;\n}(preact_1.Component));\nvar VariantMultiCellComponent = (function (_super) {\n    __extends(VariantMultiCellComponent, _super);\n    function VariantMultiCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VariantMultiCellComponent.prototype.render = function (props) {\n        if (props.variant < props.board.variants &&\n            props.board.isPossible(props.row, props.col, props.variant))\n            return preact_1.h(VariantVariantMultiCellComponent, __assign({}, props));\n        else\n            return preact_1.h(EmptyVariantMultiCellComponent, __assign({}, props));\n    };\n    return VariantMultiCellComponent;\n}(preact_1.Component));\nvar MultiCellComponent = (function (_super) {\n    __extends(MultiCellComponent, _super);\n    function MultiCellComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MultiCellComponent.prototype.render = function (props) {\n        var variantCols = Math.ceil(Math.sqrt(props.board.variants));\n        var variantRows = Math.ceil(props.board.variants / variantCols);\n        return (preact_1.h(\"table\", { class: \"cell-multi\" }, _.times(variantRows, function (variantRow) {\n            return preact_1.h(\"tr\", null, _.times(variantCols, function (variantCol) {\n                return preact_1.h(\"td\", null,\n                    preact_1.h(VariantMultiCellComponent, __assign({}, props, { variant: variantRow * variantCols + variantCol })));\n            }));\n        })));\n    };\n    return MultiCellComponent;\n}(preact_1.Component));\nvar CellComponent = (function (_super) {\n    __extends(CellComponent, _super);\n    function CellComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onContextMenu = function (e) {\n            e.preventDefault();\n        };\n        return _this;\n    }\n    CellComponent.prototype.render = function (props) {\n        if (props.showBoard) {\n            var correct = props.board.isSingle(props.row, props.col) && props.board.getSingle(props.row, props.col) == props.showBoard.get(props.row, props.col);\n            return (preact_1.h(\"td\", { class: classNames({\n                    \"cell-correct\": correct,\n                    \"cell-incorrect\": !correct\n                }) },\n                preact_1.h(\"div\", { class: \"cell\", onContextMenu: this.onContextMenu },\n                    preact_1.h(SingleCellComponent, __assign({}, props, { variant: props.showBoard.get(props.row, props.col) })))));\n        }\n        else {\n            return (preact_1.h(\"td\", null,\n                preact_1.h(\"div\", { class: \"cell\", onContextMenu: this.onContextMenu }, props.board.isSingle(props.row, props.col) ?\n                    preact_1.h(SingleCellComponent, __assign({}, props, { variant: props.board.getSingle(props.row, props.col) })) :\n                    preact_1.h(MultiCellComponent, __assign({}, props)))));\n        }\n    };\n    return CellComponent;\n}(preact_1.Component));\nvar RowComponent = (function (_super) {\n    __extends(RowComponent, _super);\n    function RowComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refresh = function () {\n            _this.forceUpdate();\n            _this.props.refresh();\n        };\n        return _this;\n    }\n    RowComponent.prototype.render = function (props) {\n        var _this = this;\n        return (preact_1.h(\"tr\", null, _.times(props.board.cols, function (col) {\n            return preact_1.h(CellComponent, __assign({}, props, { col: col, refresh: _this.refresh }));\n        })));\n    };\n    return RowComponent;\n}(preact_1.Component));\nvar MultiBoardComponent = (function (_super) {\n    __extends(MultiBoardComponent, _super);\n    function MultiBoardComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MultiBoardComponent.prototype.render = function (props) {\n        var board = props.board;\n        var data = {\n            \"data-rows\": board.rows,\n            \"data-cols\": board.cols\n        };\n        return (preact_1.h(\"div\", __assign({ class: \"multiboard-outer\" }, data),\n            preact_1.h(\"table\", __assign({ class: \"multiboard\" }, data), _.times(board.rows, function (row) {\n                return preact_1.h(RowComponent, __assign({}, props, { row: row }));\n            }))));\n    };\n    return MultiBoardComponent;\n}(preact_1.Component));\nexports.MultiBoardComponent = MultiBoardComponent;\n\n\n/***/ })\n\n},[\"qMEF\"]);\n\n\n// WEBPACK FOOTER //\n// app.ae37ef8517d8a61994916bad18d60587.js","module.exports = __webpack_public_path__ + \"icons/original/large/large-c1.cf85c5eb9acce5553a85122616f8f7f3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c1.png\n// module id = +bsQ\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b3.f56ee08f09215c9501370c94a97d5da1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b3.png\n// module id = /BPU\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d5.93f0c9556e78c0b2b5ab5a7bb293e22c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d5.png\n// module id = 1Tjk\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class AdjacentHint implements Hint {\n    constructor(public row1: number, public variant1: number, public row2: number, public variant2: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        let applyToCol = (col: number, thisRow: number, thisVariant: number, adjRow: number, adjVariant: number) => {\n            const hasLeft = col >= 1 ? board.isPossible(adjRow, col - 1, adjVariant) : false;\n            const hasRight = col < board.cols - 1 ? board.isPossible(adjRow, col + 1, adjVariant) : false;\n\n            if (!hasLeft && !hasRight && board.isPossible(thisRow, col, thisVariant)) {\n                board.remove(thisRow, col, thisVariant);\n                changed = true;\n            }\n        };\n\n        for (let col = 0; col < board.cols; col++) {\n            applyToCol(col, this.row1, this.variant1, this.row2, this.variant2);\n            applyToCol(col, this.row2, this.variant2, this.row1, this.variant1);\n        }\n\n        if (changed)\n            this.applyTo(board);\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Horizontal;\n    }\n}\n\nexport class AdjacentHintFactory implements HintFactory {\n    random(board: SingleBoard): AdjacentHint {\n        let row1 = _.random(0, board.rows - 1);\n        let col1 = _.random(0, board.cols - 1);\n        let row2 = _.random(0, board.rows - 1);\n        let colDelta;\n        if (col1 == 0)\n            colDelta = 1;\n        else if (col1 == board.cols - 1)\n            colDelta = -1;\n        else\n            colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        let col2 = col1 + colDelta;\n        return new AdjacentHint(row1, board.get(row1, col1), row2, board.get(row2, col2));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/AdjacentHint.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-c6.3a75bba0385dcc7f6e7074d7873ff81e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c6.png\n// module id = 20Ho\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b1.376d5df50dd14a86919d705382c89060.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b1.png\n// module id = 27d+\n// module chunks = app","import * as _ from \"lodash\";\n\nexport class Timer {\n    private totalTime: number;\n    private startTime: number | null;\n\n    constructor() {\n        this.reset();\n    }\n\n    start(): void {\n        if (this.startTime === null)\n            this.startTime = _.now();\n    }\n\n    pause(): void {\n        let runningTime = this.getRunningTime();\n        if (runningTime !== null) {\n            this.totalTime += runningTime;\n            this.startTime = null;\n        }\n    }\n\n    getRunningTime(): number | null {\n        return this.startTime !== null ? _.now() - this.startTime : null;\n    }\n\n    getTotalTime(): number {\n        return this.totalTime + (this.getRunningTime() || 0);\n    }\n\n    reset(): void {\n        this.totalTime = 0;\n        this.startTime = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Timer.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-a3.2f39989763b3636f69b02ba2b53fbe44.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a3.png\n// module id = 4I4A\n// module chunks = app","import * as _ from \"lodash\";\n\nexport function formatDuration(diffMs: number) {\n    let diffSec = diffMs / 1000;\n    let sec = Math.floor(diffSec) % 60;\n    let min = Math.floor(diffSec / 60) % 60;\n    let hr = Math.floor(diffSec / 60 / 60);\n\n    return `${_.padStart(hr.toString(), 2, \"0\")}:${_.padStart(min.toString(), 2, \"0\")}:${_.padStart(sec.toString(), 2, \"0\")}`;\n\n    /*let ms = Math.floor(diffMs % 1000);\n    return `${_.padStart(hr.toString(), 2, \"0\")}:${_.padStart(min.toString(), 2, \"0\")}:${_.padStart(sec.toString(), 2, \"0\")}.${_.padStart(ms.toString(), 3, \"0\")}`;*/\n}\n\n\n// WEBPACK FOOTER //\n// ./src/time.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-b2.1e0362bc91fe36a746482f52eea6cd78.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b2.png\n// module id = 6b+j\n// module chunks = app","var map = {\n\t\"./icons/original/hint-adjacent.png\": \"Qj03\",\n\t\"./icons/original/hint-between.png\": \"IJZH\",\n\t\"./icons/original/hint-direction.png\": \"Op0r\",\n\t\"./icons/original/hint-tile.png\": \"qwlA\",\n\t\"./icons/original/large/large-a1.png\": \"QP0S\",\n\t\"./icons/original/large/large-a2.png\": \"NhLW\",\n\t\"./icons/original/large/large-a3.png\": \"4I4A\",\n\t\"./icons/original/large/large-a4.png\": \"ytF8\",\n\t\"./icons/original/large/large-a5.png\": \"TeOI\",\n\t\"./icons/original/large/large-a6.png\": \"N7YA\",\n\t\"./icons/original/large/large-b1.png\": \"UBU4\",\n\t\"./icons/original/large/large-b2.png\": \"w35o\",\n\t\"./icons/original/large/large-b3.png\": \"/BPU\",\n\t\"./icons/original/large/large-b4.png\": \"BRDO\",\n\t\"./icons/original/large/large-b5.png\": \"YKaq\",\n\t\"./icons/original/large/large-b6.png\": \"mPGt\",\n\t\"./icons/original/large/large-c1.png\": \"+bsQ\",\n\t\"./icons/original/large/large-c2.png\": \"oXIE\",\n\t\"./icons/original/large/large-c3.png\": \"XjqR\",\n\t\"./icons/original/large/large-c4.png\": \"mGEC\",\n\t\"./icons/original/large/large-c5.png\": \"rxGk\",\n\t\"./icons/original/large/large-c6.png\": \"oJmq\",\n\t\"./icons/original/large/large-d1.png\": \"cgSM\",\n\t\"./icons/original/large/large-d2.png\": \"oD70\",\n\t\"./icons/original/large/large-d3.png\": \"PWPq\",\n\t\"./icons/original/large/large-d4.png\": \"D3DT\",\n\t\"./icons/original/large/large-d5.png\": \"1Tjk\",\n\t\"./icons/original/large/large-d6.png\": \"q9gS\",\n\t\"./icons/original/large/large-e1.png\": \"ZvN9\",\n\t\"./icons/original/large/large-e2.png\": \"dcOB\",\n\t\"./icons/original/large/large-e3.png\": \"91Mv\",\n\t\"./icons/original/large/large-e4.png\": \"SAo3\",\n\t\"./icons/original/large/large-e5.png\": \"hli+\",\n\t\"./icons/original/large/large-e6.png\": \"YFuY\",\n\t\"./icons/original/large/large-f1.png\": \"ZNit\",\n\t\"./icons/original/large/large-f2.png\": \"zU+P\",\n\t\"./icons/original/large/large-f3.png\": \"gVWB\",\n\t\"./icons/original/large/large-f4.png\": \"yFfv\",\n\t\"./icons/original/large/large-f5.png\": \"t+UZ\",\n\t\"./icons/original/large/large-f6.png\": \"dSmd\",\n\t\"./icons/original/small/small-a1.png\": \"qpPT\",\n\t\"./icons/original/small/small-a2.png\": \"nVYH\",\n\t\"./icons/original/small/small-a3.png\": \"x5BK\",\n\t\"./icons/original/small/small-a4.png\": \"Htyr\",\n\t\"./icons/original/small/small-a5.png\": \"uVvn\",\n\t\"./icons/original/small/small-a6.png\": \"pqg3\",\n\t\"./icons/original/small/small-b1.png\": \"27d+\",\n\t\"./icons/original/small/small-b2.png\": \"6b+j\",\n\t\"./icons/original/small/small-b3.png\": \"RUP8\",\n\t\"./icons/original/small/small-b4.png\": \"romA\",\n\t\"./icons/original/small/small-b5.png\": \"fZOX\",\n\t\"./icons/original/small/small-b6.png\": \"Z31m\",\n\t\"./icons/original/small/small-c1.png\": \"kbZK\",\n\t\"./icons/original/small/small-c2.png\": \"gBE2\",\n\t\"./icons/original/small/small-c3.png\": \"mcFw\",\n\t\"./icons/original/small/small-c4.png\": \"90E6\",\n\t\"./icons/original/small/small-c5.png\": \"AQov\",\n\t\"./icons/original/small/small-c6.png\": \"20Ho\",\n\t\"./icons/original/small/small-d1.png\": \"C7Cf\",\n\t\"./icons/original/small/small-d2.png\": \"xDob\",\n\t\"./icons/original/small/small-d3.png\": \"Dvz/\",\n\t\"./icons/original/small/small-d4.png\": \"iXl1\",\n\t\"./icons/original/small/small-d5.png\": \"d6hy\",\n\t\"./icons/original/small/small-d6.png\": \"hFVX\",\n\t\"./icons/original/small/small-e1.png\": \"SCQN\",\n\t\"./icons/original/small/small-e2.png\": \"uLm8\",\n\t\"./icons/original/small/small-e3.png\": \"E9CV\",\n\t\"./icons/original/small/small-e4.png\": \"XnXw\",\n\t\"./icons/original/small/small-e5.png\": \"P2+R\",\n\t\"./icons/original/small/small-e6.png\": \"lgdU\",\n\t\"./icons/original/small/small-f1.png\": \"voAe\",\n\t\"./icons/original/small/small-f2.png\": \"xFS2\",\n\t\"./icons/original/small/small-f3.png\": \"Hoba\",\n\t\"./icons/original/small/small-f4.png\": \"yNUn\",\n\t\"./icons/original/small/small-f5.png\": \"MjYr\",\n\t\"./icons/original/small/small-f6.png\": \"QfaF\",\n\t\"./icons/original/tile.png\": \"FslU\",\n\t\"./rain-light.png\": \"8OvN\",\n\t\"./rain.png\": \"kCQN\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"7PiI\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web \\.png$\n// module id = 7PiI\n// module chunks = app","import Dexie from \"dexie\";\nimport {PuzzleOptions} from \"../puzzle/Puzzle\";\nimport {ConfigItem} from \"./Config\";\nimport {CountsItem} from \"./Counts\";\nimport {TimesItem} from \"./Times\";\n\nexport class EinsteinDatabase extends Dexie {\n    times: Dexie.Table<TimesItem, any>;\n    config: Dexie.Table<ConfigItem, string>;\n    counts: Dexie.Table<CountsItem, PuzzleOptions>;\n\n    constructor() {\n        super(\"EinsteinDatabase\");\n\n        this.version(1).stores({\n            times: \"++, [rows+cols+extraHintsPercent]\"\n        });\n\n        this.version(2).stores({\n            config: \"key\"\n        });\n\n        this.version(3).stores({\n            counts: \"[rows+cols+extraHintsPercent]\"\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/storage/EinsteinDatabase.ts","import * as _ from \"lodash\";\nimport {PuzzleOptions} from \"../puzzle/Puzzle\";\nimport {db} from \"./db\";\n\ninterface Counts {\n    solved: number;\n    solvedCheated: number;\n    over: number;\n}\n\nexport interface CountsItem extends PuzzleOptions, Counts {\n\n}\n\nexport namespace Counts {\n    export function get(options: PuzzleOptions): Promise<CountsItem> {\n        return db.counts.get(options, countsItem => {\n            if (countsItem === undefined) {\n                let defaultItem: CountsItem = {\n                    ...options,\n                    solved: 0,\n                    solvedCheated: 0,\n                    over: 0\n                }; // extracted to have explicit type annotation\n                return defaultItem;\n            }\n            else\n                return countsItem;\n        });\n    }\n\n    export function increase(options: PuzzleOptions, count: keyof Counts): Promise<PuzzleOptions> {\n        return db.transaction(\"rw\", db.counts, () =>\n            get(options).then(countsItem => {\n                let newCountsItem: CountsItem = _.merge(countsItem, {\n                    [count]: countsItem[count] + 1\n                });\n                return db.counts.put(newCountsItem);\n            })\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/storage/Counts.ts","module.exports = {\"name\":\"einstein\",\"version\":\"1.4.0\",\"description\":\"Einstein Puzzle 2.0 by Flowix Games ported to the web\",\"author\":\"Simmo Saan\",\"keywords\":[\"typescript\",\"webpack\",\"preact\",\"lodash\",\"game\",\"puzzle-game\",\"web\"],\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/sim642/einstein-js.git\"},\"bugs\":{\"url\":\"https://github.com/sim642/einstein-js/issues\"},\"homepage\":\"http://einstein.sim642.eu\",\"scripts\":{\"build:dev\":\"webpack --env=dev --progress --profile --colors\",\"build:prod\":\"webpack --env=prod --progress --profile --colors\",\"coverage\":\"nyc --reporter=lcov --reporter=text npm test\",\"deploy\":\"git push -f origin `git subtree split --prefix dist 2> /dev/null`:gh-pages\",\"test\":\"mocha-webpack\",\"watch:dev\":\"webpack --env=dev --progress --profile --colors --watch\",\"watch:test\":\"mocha-webpack --watch\"},\"dependencies\":{\"classnames\":\"^2.2.5\",\"dexie\":\"^2.0.1\",\"lodash\":\"^4.17.4\",\"preact\":\"^8.2.1\"},\"devDependencies\":{\"@types/chai\":\"^4.0.1\",\"@types/lodash\":\"^4.14.66\",\"@types/mocha\":\"^2.2.41\",\"@types/webpack-env\":\"^1.13.0\",\"autoprefixer\":\"^7.1.2\",\"chai\":\"^4.1.0\",\"chi-squared\":\"^1.1.0\",\"chunk-manifest-webpack-plugin\":\"1.1.0\",\"clean-webpack-plugin\":\"^0.1.16\",\"copy-webpack-plugin\":\"^4.0.1\",\"css-loader\":\"^0.28.4\",\"css-mqpacker\":\"^6.0.1\",\"extract-text-webpack-plugin\":\"^3.0.0\",\"file-loader\":\"^0.11.2\",\"html-webpack-plugin\":\"^2.29.0\",\"istanbul-instrumenter-loader\":\"^3.0.0\",\"less\":\"^2.7.2\",\"less-loader\":\"^4.0.4\",\"mocha\":\"^3.4.2\",\"mocha-webpack\":\"^1.0.0-rc.0\",\"nyc\":\"^11.0.3\",\"offline-plugin\":\"^4.8.1\",\"postcss-loader\":\"^2.0.6\",\"style-loader\":\"^0.18.2\",\"ts-loader\":\"^2.2.0\",\"typescript\":\"^2.4.2\",\"webpack\":\"^3.0.0\",\"webpack-chunk-hash\":\"^0.4.0\",\"webpack-merge\":\"^4.1.0\",\"webpack-node-externals\":\"^1.6.0\"},\"nyc\":{\"extension\":[\".tsx\",\".ts\",\".jsx\"],\"instrument\":false,\"sourceMap\":false}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 7YgM\n// module chunks = app","module.exports = __webpack_public_path__ + \"./rain-light.272fb79b7c99a89b9891f2d596aabecc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/rain-light.png\n// module id = 8OvN\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c4.bc367c0d574d1037f7983b61b94776bf.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c4.png\n// module id = 90E6\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e3.24b0bdf46ccfa5fae6d324e4b08c9a31.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e3.png\n// module id = 91Mv\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c5.9254afe6e7940800db50da758cb752df.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c5.png\n// module id = AQov\n// module chunks = app","import {EinsteinDatabase} from \"./EinsteinDatabase\";\n\nexport let db = new EinsteinDatabase();\n\n\n// WEBPACK FOOTER //\n// ./src/storage/db.ts","import {Listener} from \"./Listener\";\n\nexport class MessageUnloadListener implements Listener {\n    constructor(public callback: () => string | null) {\n\n    }\n\n    private onBeforeUnload = (e) => {\n        let message = this.callback();\n        if (message !== null)\n            return e.returnValue = message;\n        else\n            return undefined;\n    };\n\n    add(): void {\n        window.addEventListener(\"beforeunload\", this.onBeforeUnload);\n    }\n\n    remove(): void {\n        window.removeEventListener(\"beforeunload\", this.onBeforeUnload);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/helper/MessageUnloadListener.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-b4.cde289fd73095da992ec76470fcaf001.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b4.png\n// module id = BRDO\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-d1.4623124355805891864ed2e7f2bec09a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d1.png\n// module id = C7Cf\n// module chunks = app","import * as _ from \"lodash\";\nimport {Hint} from \"../hint/Hint\";\nimport {Board, BoardOptions} from \"./Board\";\nimport {SingleBoard} from \"./SingleBoard\";\n\ntype Variants = boolean[];\ntype NumberVariants = number[];\n\nexport class MultiBoard extends Board<Variants> {\n    static full(options: BoardOptions): MultiBoard {\n        return new MultiBoard(_.times(options.rows, row => _.times(options.cols, col => _.times(options.cols, _.constant(true)))), options);\n    }\n\n    static numberVariants(table: NumberVariants[][], options?: BoardOptions): MultiBoard {\n        return new MultiBoard(_.map(table, rowCells => _.map(rowCells, cell => {\n            let variants = _.times(rowCells.length, _.constant(false));\n            for (let numberVariant of cell)\n                variants[numberVariant] = true;\n            return variants;\n        })), options);\n    }\n\n    remove(row: number, col: number, variant: number): void {\n        if (this.get(row, col)[variant]) {\n            this.get(row, col)[variant] = false;\n            this.pruneSingles(row);\n        }\n    }\n\n    set(row: number, col: number, variant: number): void {\n        for (let variant = 0; variant < this.variants; variant++)\n            this.get(row, col)[variant] = false;\n        for (let col = 0; col < this.cols; col++)\n            this.get(row, col)[variant] = false;\n        this.get(row, col)[variant] = true;\n        this.pruneSingles(row);\n    }\n\n    isPossible(row: number, col: number, variant: number): boolean {\n        return this.get(row, col)[variant];\n    }\n\n    count(row: number, col: number): number {\n        return _.sumBy(this.get(row, col), variant => variant ? 1 : 0);\n    }\n\n    isSingle(row: number, col: number): boolean {\n        return this.count(row, col) == 1;\n    }\n\n    getSingle(row: number, col: number): number {\n        return _.findIndex(this.get(row, col));\n    }\n\n    private pruneSingles(row: number): void {\n        let colCnt = _.times(this.cols, _.constant(0));\n        let variantCnt = _.times(this.variants, _.constant(0));\n        let colVariant = _.times(this.cols, _.constant(0));\n        let variantCol = _.times(this.variants, _.constant(0));\n\n        for (let col = 0; col < this.cols; col++) {\n            for (let variant = 0; variant < this.variants; variant++) {\n                if (this.get(row, col)[variant]) {\n                    colCnt[col]++;\n                    variantCnt[variant]++;\n                    colVariant[col] = variant;\n                    variantCol[variant] = col;\n                }\n            }\n        }\n\n        let changed = false;\n\n        for (let col = 0; col < this.cols; col++) {\n            if (colCnt[col] == 1 && variantCnt[colVariant[col]] != 1) {\n                const variant = colVariant[col];\n                for (let col2 = 0; col2 < this.cols; col2++) {\n                    if (col2 != col)\n                        this.get(row, col2)[variant] = false;\n                }\n                changed = true;\n            }\n        }\n\n        for (let variant = 0; variant < this.variants; variant++) {\n            if (variantCnt[variant] == 1 && colCnt[variantCol[variant]] != 1) {\n                const col = variantCol[variant];\n                for (let variant2 = 0; variant2 < this.variants; variant2++) {\n                    if (variant2 != variant)\n                        this.get(row, col)[variant2] = false;\n                }\n                changed = true;\n            }\n        }\n\n        if (changed)\n            this.pruneSingles(row);\n    }\n\n    applyHint(hint: Hint): boolean {\n        return hint.applyTo(this);\n    }\n\n    applyHints(hints: Hint[]): boolean {\n        let changed = false;\n        let changed2: boolean;\n        do {\n            changed2 = false;\n            for (let hint of hints) {\n                if (this.applyHint(hint))\n                    changed = changed2 = true;\n            }\n        } while (changed2);\n        return changed;\n    }\n\n    applySingleHint(hints: Hint[]): boolean {\n        for (let hint of hints) {\n            if (this.applyHint(hint))\n                return true;\n        }\n        return false;\n    }\n\n    isSolved(singleBoard: SingleBoard): boolean {\n        return this.isSingleBoard() && this.contains(singleBoard);\n    }\n\n    isSingleBoard(): boolean {\n        for (let row = 0; row < this.rows; row++) {\n            for (let col = 0; col < this.cols; col++) {\n                if (!this.isSingle(row, col))\n                    return false;\n            }\n        }\n        return true;\n    }\n\n    contains(singleBoard: SingleBoard): boolean {\n        for (let row = 0; row < this.rows; row++) {\n            for (let col = 0; col < this.cols; col++) {\n                if (!this.isPossible(row, col, singleBoard.get(row, col)))\n                    return false;\n            }\n        }\n        return true;\n    }\n\n    applySingleBoard(singleBoard: SingleBoard): boolean {\n        if (this.isSolved(singleBoard))\n            return false;\n        else {\n            for (let row = 0; row < this.rows; row++) {\n                for (let col = 0; col < this.cols; col++) {\n                    let singleVariant = singleBoard.get(row, col);\n                    for (let variant = 0; variant < this.variants; variant++)\n                        this.get(row, col)[variant] = variant == singleVariant;\n                }\n            }\n            return true;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/board/MultiBoard.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-d4.08e21c2cf4f787a7913cc84db58777ec.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d4.png\n// module id = D3DT\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class BetweenHint implements Hint {\n    constructor(public row1: number, public variant1: number, public rowMiddle: number, public variantMiddle: number, public row2: number, public variant2: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        if (board.isPossible(this.rowMiddle, 0, this.variantMiddle)) {\n            board.remove(this.rowMiddle, 0, this.variantMiddle);\n            changed = true;\n        }\n\n        if (board.isPossible(this.rowMiddle, board.cols - 1, this.variantMiddle)) {\n            board.remove(this.rowMiddle, board.cols - 1, this.variantMiddle);\n            changed = true;\n        }\n\n        let changed2;\n        do {\n            changed2 = false;\n\n            for (let col = 1; col < board.cols - 1; col++) {\n                if (board.isPossible(this.rowMiddle, col, this.variantMiddle) &&\n                    !(board.isPossible(this.row1, col - 1, this.variant1) && board.isPossible(this.row2, col + 1, this.variant2) ||\n                      board.isPossible(this.row2, col - 1, this.variant2) && board.isPossible(this.row1, col + 1, this.variant1))) {\n                    board.remove(this.rowMiddle, col, this.variantMiddle);\n                    changed2 = true;\n                }\n            }\n\n            for (let col = 0; col < board.cols; col++) {\n                if (board.isPossible(this.row1, col, this.variant1)) {\n                    const leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row2, col - 2, this.variant2) : false;\n                    const rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row2, col + 2, this.variant2) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row1, col, this.variant1);\n                        changed2 = true;\n                    }\n                }\n\n                if (board.isPossible(this.row2, col, this.variant2)) {\n                    const leftPossible = col >= 2 ? board.isPossible(this.rowMiddle, col - 1, this.variantMiddle) && board.isPossible(this.row1, col - 2, this.variant1) : false;\n                    const rightPossible = col < board.cols - 2 ? board.isPossible(this.rowMiddle, col + 1, this.variantMiddle) && board.isPossible(this.row1, col + 2, this.variant1) : false;\n                    if (!leftPossible && !rightPossible) {\n                        board.remove(this.row2, col, this.variant2);\n                        changed2 = true;\n                    }\n                }\n            }\n\n            if (changed2)\n                changed = true;\n        } while (changed2);\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Horizontal;\n    }\n}\n\nexport class BetweenHintFactory implements HintFactory {\n    random(board: SingleBoard): BetweenHint {\n        let row1 = _.random(0, board.rows - 1);\n        let rowMiddle = _.random(0, board.rows - 1);\n        let colMiddle = _.random(1, board.cols - 2);\n        let row2 = _.random(0, board.rows - 1);\n        let colDelta = _.random(0, 1) == 1 ? 1 : -1;\n        let col1 = colMiddle + colDelta;\n        let col2 = colMiddle - colDelta;\n        return new BetweenHint(row1, board.get(row1, col1), rowMiddle, board.get(rowMiddle, colMiddle), row2, board.get(row2, col2));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/BetweenHint.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-d3.402ab38c15f0b6e6d5bf8c21c1966cac.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d3.png\n// module id = Dvz/\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e3.158bc24007fc557a4756dcaaf638f81c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e3.png\n// module id = E9CV\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/tile.3631d1df5b147c00992f293ab1246a12.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/tile.png\n// module id = FslU\n// module chunks = app","import * as _ from \"lodash\";\nimport {PuzzleOptions} from \"../puzzle/Puzzle\";\nimport {db} from \"./db\";\n\nexport interface ConfigItem {\n    key: string;\n    value: any;\n}\n\nexport interface Config {\n    options?: PuzzleOptions;\n    name?: string;\n}\n\nexport namespace Config {\n    export function getKey<V>(key: string): Promise<V | undefined> {\n        return db.config.get(key, configItem => configItem !== undefined ? configItem.value : undefined);\n    }\n\n    export function get(): Promise<Config> {\n        return db.config.toArray(configItems =>\n            _.fromPairs(_.map(configItems, configItem => [configItem.key, configItem.value]))\n        );\n    }\n\n    export function setKey<V>(key: string, value: V): Promise<string> {\n        return db.config.put({\n            key: key,\n            value: value\n        });\n    }\n\n    export function set(newConfig: Partial<Config>): Promise<string> {\n        return db.config.bulkPut(_.map(_.toPairs(newConfig), pair => ({key: pair[0], value: pair[1]})));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/storage/Config.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-f3.5b7ae0c2d05c4e28148dc866a5094d67.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f3.png\n// module id = Hoba\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a4.0ef2cddeeac6822a557e42295feb1e3c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a4.png\n// module id = Htyr\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class OpenHint implements Hint {\n    constructor(public row: number, public col: number, public variant: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        if (!board.isSingle(this.row, this.col)) {\n            board.set(this.row, this.col, this.variant);\n            return true;\n        }\n        else\n            return false;\n    }\n\n    getType(): HintType {\n        return HintType.Start;\n    }\n}\n\nexport class OpenHintFactory implements HintFactory {\n    random(board: SingleBoard): OpenHint {\n        let row = _.random(0, board.rows - 1);\n        let col = _.random(0, board.cols - 1);\n        return new OpenHint(row, col, board.get(row, col));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/OpenHint.ts","module.exports = __webpack_public_path__ + \"icons/original/hint-between.4800cdbe6818a1ee91adb4003d1dc435.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-between.png\n// module id = IJZH\n// module chunks = app","import * as _ from \"lodash\";\nimport {Component, h} from \"preact\";\nimport \"./highscore.less\";\nimport {Times, TimesItem} from \"../storage/Times\";\nimport {PuzzleOptions} from \"../puzzle/Puzzle\";\nimport {formatDuration} from \"../time\";\nimport {formatOptions} from \"./PuzzleOptionsUtils\";\n\ninterface HighscoreItemProps {\n    i: number;\n    item: TimesItem;\n}\n\nclass HighscoreItemComponent extends Component<HighscoreItemProps, {}> {\n    render(props: HighscoreItemProps) {\n        return (\n            <tr>\n                <td class=\"highscore-i\">{`${props.i + 1}.`}</td>\n                <td class=\"highscore-name\" title={props.item.date.toString()}>{props.item.name}</td>\n                <td class=\"highscore-time\">{formatDuration(props.item.time)}</td>\n            </tr>\n        )\n    }\n}\n\nexport interface HighscoreProps {\n    options: PuzzleOptions;\n}\n\ninterface HighscoreState {\n    top10?: TimesItem[];\n}\n\nexport class HighscoreComponent extends Component<HighscoreProps, HighscoreState> {\n    constructor(props: HighscoreProps) {\n        super();\n        this.state = {\n            top10: undefined\n        };\n        this.fetchTop10(props);\n    }\n\n    componentWillReceiveProps(nextProps: HighscoreProps) {\n        if (this.props.options !== nextProps.options) {\n            this.fetchTop10(nextProps);\n        }\n    }\n\n    private fetchTop10(props: HighscoreProps) {\n        Times.getTop10(props.options).then(top10 => {\n            this.setState({\n                top10: top10\n            });\n        });\n    }\n\n    render(props: HighscoreProps, state: HighscoreState) {\n        return (\n            <div class=\"highscore-outer\">\n                <div class=\"highscore-title\">\n                    {formatOptions(props.options)}\n                </div>\n                <table class=\"highscore\">\n                    <thead>\n                        <tr>\n                            <th class=\"highscore-i\">#&nbsp;</th>\n                            <th class=\"highscore-name\">Name</th>\n                            <th class=\"highscore-time\">Time</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {\n                            state.top10 !== undefined && state.top10.length > 0 ?\n                                _.map(state.top10, (timesItem, i) =>\n                                    <HighscoreItemComponent i={i} item={timesItem}/>\n                                ) :\n                                <tr class=\"highscore-text\">\n                                    <td colSpan={3}>\n                                        {\n                                            state.top10 !== undefined ?\n                                                \"No times\" :\n                                                \"Loading...\"\n                                        }\n                                    </td>\n                                </tr>\n                        }\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/HighscoreComponent.tsx","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class SameColumnHint implements Hint {\n    constructor(public row1: number, public variant1: number, public row2: number, public variant2: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        for (let col = 0; col < board.cols; col++) {\n            const possible1 = board.isPossible(this.row1, col, this.variant1);\n            const possible2 = board.isPossible(this.row2, col, this.variant2);\n\n            if (!possible1 && possible2) {\n                board.remove(this.row2, col, this.variant2);\n                changed = true;\n            }\n            else if (possible1 && !possible2) {\n                board.remove(this.row1, col, this.variant1);\n                changed = true;\n            }\n        }\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Vertical;\n    }\n}\n\nexport class SameColumnHintFactory implements HintFactory {\n    random(board: SingleBoard): SameColumnHint {\n        let col = _.random(0, board.cols - 1);\n        let row1 = _.random(0, board.rows - 1);\n        let row2;\n        do {\n            row2 = _.random(0, board.rows - 1);\n        } while (row2 == row1);\n        return new SameColumnHint(row1, board.get(row1, col), row2, board.get(row2, col));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/SameColumnHint.ts","import * as _ from \"lodash\";\nimport {Hint} from \"../hint/Hint\";\nimport {Board, BoardOptions} from \"./Board\";\nimport {MultiBoard} from \"./MultiBoard\";\n\nexport class SingleBoard extends Board<number> {\n    static random(options: BoardOptions): SingleBoard {\n        return new SingleBoard(_.times(options.rows, row => _.shuffle(_.range(options.cols))), options);\n    }\n\n    getCol(row: number, variant: number): number {\n        for (let col = 0; col < this.cols; col++) {\n            if (this.get(row, col) === variant)\n                return col;\n        }\n        return -1;\n    }\n\n    isSolvable(hints: Hint[]) {\n        let multiBoard = MultiBoard.full(this.options);\n        multiBoard.applyHints(hints);\n        return multiBoard.isSolved(this);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/board/SingleBoard.ts","import * as classNames from \"classnames\";\nimport * as _ from \"lodash\";\nimport {Component, h} from \"preact\";\nimport {AdjacentHint} from \"../puzzle/hint/AdjacentHint\";\nimport {BetweenHint} from \"../puzzle/hint/BetweenHint\";\nimport {DirectionHint} from \"../puzzle/hint/DirectionHint\";\nimport {Hint, HintType} from \"../puzzle/hint/Hint\";\nimport {SameColumnHint} from \"../puzzle/hint/SameColumnHint\";\nimport {LongTouchContextMenuHandler} from \"./helper/LongTouchContextMenuHandler\";\nimport \"./hints.less\";\nimport {IconComponent, LargeVariantIconComponent} from \"./IconComponents\";\n\ninterface VisibilityState {\n    visible: boolean;\n}\n\ninterface HintProps {\n    hint: Hint;\n}\n\nclass HintComponent extends Component<HintProps, VisibilityState> {\n    private contextMenuHandler = new LongTouchContextMenuHandler(() => this.onToggle());\n\n    constructor() {\n        super();\n        this.state = {\n            visible: true\n        };\n    }\n\n    componentWillReceiveProps(nextProps: HintProps) {\n        if (this.props.hint !== nextProps.hint) {\n            this.setState({\n                visible: true\n            });\n        }\n    }\n\n    private onToggle = () => {\n        this.setState(state => {\n            return {\n                visible: !state.visible\n            };\n        });\n    };\n\n    private renderTbody(props: HintProps) {\n        let hint = props.hint;\n        if (hint instanceof AdjacentHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row1} variant={hint.variant1}/>\n                        </td>\n                        <td>\n                            <IconComponent name=\"hint-adjacent\"/>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row2} variant={hint.variant2}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else if (hint instanceof BetweenHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row1} variant={hint.variant1}/>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.rowMiddle} variant={hint.variantMiddle}/>\n                            <div class=\"hint-between\">\n                                <IconComponent name=\"hint-between\"/>\n                            </div>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row2} variant={hint.variant2}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else if (hint instanceof DirectionHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.rowLeft} variant={hint.variantLeft}/>\n                        </td>\n                        <td>\n                            <IconComponent name=\"hint-direction\"/>\n                        </td>\n                        <td>\n                            <LargeVariantIconComponent row={hint.rowRight} variant={hint.variantRight}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else if (hint instanceof SameColumnHint) {\n            return (\n                <tbody>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row1} variant={hint.variant1}/>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <LargeVariantIconComponent row={hint.row2} variant={hint.variant2}/>\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        }\n        else\n            throw new Error(\"Unsupported hint type\");\n    }\n\n    render(props: HintProps, state: VisibilityState) {\n        return (\n            <div class={classNames({\n                \"hint-outer\": true,\n                \"hint-visible\": state.visible,\n                \"hint-hidden\": !state.visible\n            })} {...this.contextMenuHandler}>\n                <table class=\"hint\">\n                    {this.renderTbody(props)}\n                </table>\n            </div>\n        );\n    }\n}\n\nexport interface HintsProps {\n    hints: Hint[];\n}\n\nexport class HintsComponent extends Component<HintsProps, VisibilityState> {\n    constructor() {\n        super();\n        this.state = {\n            visible: true\n        };\n    }\n\n    componentWillReceiveProps(nextProps: HintsProps) {\n        if (this.props.hints !== nextProps.hints) {\n            this.setState({\n                visible: true\n            });\n        }\n    }\n\n    private onToggle = (e) => {\n        this.setState(state => {\n            return {\n                visible: !state.visible\n            };\n        });\n    };\n\n    render(props: HintsProps, state: VisibilityState) {\n        return (\n            <div class=\"hints\">\n                <button class=\"button-toggle\" onClick={this.onToggle}>Toggle</button>\n                <div class={classNames({\n                    \"hints-horizontal\": true,\n                    \"hints-visible\": state.visible,\n                    \"hints-hidden\": !state.visible\n                })}>\n                    {_.map(_.filter(props.hints, hint => hint.getType() === HintType.Horizontal), hint =>\n                        <HintComponent hint={hint}/>\n                    )}\n                    {/*<div class=\"hints-vertical\">*/}\n                        {_.map(_.filter(props.hints, hint => hint.getType() === HintType.Vertical), hint =>\n                            <HintComponent hint={hint}/>\n                        )}\n                    {/*</div>*/}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/HintsComponent.tsx","module.exports = __webpack_public_path__ + \"icons/original/small/small-f5.72cc42d0d642b89a43f7d5dae38777d0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f5.png\n// module id = MjYr\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a6.4ac50d73cecffe7683129cb537280e02.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a6.png\n// module id = N7YA\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a2.b09094efecdd9eb43f5c9d816a1fe4e3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a2.png\n// module id = NhLW\n// module chunks = app","import {Component, h} from \"preact\";\nimport \"./icons.less\";\n\n// https://webpack.js.org/guides/dependency-management/#context-module-api\nlet cache = {};\n\nfunction importAll (r) {\n    r.keys().forEach(key => cache[key] = r(key));\n}\n\nimportAll(require.context('./', true, /\\.png$/));\n\n\nexport interface IconProps {\n    name: string;\n}\n\nexport class IconComponent extends Component<IconProps, any> {\n    render(props: IconProps) {\n        return (\n            <img class=\"icon\" src={cache[`./icons/original/${props.name}.png`]}/>\n        );\n    }\n}\n\nexport interface VariantIconProps {\n    row: number;\n    variant: number;\n}\n\nexport class LargeVariantIconComponent extends Component<VariantIconProps, any> {\n    render(props: VariantIconProps) {\n        return (\n            <IconComponent name={`large/large-${(props.row + 10).toString(16)}${props.variant + 1}`}/>\n        );\n    }\n}\n\nexport class SmallVariantIconComponent extends Component<VariantIconProps, any> {\n    render(props: VariantIconProps) {\n        return (\n            <IconComponent name={`small/small-${(props.row + 10).toString(16)}${props.variant + 1}`}/>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/IconComponents.tsx","module.exports = __webpack_public_path__ + \"icons/original/hint-direction.2a6b9db9707be05efc146cbd8e571e2b.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-direction.png\n// module id = Op0r\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e5.46811d66ca231366ab2e44b4de32bee7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e5.png\n// module id = P2+R\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d3.87d7030770383023603c79700050ee58.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d3.png\n// module id = PWPq\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a1.d73d5dfe6e49493fa72128c7d36eca4e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a1.png\n// module id = QP0S\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-f6.2f7d8a98586b23b3f348bef4350bf4f7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f6.png\n// module id = QfaF\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/hint-adjacent.7b5864dbf0656526063d96f271c1e5fc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-adjacent.png\n// module id = Qj03\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b3.65f5bcb765e8dc6f37ec5174e112cea4.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b3.png\n// module id = RUP8\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e4.07420566e5a63e3313fa48704100c22f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e4.png\n// module id = SAo3\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e1.abbe71866b879431f7d1ec2f736260f3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e1.png\n// module id = SCQN\n// module chunks = app","import * as classNames from \"classnames\";\nimport Dexie from \"dexie\";\nimport * as _ from \"lodash\";\nimport * as Package from \"package.json\";\nimport {Component, h} from \"preact\";\nimport {Puzzle, PuzzleOptions} from \"../puzzle/Puzzle\";\nimport {Config} from \"../storage/Config\";\nimport {Counts} from \"../storage/Counts\";\nimport {Times} from \"../storage/Times\";\nimport {formatDuration} from \"../time\";\nimport {Timer} from \"../Timer\";\nimport \"./app.less\";\nimport {HighscoreComponent} from \"./HighscoreComponent\";\nimport {HintsComponent} from \"./HintsComponent\";\nimport {MultiBoardComponent} from \"./MultiBoardComponent\";\nimport {formatOptions} from \"./PuzzleOptionsUtils\";\nimport {TimerComponent} from \"./TimerComponent\";\nimport {VisibilityChangeListener} from \"./helper/VisibilityChangeListener\";\nimport {MessageUnloadListener} from \"./helper/MessageUnloadListener\";\nimport {BirthdayComponent} from \"./BirthdayComponent\";\nimport {OptionsComponent} from \"./OptionsComponent\";\n\nexport enum GameState {\n    Options,\n    Highscore,\n    Playing,\n    ManualPaused,\n    AutoPaused,\n    Solved,\n    Over,\n}\n\ninterface AppState {\n    options: PuzzleOptions;\n    puzzle: Puzzle;\n    gameState: GameState;\n    cheated: number;\n    defaultName?: string;\n}\n\nexport class AppComponent extends Component<{}, AppState> {\n    private timer = new Timer();\n    private visibilityChange: VisibilityChangeListener;\n    private messageUnload: MessageUnloadListener;\n\n    private static readonly defaultOptions: PuzzleOptions = {\n        rows: 6,\n        cols: 6,\n        extraHintsPercent: 0\n    };\n\n    constructor() {\n        super();\n        this.state = {\n            options: AppComponent.defaultOptions,\n            puzzle: Puzzle.generate(AppComponent.defaultOptions), // TODO: don't generate puzzle before setting options\n            gameState: GameState.Options,\n            cheated: 0\n        };\n        this.visibilityChange = new VisibilityChangeListener(this.onVisibilityChange);\n        this.messageUnload = new MessageUnloadListener(this.onMessageUnload);\n\n        Config.get().then(config => {\n            this.setState(state => _.assignWith(state, {\n                options: config.options,\n                defaultName: config.name\n            }, (stateValue, sourceValue) => _.isUndefined(sourceValue) ? stateValue : sourceValue));\n        });\n    }\n\n    componentDidMount() {\n        this.visibilityChange.add();\n        this.messageUnload.add();\n    }\n\n    componentWillUnmount() {\n        this.visibilityChange.remove();\n        this.messageUnload.remove();\n    }\n\n    private onClickNewGame = (e) => {\n        this.setState({\n            gameState: GameState.Options,\n            cheated: 0\n        });\n        this.timer.reset();\n    };\n\n    private onClickPause = (e) => {\n        if (this.state.gameState === GameState.Playing) {\n            this.timer.pause();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.ManualPaused\n            }));\n        }\n    };\n\n    private onClickResume = (e) => {\n        if (this.state.gameState === GameState.ManualPaused || this.state.gameState === GameState.AutoPaused) {\n            this.timer.start();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.Playing\n            }));\n        }\n    };\n\n    private onClickCheat = (e) => {\n        if (this.state.gameState === GameState.Playing) {\n            this.setState((state: AppState) => {\n                let changed = state.puzzle.applySingleHint();\n                return _.merge(state, {\n                    cheated: state.cheated + (changed ? 1 : 0)\n                });\n            }, this.refresh);\n        }\n    };\n\n    private onVisibilityChange = visible => {\n        if (visible && this.state.gameState === GameState.AutoPaused) {\n            this.timer.start();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.Playing\n            }));\n        }\n        else if (!visible && this.state.gameState === GameState.Playing) {\n            this.timer.pause();\n            this.setState(state => _.merge(state, {\n                gameState: GameState.AutoPaused\n            }));\n        }\n    };\n\n    private onMessageUnload = () => {\n        switch (this.state.gameState) {\n            case GameState.Playing:\n            case GameState.ManualPaused:\n            case GameState.AutoPaused:\n                return \"Are you sure you want to leave while the game is in progress?\";\n\n            default:\n                return null;\n        }\n    };\n\n    private submitOptions = (options: PuzzleOptions) => {\n        this.configOptions(options);\n        this.setState({\n            puzzle: Puzzle.generate(options),\n            gameState: GameState.Playing,\n            cheated: 0\n        }, () => {\n            this.timer.start();\n        });\n    };\n\n    private highscoreOptions = (options: PuzzleOptions) => {\n        this.configOptions(options);\n        this.setState({\n            gameState: GameState.Highscore\n        });\n    };\n\n    private configOptions(options: PuzzleOptions) {\n        this.setState({\n            options: options\n        });\n        Config.set({\n            options: options\n        });\n    }\n\n    private configDefaultName(name: string): Promise<string> {\n        return Dexie.Promise.all([\n            new Dexie.Promise((resolve, reject) => {\n                this.setState({\n                    defaultName: name\n                }, () => resolve(name));\n            }),\n            Config.set({\n                name: name\n            })\n        ]).then(() => name);\n    }\n\n    private refresh = () => {\n        if (this.state.gameState === GameState.Playing) {\n            let puzzle = this.state.puzzle;\n            if (puzzle.isSolved()) {\n                this.timer.pause();\n                let time = this.timer.getTotalTime();\n                this.setState(state => _.merge(state, {\n                    gameState: GameState.Solved\n                }), () => {\n                    let options = puzzle.options;\n                    let cheated = this.state.cheated;\n                    Counts.increase(options, cheated ? \"solvedCheated\" : \"solved\");\n\n                    let cheatedText = cheated > 0 ? ` by cheating ${cheated} times` : \"\";\n                    alert(`Solved ${formatOptions(options)} in ${formatDuration(time)}${cheatedText}!`);\n\n                    if (!cheated) {\n                        Times.isInTop10(options, time).then<string | undefined>(isInTop10 => {\n                            let name;\n                            if (isInTop10 !== false &&\n                                (name = prompt(`Enter name for ${isInTop10 + 1}. place in high scores:`, this.state.defaultName)) !== null)\n                                return this.configDefaultName(name);\n                            else\n                                return undefined;\n                        }).then(name =>\n                            Times.add(options, time, name)\n                        );\n                    }\n                });\n            }\n            else if (puzzle.isOver()) {\n                this.timer.pause();\n                this.setState(state => _.merge(state, {\n                    gameState: GameState.Over\n                }), () => {\n                    Counts.increase(puzzle.options, \"over\");\n\n                    alert(\"Over!\");\n                });\n            }\n        }\n    };\n\n    render(props, state: AppState) {\n        let solvedOrOver = state.gameState === GameState.Solved || state.gameState === GameState.Over;\n        let showBoard = solvedOrOver ? state.puzzle.singleBoard : undefined;\n        return (\n            <div class={classNames({\n                \"app\": true,\n                \"paused\": state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused,\n                \"solved\": state.gameState === GameState.Solved,\n                \"over\": state.gameState === GameState.Over,\n                \"cheated\": state.cheated > 0\n            })}>\n                <div class=\"app-top\">\n                    <div class=\"header\">\n                        <div class=\"brand\">\n                            <a href=\"http://einstein.sim642.eu\" title={`einstein-js ${Package.version}`}>einstein-js</a> <small>by <a href=\"https://github.com/sim642/einstein-js\">sim642</a></small>\n                        </div>\n\n                        <div class=\"buttons buttons-responsive\">\n                            <button class={classNames({\n                                \"button-highlight\": solvedOrOver || state.gameState === GameState.Highscore\n                            })} onClick={this.onClickNewGame}>New game</button>\n                            <button disabled={state.gameState !== GameState.Playing} onClick={this.onClickCheat}>\n                                Cheat {\n                                    state.cheated > 0 ?\n                                        <span class=\"badge\">{state.cheated}</span> :\n                                        null\n                                }\n                            </button>\n                            {\n                                state.gameState === GameState.ManualPaused || state.gameState === GameState.AutoPaused ?\n                                    <button class=\"button-highlight\" onClick={this.onClickResume}>Resume</button> :\n                                    <button disabled={state.gameState !== GameState.Playing} onClick={this.onClickPause}>Pause</button>\n                            }\n                        </div>\n\n                        <TimerComponent timer={this.timer}/>\n                    </div>\n                    <BirthdayComponent month={10} day={22} name=\"Elisabeth\"/>\n                    {\n                        state.gameState === GameState.Options ?\n                            <OptionsComponent options={state.options} submit={this.submitOptions} highscore={this.highscoreOptions} defaultOptions={AppComponent.defaultOptions}/> :\n                            state.gameState === GameState.Highscore ?\n                                <HighscoreComponent options={state.options}/> :\n                                <MultiBoardComponent board={state.puzzle.multiBoard} refresh={this.refresh} showBoard={showBoard}/>\n                    }\n                </div>\n                {\n                    state.gameState !== GameState.Options && state.gameState !== GameState.Highscore ?\n                        <HintsComponent hints={state.puzzle.hints}/> :\n                        null\n                }\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/AppComponent.tsx","module.exports = __webpack_public_path__ + \"icons/original/large/large-a5.e5df7839ecedea6b66da59aa3ece9ba8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a5.png\n// module id = TeOI\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b1.67391202fba98a1797a9c666a9f2d723.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b1.png\n// module id = UBU4\n// module chunks = app","import * as _ from \"lodash\";\nimport {MultiBoard} from \"../board/MultiBoard\";\nimport {SingleBoard} from \"../board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./Hint\";\n\nexport class DirectionHint implements Hint {\n    constructor(public rowLeft: number, public variantLeft: number, public rowRight: number, public variantRight: number) {\n\n    }\n\n    applyTo(board: MultiBoard): boolean {\n        let changed = false;\n\n        for (let col = 0; col < board.cols; col++) {\n            if (board.isPossible(this.rowRight, col, this.variantRight)) {\n                board.remove(this.rowRight, col, this.variantRight);\n                changed = true;\n            }\n            if (board.isPossible(this.rowLeft, col, this.variantLeft))\n                break;\n        }\n\n        for (let col = board.cols - 1; col >= 0; col--) {\n            if (board.isPossible(this.rowLeft, col, this.variantLeft)) {\n                board.remove(this.rowLeft, col, this.variantLeft);\n                changed = true;\n            }\n            if (board.isPossible(this.rowRight, col, this.variantRight))\n                break;\n        }\n\n        return changed;\n    }\n\n    getType(): HintType {\n        return HintType.Horizontal;\n    }\n}\n\nexport class DirectionHintFactory implements HintFactory {\n    random(board: SingleBoard): DirectionHint {\n        let rowLeft = _.random(0, board.rows - 1);\n        let colLeft = _.random(0, board.cols - 2);\n        let rowRight = _.random(0, board.rows - 1);\n        let colRight = _.random(colLeft + 1, board.cols - 1);\n        return new DirectionHint(rowLeft, board.get(rowLeft, colLeft), rowRight, board.get(rowRight, colRight));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/hint/DirectionHint.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-c3.82043ba3661fa5a9afc87cf0c1d9f917.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c3.png\n// module id = XjqR\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e4.967aa445a182fda8b3261d4612d3a3fc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e4.png\n// module id = XnXw\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e6.60a05543c24485dc78b1cb4f47c306be.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e6.png\n// module id = YFuY\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b5.746416be364e3c33aacd6055c476fbc5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b5.png\n// module id = YKaq\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b6.0b3f448c498b70903671a4bc69efde0d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b6.png\n// module id = Z31m\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f1.2d3e9386d0328114e71184f6946f14b6.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f1.png\n// module id = ZNit\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e1.b1cd43842afa4b29b592e9ac499769ca.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e1.png\n// module id = ZvN9\n// module chunks = app","import * as _ from \"lodash\";\nimport {Component, h} from \"preact\";\nimport \"./options.less\";\nimport {PuzzleOptions} from \"../puzzle/Puzzle\";\nimport {Config} from \"../storage/Config\";\nimport {Times} from \"../storage/Times\";\n\ninterface RangeProps {\n    value: number;\n    min: number;\n    max: number;\n    step?: number;\n    onChange: (value: number) => void;\n    id?: string;\n    unit?: string;\n}\n\nclass InputRangeComponent extends Component<RangeProps, {}> {\n    private onChange = (e) => {\n        e.preventDefault();\n\n        let value = parseInt(e.target.value);\n        this.props.onChange(value);\n    };\n\n    render(props: RangeProps) {\n        let listId = `${props.id}-list`;\n        return (\n            <span class=\"input input-range\">\n                <input type=\"range\" {...props} value={props.value.toString()} list={listId} onChange={this.onChange} onInput={this.onChange}/>\n                <output for={props.id}>{props.value}{props.unit}</output>\n\n                <datalist id={listId}>\n                    {_.map(_.range(props.min, props.max + 1, props.step), value =>\n                        <option value={value.toString()}/>\n                    )}\n                </datalist>\n            </span>\n        );\n    }\n}\n\nexport interface OptionsProps {\n    options: PuzzleOptions;\n    submit: (PuzzleOptions) => void;\n    highscore: (PuzzleOptions) => void;\n    defaultOptions: PuzzleOptions;\n}\n\ninterface OptionsState {\n    options: PuzzleOptions;\n    hasTimes: boolean;\n}\n\nexport class OptionsComponent extends Component<OptionsProps, OptionsState> {\n    constructor(props: OptionsProps) {\n        super();\n        this.state = {\n            options: _.clone(props.options),\n            hasTimes: false\n        };\n        this.fetchHasTimes(props.options);\n    }\n\n    componentWillReceiveProps(nextProps: OptionsProps) {\n        if (!_.eq(this.props, nextProps)) {\n            this.setState({\n                options: _.clone(nextProps.options),\n                hasTimes: false\n            });\n            this.fetchHasTimes(nextProps.options);\n        }\n    }\n\n    private onChange(field: keyof PuzzleOptions) {\n        return (value: number) => {\n            this.setState(state => _.merge(state, {\n                options: {\n                    [field]: value // TODO: typecheck this,\n                },\n                hasTimes: false\n            }));\n            this.fetchHasTimes(this.state.options);\n            Config.set({\n                options: this.state.options\n            });\n        };\n    }\n\n    private fetchHasTimes(options: PuzzleOptions) {\n        Times.hasTimes(options).then(hasTimes => {\n            this.setState({\n                hasTimes: hasTimes\n            });\n        })\n    }\n\n    private onSubmit = (e) => {\n        e.preventDefault();\n        this.props.submit(this.state.options);\n    };\n\n    // No onReset on <form>\n    private onReset = (e) => {\n        e.preventDefault();\n        this.setState({\n            options: _.clone(this.props.defaultOptions),\n            hasTimes: false\n        });\n        this.fetchHasTimes(this.state.options);\n        Config.set({\n            options: this.state.options\n        });\n    };\n\n    private onHighscore = (e) => {\n        this.props.highscore(this.state.options);\n    };\n\n    render(props: OptionsProps, state: OptionsState) {\n        return (\n            <form class=\"options\" onSubmit={this.onSubmit}>\n                <div class=\"form-group\">\n                    <label for=\"option-rows\">Rows</label>\n                    <InputRangeComponent id=\"option-rows\" min={3} max={6} value={state.options.rows} onChange={this.onChange(\"rows\")}/>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"option-cols\">Columns</label>\n                    <InputRangeComponent id=\"option-cols\" min={3} max={6} value={state.options.cols} onChange={this.onChange(\"cols\")}/>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"option-extra-hints\">Extra hints</label>\n                    <InputRangeComponent id=\"option-extra-hints\" min={0} max={100} step={20} value={state.options.extraHintsPercent} onChange={this.onChange(\"extraHintsPercent\")} unit=\"%\"/>\n                </div>\n                <div class=\"form-group buttons\">\n                    <button type=\"reset\" onClick={this.onReset}>Reset</button>\n                    <button type=\"button\" disabled={!state.hasTimes} onClick={this.onHighscore}>High scores</button>\n                    <button class=\"button-highlight button-wide\" type=\"submit\">Play</button>\n                </div>\n            </form>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/OptionsComponent.tsx","export interface BoardOptions {\n    readonly rows: number;\n    readonly cols: number;\n}\n\nexport abstract class Board<T> {\n    constructor(private table: T[][], protected options: BoardOptions = {\n        rows: table.length,\n        cols: table[0].length\n    }) {\n\n    }\n\n    readonly rows: number = this.options.rows;\n    readonly cols: number = this.options.cols;\n    readonly variants: number = this.options.cols;\n\n    get(row: number, col: number): T {\n        return this.table[row][col];\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/board/Board.ts","module.exports = __webpack_public_path__ + \"icons/original/large/large-d1.4c6fc5e018efe828eb0a0a8136a8cc76.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d1.png\n// module id = cgSM\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-d5.ae2144db1de56afe0541c89db7a31463.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d5.png\n// module id = d6hy\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f6.d614ae0c9d5efd565ca308cd3435188e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f6.png\n// module id = dSmd\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e2.bba1807b4ac83d4a610aa663676e1204.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e2.png\n// module id = dcOB\n// module chunks = app","import {Component, h} from \"preact\";\nimport {formatDuration} from \"../time\";\nimport {Timer} from \"../Timer\";\n\nexport interface TimerProps {\n    timer: Timer;\n}\n\ninterface TimerState {\n    time: number;\n}\n\nexport class TimerComponent extends Component<TimerProps, TimerState> {\n    private interval: number | null = null;\n\n    constructor(props: TimerProps) {\n        super();\n        this.state = {\n            time: props.timer.getTotalTime()\n        };\n    }\n\n    componentWillReceiveProps(nextProps: TimerProps) {\n        this.setState({\n            time: nextProps.timer.getTotalTime()\n        });\n        this.setTimer();\n    }\n\n    componentDidMount() {\n        this.setTimer();\n    }\n\n    componentWillUnmount() {\n        this.clearTimer();\n    }\n\n    private clearTimer() {\n        if (this.interval !== null)\n            clearInterval(this.interval);\n    }\n\n    private setTimer() {\n        this.clearTimer();\n\n        setTimeout(() => {\n            this.interval = setInterval(() => {\n                this.setState({\n                    time: this.props.timer.getTotalTime()\n                });\n            }, 1000);\n        }, 0); // HACK: give enough delay to make interval fall between seconds and avoid second skipping\n    }\n\n    render(props: TimerProps, state: TimerState) {\n        return (\n            <div class=\"timer\">\n                {formatDuration(state.time)}\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/TimerComponent.tsx","import {TouchContextMenuHandler} from \"./Handler\";\n\nexport class LongTouchContextMenuHandler implements TouchContextMenuHandler {\n    private timeout: number;\n\n    private static touching: boolean = false;\n    private static readonly longTouchTime = 500;\n\n    constructor(public callback: () => void) {\n\n    }\n\n    // iOS long touch workaround\n    // https://stackoverflow.com/a/33778163\n    // https://jsfiddle.net/gianlucaguarini/56Szw/\n    // https://stackoverflow.com/a/33303261\n\n    onTouchStart = (e) => {\n        // console.debug(\"touchstart\");\n        LongTouchContextMenuHandler.touching = true;\n        this.timeout = setTimeout(() => {\n            console.log(\"longtouch\");\n            this.callback();\n        }, LongTouchContextMenuHandler.longTouchTime);\n    };\n\n    onTouchMove = (e) => {\n        // console.debug(\"touchmove\");\n        clearTimeout(this.timeout);\n    };\n\n    onTouchEnd = (e) => {\n        // console.debug(\"touchend\");\n        LongTouchContextMenuHandler.touching = false;\n        clearTimeout(this.timeout);\n    };\n\n    onTouchCancel = (e) => {\n        // console.debug(\"touchcancel\");\n        LongTouchContextMenuHandler.touching = false;\n        clearTimeout(this.timeout);\n    };\n\n    onContextMenu = (e) => {\n        e.preventDefault();\n        if (!LongTouchContextMenuHandler.touching) // prevent double-triggering if context menu opens after long touch\n            this.callback();\n    };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/helper/LongTouchContextMenuHandler.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-b5.39e97e63457f6a5ef329ce7a1f329d47.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b5.png\n// module id = fZOX\n// module chunks = app","import {PuzzleOptions} from \"../puzzle/Puzzle\";\n\nexport function formatOptions(options: PuzzleOptions): string {\n    let extraHintsText = options.extraHintsPercent > 0 ? ` with ${options.extraHintsPercent}% extra hints` : \"\";\n    return `${options.rows}${options.cols} puzzle${extraHintsText}`;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/PuzzleOptionsUtils.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-c2.488e286fbc404fc350cc0e4def122c83.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c2.png\n// module id = gBE2\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f3.0070d3861e60350f291165d89028d7d1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f3.png\n// module id = gVWB\n// module chunks = app","import * as _ from \"lodash\";\nimport {SingleBoard} from \"./board/SingleBoard\";\nimport {AdjacentHintFactory} from \"./hint/AdjacentHint\";\nimport {BetweenHintFactory} from \"./hint/BetweenHint\";\nimport {DirectionHintFactory} from \"./hint/DirectionHint\";\nimport {Hint, HintFactory} from \"./hint/Hint\";\nimport {OpenHintFactory} from \"./hint/OpenHint\";\nimport {SameColumnHintFactory} from \"./hint/SameColumnHint\";\n\nexport class RandomHintFactory implements HintFactory {\n    random(board: SingleBoard): Hint {\n        let hintFactory: HintFactory;\n        // hint frequency distribution from original einstein 2.0\n        switch (_.random(0, 14 - 1)) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n                hintFactory = new AdjacentHintFactory();\n                break;\n\n            case 4:\n                hintFactory = new OpenHintFactory();\n                break;\n\n            case 5:\n            case 6:\n                hintFactory = new SameColumnHintFactory();\n                break;\n\n            case 7:\n            case 8:\n            case 9:\n            case 10:\n                hintFactory = new DirectionHintFactory();\n                break;\n\n            case 11:\n            case 12:\n            case 13:\n                hintFactory = new BetweenHintFactory();\n                break;\n\n            // istanbul ignore next: impossible case\n            default:\n                throw new Error(\"Unhandled random HintFactory value\");\n        }\n        return hintFactory.random(board);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/RandomHint.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-d6.83aaeda6a3e029931af97f484755879f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d6.png\n// module id = hFVX\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-e5.b1fdec84ea77accaea3f9a52908d69f3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-e5.png\n// module id = hli+\n// module chunks = app","import * as _ from \"lodash\";\nimport {BoardOptions} from \"./board/Board\";\nimport {MultiBoard} from \"./board/MultiBoard\";\nimport {SingleBoard} from \"./board/SingleBoard\";\nimport {Hint, HintFactory, HintType} from \"./hint/Hint\";\nimport {RandomHintFactory} from \"./RandomHint\";\n\nexport interface PuzzleOptions extends BoardOptions {\n    readonly extraHintsPercent: number;\n}\n\nexport class Puzzle {\n    public multiBoard: MultiBoard;\n\n    constructor(public singleBoard: SingleBoard, public hints: Hint[], public readonly options: PuzzleOptions) {\n        this.multiBoard = MultiBoard.full(options);\n        this.multiBoard.applyHints(_.filter(hints, hint => hint.getType() === HintType.Start));\n    }\n\n    isSolved(): boolean {\n        return this.multiBoard.isSolved(this.singleBoard);\n    }\n\n    isOver(): boolean {\n        return !this.multiBoard.contains(this.singleBoard);\n    }\n\n    applySingleHint(): boolean {\n        return this.multiBoard.applySingleHint(_.filter(this.hints, hint => hint.getType() !== HintType.Start));\n    }\n\n    static generate(options: PuzzleOptions): Puzzle {\n        let board = SingleBoard.random(options);\n        let hints = Puzzle.generateHints(board);\n        hints = Puzzle.pruneHints(board, hints);\n        hints = Puzzle.generateExtraHints(options, board, hints);\n        return new Puzzle(board, hints, options);\n    }\n\n    private static hintFactory: HintFactory = new RandomHintFactory();\n\n    private static generateHints(board: SingleBoard): Hint[] {\n        let hints: Hint[] = [];\n        while (!board.isSolvable(hints)) {\n            let hint = Puzzle.hintFactory.random(board);\n            hints.push(hint);\n        }\n        return hints;\n    }\n\n    private static pruneHints(board: SingleBoard, hints: Hint[]): Hint[] {\n        hints = _.clone(hints);\n        console.debug(`Before pruneHints: ${hints.length}`);\n        let changed: boolean;\n        do {\n            changed = false;\n            for (let i = 0; i < hints.length; i++) {\n                let hint = hints.splice(i, 1)[0];\n                if (board.isSolvable(hints)) {\n                    changed = true;\n                    break;\n                }\n                else\n                    hints.splice(i, 0, hint);\n            }\n        } while (changed);\n        console.debug(`After pruneHints: ${hints.length}`);\n        return hints;\n    }\n\n    private static generateExtraHints(options: PuzzleOptions, board: SingleBoard, hints: Hint[]): Hint[] {\n        hints = _.clone(hints);\n        let extraHints = Math.round((options.extraHintsPercent / 100) * hints.length);\n        console.debug(`Adding extra hints: ${extraHints}`);\n        for (let i = 0; i < extraHints; i++) {\n            let hint = Puzzle.hintFactory.random(board);\n            hints.push(hint);\n        }\n        return hints;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle/Puzzle.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-d4.465fbcbda569f002956eff6dbc525fba.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d4.png\n// module id = iXl1\n// module chunks = app","module.exports = __webpack_public_path__ + \"./rain.0d05874e0f2cdd3a51985dd895f01fd0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/rain.png\n// module id = kCQN\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c1.857515213e12574db6ea3b7694015dd8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c1.png\n// module id = kbZK\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e6.f63290d00dca1fb50b97a7749bbc6fdc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e6.png\n// module id = lgdU\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c4.83eef6ef77656276b988cffc6dd1b2dd.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c4.png\n// module id = mGEC\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b6.29228909139aed0e29c1e0d248fdc8b1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b6.png\n// module id = mPGt\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-c3.8ecb4d1c7b95cff1b3f7a4e3e0342ad0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-c3.png\n// module id = mcFw\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a2.e58c4d7d4ca282f01f1842de56fcc204.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a2.png\n// module id = nVYH\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d2.9a9e2546ef2de2aed7b9cafca1e574a4.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d2.png\n// module id = oD70\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c6.b70b863014dd77f1444a4f5dcfaf937d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c6.png\n// module id = oJmq\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c2.c8ea002cb52b8a2bb2391a8a599a1be2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c2.png\n// module id = oXIE\n// module chunks = app","import {Component, h} from \"preact\";\nimport \"./birthday.less\";\n\nexport interface BirthdayProps {\n    month: number;\n    day: number;\n    name: string;\n}\n\nexport class BirthdayComponent extends Component<BirthdayProps, any> {\n    render(props: BirthdayProps) {\n        let now = new Date();\n        if (now.getMonth() + 1 == props.month && now.getDate() == props.day) { // JS month is 0-indexed, date is 1-indexed\n            return (\n                <div class=\"birthday\">\n                    <p>\n                        Happy birthday, {props.name}!\n                    </p>\n                </div>\n            );\n        }\n        else\n            return null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/BirthdayComponent.tsx","module.exports = __webpack_public_path__ + \"icons/original/small/small-a6.b74ac4a06b9b99cdebadc188e6f2eba7.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a6.png\n// module id = pqg3\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-d6.3707649a76849867b0067b33cee2f45a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-d6.png\n// module id = q9gS\n// module chunks = app","import {Component, h, render} from \"preact\";\nimport {AppComponent} from \"./web/AppComponent\";\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\nimport {VisibilityChangeListener} from \"./web/helper/VisibilityChangeListener\";\n\nconsole.log(\"-------\");\n\nOfflinePluginRuntime.install();\n\n// import \"preact/devtools\";\n\nrender(<AppComponent/>, document.body);\n\n/*var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;\nalert(width);*/\n\n\n/*\nlet listener = new VisibilityChangeListener(visible => console.log(`Visibility ${visible} ${document.visibilityState}`));\nlistener.add();*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","module.exports = __webpack_public_path__ + \"icons/original/small/small-a1.7ec6461d1c92b8cd2af53465e9b35cfc.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a1.png\n// module id = qpPT\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/hint-tile.fef2ac154678271b433d05cac0e1e766.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/hint-tile.png\n// module id = qwlA\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-b4.5539a0f576453510700b7e1ac8ac62c2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-b4.png\n// module id = romA\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-c5.649a708fdfe3823d8ad66395bf760461.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-c5.png\n// module id = rxGk\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f5.23ad85abc671b650c4fab087327177b8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f5.png\n// module id = t+UZ\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-e2.2a6f0dc9158e2248beb5da27abf58387.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-e2.png\n// module id = uLm8\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a5.a7e023b76efb421fce243698ec5c1172.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a5.png\n// module id = uVvn\n// module chunks = app","import * as _ from \"lodash\";\nimport {PuzzleOptions} from \"../puzzle/Puzzle\";\nimport {db} from \"./db\";\n\nexport interface TimesItem extends PuzzleOptions {\n    time: number;\n    date: Date;\n    name?: string;\n}\n\nexport namespace Times {\n    export function addItem(timesItem: TimesItem) {\n        return db.times.add(timesItem);\n    }\n\n    export function add(options: PuzzleOptions, time: number, name?: string) {\n        let timesItem = {\n            ...options,\n            time: time,\n            date: new Date(),\n            name: name\n        };\n        return addItem(timesItem);\n    }\n\n    export function getSortedTimes(options: PuzzleOptions): Promise<TimesItem[]> {\n        return db.times.where({...options}).sortBy(\"time\");\n    }\n\n    export function getTop10(options: PuzzleOptions): Promise<TimesItem[]> {\n        return getSortedTimes(options).then(timesItems =>\n            _.take(timesItems, 10)\n        );\n    }\n\n    export function isInTop10(options: PuzzleOptions, time: number): Promise<false | number> {\n        return getSortedTimes(options).then(timesItems => {\n            if (timesItems.length < 10 || time < timesItems[10 - 1].time)\n                return _.sortedIndexBy(timesItems.slice(0, 10), {time: time}, timesItem => timesItem.time);\n            else\n                return false;\n        });\n    }\n\n    export function hasTimes(options: PuzzleOptions): Promise<boolean> {\n        return db.times.where({...options}).count(count => count > 0);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/storage/Times.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-f1.cf4eb2f72546034b67c7e387426aab1f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f1.png\n// module id = voAe\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-b2.f088bd5349ae94f3aecf2256a2a41f9a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-b2.png\n// module id = w35o\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-a3.b5693ec5ce8e44c2ab79da7d22e419c0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-a3.png\n// module id = x5BK\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-d2.f554d768eed7fb9c2ac1361d80a08e82.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-d2.png\n// module id = xDob\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/small/small-f2.1214cc29cc865a50e028b884cf34173d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f2.png\n// module id = xFS2\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f4.43276b459501e836f1928103bcbdc92c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f4.png\n// module id = yFfv\n// module chunks = app","import {Listener} from \"./Listener\";\n\ndeclare global {\n    interface Document {\n        readonly mozHidden: boolean;\n        readonly webkitHidden: boolean;\n        readonly msHidden: boolean;\n        onfocusin;\n        onfocusout;\n    }\n}\n\nexport class VisibilityChangeListener implements Listener {\n    private visible: boolean = true;\n\n    constructor(public callback: (visible: boolean) => void) {\n\n    }\n\n    private focused = () => {\n        // console.debug(`focused ${document.visibilityState}`);\n        if (!this.visible)\n            this.callback(this.visible = true);\n    };\n\n    private unfocused = () => {\n        // console.debug(`unfocused ${document.visibilityState}`);\n        if (this.visible)\n            this.callback(this.visible = false);\n    };\n\n    add(): void {\n        // https://stackoverflow.com/a/38710376\n\n        // Standards:\n        if ('hidden' in document) {\n            document.addEventListener('visibilitychange',\n                () => {(document.hidden ? this.unfocused : this.focused)()});\n        }\n        if ('mozHidden' in document) {\n            document.addEventListener('mozvisibilitychange',\n                () => {(document.mozHidden ? this.unfocused : this.focused)()});\n        }\n        if ('webkitHidden' in document) {\n            document.addEventListener('webkitvisibilitychange',\n                () => {(document.webkitHidden ? this.unfocused : this.focused)()});\n        }\n        if ('msHidden' in document) {\n            document.addEventListener('msvisibilitychange',\n                () => {(document.msHidden ? this.unfocused : this.focused)()});\n        }\n        // IE 9 and lower:\n        if ('onfocusin' in document) {\n            document.onfocusin = this.focused;\n            document.onfocusout = this.unfocused;\n        }\n        // All others:\n        window.onpageshow = window.onfocus = this.focused;\n        window.onpagehide = window.onblur = this.unfocused;\n\n        // TODO: initial visibility check like https://stackoverflow.com/a/1060034\n    }\n\n    remove(): void {\n        // TODO: remove listeners\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/helper/VisibilityChangeListener.ts","module.exports = __webpack_public_path__ + \"icons/original/small/small-f4.fa8fa0e7c09873297312ed5082eac413.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/small/small-f4.png\n// module id = yNUn\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-a4.30bcbdd3b26849030d9f7756c19d6a98.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-a4.png\n// module id = ytF8\n// module chunks = app","module.exports = __webpack_public_path__ + \"icons/original/large/large-f2.ebac4e572194ab532410773494ed9c4e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/icons/original/large/large-f2.png\n// module id = zU+P\n// module chunks = app","import * as classNames from \"classnames\";\nimport * as _ from \"lodash\";\nimport {Component, h} from \"preact\";\nimport {MultiBoard} from \"../puzzle/board/MultiBoard\";\nimport {Puzzle} from \"../puzzle/Puzzle\";\nimport {LongTouchContextMenuHandler} from \"./helper/LongTouchContextMenuHandler\";\nimport {LargeVariantIconComponent, SmallVariantIconComponent} from \"./IconComponents\";\nimport \"./multiboard.less\";\nimport {SingleBoard} from \"../puzzle/board/SingleBoard\";\n\ntype Refresh = () => void;\n\nclass SingleCellComponent extends Component<VariantProps, any> {\n    render(props: VariantProps) {\n        return (\n            <div class=\"cell-single\">\n                <LargeVariantIconComponent row={props.row} variant={props.variant}/>\n            </div>\n        );\n    }\n}\n\nclass VariantVariantMultiCellComponent extends Component<VariantProps, any> {\n    private contextMenuHandler = new LongTouchContextMenuHandler(() => this.remove());\n\n    private set() {\n        this.props.board.set(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    }\n\n    private remove() {\n        this.props.board.remove(this.props.row, this.props.col, this.props.variant);\n        this.props.refresh();\n    }\n\n    private onClick = (e) => {\n        this.set();\n    };\n\n    render(props: VariantProps) {\n        return (\n            <div class=\"cell-multi-variant\" onClick={this.onClick} {...this.contextMenuHandler}>\n                <SmallVariantIconComponent row={props.row} variant={props.variant}/>\n            </div>\n        );\n    }\n}\n\nclass EmptyVariantMultiCellComponent extends Component<VariantProps, any> {\n    render(props: VariantProps) {\n        return (\n            <div class=\"cell-multi-empty\"/>\n        );\n    }\n}\n\ninterface VariantProps extends CellProps {\n    variant: number;\n}\n\nclass VariantMultiCellComponent extends Component<VariantProps, any> {\n    render(props: VariantProps) {\n        if (props.variant < props.board.variants &&\n            props.board.isPossible(props.row, props.col, props.variant))\n            return <VariantVariantMultiCellComponent {...props}/>;\n        else\n            return <EmptyVariantMultiCellComponent {...props}/>;\n    }\n}\n\nclass MultiCellComponent extends Component<CellProps, any> {\n    render(props: CellProps) {\n        let variantCols = Math.ceil(Math.sqrt(props.board.variants));\n        let variantRows = Math.ceil(props.board.variants / variantCols);\n        return (\n            <table class=\"cell-multi\">\n                {_.times(variantRows, variantRow =>\n                    <tr>\n                        {_.times(variantCols, variantCol =>\n                            <td>\n                                <VariantMultiCellComponent {...props} variant={variantRow * variantCols + variantCol}/>\n                            </td>\n                        )}\n                    </tr>\n                )}\n            </table>\n        )\n    }\n}\n\ninterface CellProps extends RowProps {\n    col: number;\n}\n\nclass CellComponent extends Component<CellProps, any> {\n    private onContextMenu = (e) => {\n        e.preventDefault();\n    };\n\n    render(props: CellProps) {\n        if (props.showBoard) {\n            let correct = props.board.isSingle(props.row, props.col) && props.board.getSingle(props.row, props.col) == props.showBoard.get(props.row, props.col);\n            return (\n                <td class={classNames({\n                    \"cell-correct\": correct,\n                    \"cell-incorrect\": !correct\n                })}>\n                    <div class=\"cell\" onContextMenu={this.onContextMenu}>\n                        <SingleCellComponent {...props} variant={props.showBoard.get(props.row, props.col)}/>\n                    </div>\n                </td>\n            )\n        }\n        else {\n            return (\n                <td>\n                    <div class=\"cell\" onContextMenu={this.onContextMenu}>\n                        {\n                            props.board.isSingle(props.row, props.col) ?\n                                <SingleCellComponent {...props} variant={props.board.getSingle(props.row, props.col)}/> :\n                                <MultiCellComponent {...props}/>\n                        }\n                    </div>\n                </td>\n            )\n        }\n    }\n}\n\ninterface RowProps extends MultiBoardProps {\n    row: number;\n}\n\nclass RowComponent extends Component<RowProps, any> {\n    private refresh: Refresh = () => {\n        this.forceUpdate();\n        this.props.refresh();\n    };\n\n    render(props: RowProps) {\n        return (\n            <tr>\n                {_.times(props.board.cols, col =>\n                    <CellComponent {...props} col={col} refresh={this.refresh}/>\n                )}\n            </tr>\n        );\n    }\n}\n\nexport interface MultiBoardProps {\n    board: MultiBoard;\n    refresh: Refresh;\n    showBoard?: SingleBoard;\n}\n\nexport class MultiBoardComponent extends Component<MultiBoardProps, any> {\n    render(props: MultiBoardProps) {\n        let board = props.board;\n\n        let data = {\n            \"data-rows\": board.rows,\n            \"data-cols\": board.cols\n        };\n\n        return (\n            <div class=\"multiboard-outer\" {...data}>\n                <table class=\"multiboard\" {...data}>\n                    {_.times(board.rows, row =>\n                        <RowComponent {...props} row={row}/>\n                    )}\n                </table>\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web/MultiBoardComponent.tsx"],"sourceRoot":""}